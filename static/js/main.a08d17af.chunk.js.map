{"version":3,"sources":["App.js","index.js"],"names":["MacroStates","degToRad","angle","Math","pi","LoadJson","path","a","async","res","fetch","then","response","json","generateButtonPress","button","onTime","offTime","count","name","macro","PlayerButton","props","divStyle","background","iconStyle","selected","filter","className","id","style","onClick","e","clickHandler","src","alt","MacroButton","index","ProgressBar","width","percentage","KeyLog","key","ind","pressedKey","start","duration","CheckBox","state","handleChange","bind","event","this","onChange","paramKey","target","checked","type","React","Component","IntegerInput","value","min","currentTarget","max","parseInt","readOnly","readonly","DropDownList","options","map","string","toString","renderOptions","ParameterInput","active","params","parameters","daysToAdvance","eventHandler","dateFormat","getFirst","attempts","waitTime","eggCycles","ability","eggCharm","eggsInBox","InfoOverlay","display_style","display","show","sections","i","length","section","title","text","onMouseDown","onTouchStart","JSONManeger","segments","FstSkip","filename","object","FstSkipUS","FstSkipCHN","AdvDay","AdvDayUS","AdvDayCHN","LotoID","Universal","UniversalUS","UniversalCHN","OpenBox","SelectInBox","PlaceInBox","StartWonder","EndWonder","Hatching","entries","Object","loadedCount","segmentCount","loadConcluded","loadMacro","segment","console","log","JSON","parse","stringify","MacroBuilder","jsonM","icon","jsonManager","macroJSON","paramHandlers","info","handler","getMacro","concat","TimeSkipMacroBuilder","currentFormat","onDaysToAdvanceChange","onDateFormatChange","text1","days","format","concatToMacro","InitMacro","months","floor","total","AdvanceDay","Macro","LotoIDMacroBuilder","onAttemptsChange","onGetFirstChange","bool","counter","WonderBoxMacroBuilder","onCountChange","onWaitTimeChange","text2","time","column","row","dx","dy","ConcludeTrade","EggHatcherMacroBuilder","onEggCyclesChange","onHasAbilityChange","onHasEggCharmChange","onEggsInBoxChange","cycles","hatchCycles","cColumn","cRow","tColumn","tRow","eggsInParty","steps","sX","sY","cX","cY","InBoxSegment","HatchSegment","commands","onWait","runner","totalSteps","currentOverallStep","totalTime","j","subTotal","f","abort","reps","k","step","command","makeCommand","strength","reset","block","undefined","l","push","timedCommand","args","o","apply","next","x","coroutine","pressed","blocking","setTimeout","issueCommand","obj","clearTimeout","waitTimeout","seg","MacroPlayer","selectedMacro","playState","macroProgress","builders","macroCount","dirtyMacro","Array","fill","macros","selectMacro","changeParameter","concluded","buildMacro","Audio","play","currentMacro","isDirty","startRunner","macroState","dataArray","builder","getRenderData","build","macroBuilders","macroParamsDirty","checkLoadConcluded","runResult","done","progress","KeyLogger","keys","pendingLog","b","y","lsl","lsr","r","rsl","rsr","plus","minus","up","right","left","down","left_stick","right_stick","left_stick_dir","right_stick_dir","home","startTime","log_count","addLogEntry","entry","pressedKeys","Date","getTime","pressKey","releaseKey","render","keyData","keyLogs","App","onButtonEvent","parameterChange","toggleJoystick","clicks","macroPlayer","keyLogger","currentTime","displayInfo","UpdateTimerId","setInterval","update","clearInterval","setState","getMacroState","handleSwitchJoySticks","handleSwitchKeys","pause","getPressed","clear","joystick","window","joyconJS","onRightJoystick","onLeftJoystick","onMinus","onLeftJoystickPressed","onUp","onRight","onDown","onLeft","onL","onLeftSL","onLeftSR","onPlus","onA","onB","onX","onY","onR","onRightSL","onRightSR","onRightJoystickPressed","onHome","data","getAllMacroData","isSelected","getCurrentMacroData","renderPressed","logging","renderLogged","renderMacros","renderParameters","renderInfo","current","backgroundImage","color","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.a08d17af.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\nimport './App.css';\r\n\r\n//\r\n// - Constants and Globals\r\n//\r\n\r\nconst MacroStates = {\r\n\tINACTIVE: 0,\r\n\tPLAYING:  1,\r\n\tPAUSED:   2,\r\n\tFINISHED: 3\r\n}\r\n\r\n//\r\n// - AUX Functions\r\n//\r\n\r\nfunction degToRad(angle) {\r\n\treturn angle * (Math.pi / 180);\r\n}\r\n\r\nasync function LoadJson(path) {\r\n\tvar res = null;\r\n\r\n\tres = await fetch(path).then(response => { return response.json(); } );\r\n\r\n\treturn res;\r\n}\r\n\r\nfunction generateButtonPress(button, onTime, offTime, count) {\r\n\treturn [\r\n\t\t{\r\n\t\t\tname: \"Press \" + button,\r\n\t\t\tmacro: [\r\n\t\t\t\t{\r\n\t\t\t\t\tbutton  : button,\r\n\t\t\t\t\tonTime  : onTime,\r\n\t\t\t\t\toffTime : offTime,\r\n\t\t\t\t\tcount   : 1\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\tcount: count\r\n\t\t}\r\n\t];\r\n}\r\n\r\n//\r\n// - React Components\r\n//\r\n\r\nfunction PlayerButton(props) {\r\n\tvar divStyle = { background : \"#FFF\" };\r\n\tvar iconStyle = {};\r\n\r\n\tif(props.selected) {\r\n\t\tdivStyle  = { background : \"#000\" };\r\n\t\ticonStyle = { filter : \"invert(1)\" };\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className = \"player-button\" id = {props.name} style = {divStyle}\r\n\t\t\tonClick = {e => props.clickHandler()} >\r\n\t\t\t<img className = \"icon\" src = {props.src} alt = {props.name + \" Button Icon\"}\r\n\t\t\t\tstyle = {iconStyle} />\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nfunction MacroButton(props) {\r\n\tvar style = { background : \"white\" };\r\n\tif(props.selected) style = {background : \"black\"};\r\n\r\n\treturn (\r\n\t\t<div className = \"macro\">\r\n\t\t\t<div className = \"macro-button\" id = {props.name} style = {style}\r\n\t\t\t\tonClick = {e => props.clickHandler(props.index)}>\r\n\t\t\t\t<img className = \"icon\" src = {props.src} alt = {\"Icon \" + props.name}/>\r\n\t\t\t</div>\r\n\t\t\t<label className = \"macro-button-label\">\r\n\t\t\t\t{props.name}\r\n\t\t\t</label>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nfunction ProgressBar(props) {\r\n\tconst width = { width : `${props.percentage}%` };\r\n\r\n\treturn (\r\n\t\t<div className = \"progress-bar\">\r\n\t\t\t<div className = \"filler\" style = {width} />\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nfunction KeyLog(props) {\r\n\treturn (\r\n\t\t<div key = {props.ind} className = \"key-log\">\r\n\t\t\t<b className = \"key-log-cell\"> {props.index} </b>\r\n\t\t\t<b className = \"key-log-cell\"> {props.pressedKey} </b>\r\n\t\t\t<b className = \"key-log-cell\"> {props.start} </b>\r\n\t\t\t<b className = \"key-log-cell\"> {props.duration} </b>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nclass CheckBox extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {};\r\n\r\n\t\tthis.handleChange = this.handleChange.bind(this);\r\n\t}\r\n\r\n\thandleChange(event) {\r\n\t\treturn this.props.onChange(this.props.paramKey, event.target.checked);\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<input type = \"checkbox\" checked = {this.props.checked} onChange = {this.handleChange} />\r\n\t\t);\r\n\t}\r\n}\r\n\r\nclass IntegerInput extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {};\r\n\r\n\t\tthis.handleChange = this.handleChange.bind(this);\r\n\t}\r\n\r\n\thandleChange(event) {\r\n\t\tif(event.target.value === \"\") {\r\n\t\t\tthis.props.onChange(1);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tlet value = Math.min(event.currentTarget.value, this.props.max);\r\n\r\n\t\tthis.props.onChange(parseInt(value));\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<input type = \"number\" className = \"integer-input\"\r\n\t\t\treadOnly = {this.props.readonly}\r\n\t\t\tvalue = {this.props.value} onChange = {this.handleChange}\r\n\t\t\tmax = {this.props.max} min = {this.props.min}/>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nclass DropDownList extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {};\r\n\r\n\t\tthis.handleChange = this.handleChange.bind(this);\r\n\t}\r\n\r\n\thandleChange(event) {\r\n\t\tif(event.target.value === \"\") {\r\n\t\t\tthis.props.onChange(0);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis.props.onChange(parseInt(event.currentTarget.value));\r\n\t}\r\n\r\n\trenderOptions() {\r\n\t\treturn this.props.options.map((string, index) => {\r\n\t\t\treturn (\r\n\t\t\t\t<option key = {\"option\" + index.toString()} value={index}>{string}</option>\r\n\t\t\t);\r\n\t\t});\r\n\t}\r\n\r\n\trender() {\r\n\t\tlet options = this.renderOptions();\r\n\r\n\t\treturn (\r\n\t\t\t<select className = \"drop-down-list\" onChange = {this.handleChange}>\r\n\t\t\t  {options}\r\n\t\t\t</select>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nclass ParameterInput extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {active : false};\r\n\t}\r\n\r\n\trender() {\r\n\t\tvar params = this.props.parameters;\r\n\r\n\t\tswitch(this.props.macro) {\r\n\t\t\tdefault:\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<div className = \"macro-parameters\" id = \"DefaultParams\">\r\n\t\t\t\t\t</div>\r\n\t\t\t\t);\r\n\r\n\t\t\tcase \"Time Skip\":\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<div className = \"macro-parameters\" id = \"TimeSkipParams\">\r\n\t\t\t\t\t\t<div className = \"parameters-entry\">\r\n\t\t\t\t\t\t\t<label className = \"parameter-label\">\r\n\t\t\t\t\t\t\t\tSkip Count\r\n\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t<div className = \"parameter\">\r\n\t\t\t\t\t\t\t\t<IntegerInput id = \"daysToAdvance\" name = \"days-to-advance\"\r\n\t\t\t\t\t\t\t\t\tvalue = {params.daysToAdvance}\r\n\t\t\t\t\t\t\t\t\tonChange = {value => this.props.eventHandler(\"daysToAdvance\", value)}\r\n\t\t\t\t\t\t\t\t\tmin = \"1\" max = \"10000\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className = \"parameters-entry\">\r\n\t\t\t\t\t\t\t<label className = \"parameter-label\">\r\n\t\t\t\t\t\t\t\tDate Format\r\n\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t<div className = \"parameter\">\r\n\t\t\t\t\t\t\t\t<DropDownList id = \"dateFormat\" name = \"date-format\"\r\n\t\t\t\t\t\t\t\t\tvalue = {params.dateFormat}\r\n\t\t\t\t\t\t\t\t\toptions = {[\"World\", \"US\", \"Chinese\"]}\r\n\t\t\t\t\t\t\t\t\tonChange = {value => this.props.eventHandler(\"dateFormat\", value)}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t);\r\n\r\n\t\t\tcase \"Loto ID\":\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<div className = \"macro-parameters\" id = \"LottoIDParams\">\r\n\t\t\t\t\t\t<div className = \"parameters-entry\">\r\n\t\t\t\t\t\t\t<label className = \"parameter-label\">\r\n\t\t\t\t\t\t\t\tFirst Day Loto\r\n\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t<div className = \"parameter\">\r\n\t\t\t\t\t\t\t\t<CheckBox id = \"firstDayLoto\" name = \"first-day-loto\"\r\n\t\t\t\t\t\t\t\t\tchecked = {params.getFirst}\r\n\t\t\t\t\t\t\t\t\tparamKey = \"getFirst\"\r\n\t\t\t\t\t\t\t\t\tonChange = {this.props.eventHandler}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className = \"parameters-entry\">\r\n\t\t\t\t\t\t\t<label className = \"parameter-label\">\r\n\t\t\t\t\t\t\t\tAttempts\r\n\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t<div className = \"parameter\">\r\n\t\t\t\t\t\t\t\t<IntegerInput id = \"Attempts\" name = \"lotto-id-attempts\"\r\n\t\t\t\t\t\t\t\t\tvalue = {params.attempts}\r\n\t\t\t\t\t\t\t\t\tonChange = {value => this.props.eventHandler(\"attempts\", value)}\r\n\t\t\t\t\t\t\t\t\tmin = \"0\" max = \"10000\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className = \"parameters-entry\">\r\n\t\t\t\t\t\t\t<label className = \"parameter-label\">\r\n\t\t\t\t\t\t\t\tDate Format\r\n\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t<div className = \"parameter\">\r\n\t\t\t\t\t\t\t\t<DropDownList id = \"dateFormat\" name = \"date-format\"\r\n\t\t\t\t\t\t\t\t\tvalue = {params.dateFormat}\r\n\t\t\t\t\t\t\t\t\toptions = {[\"World\", \"US\", \"Chinese\"]}\r\n\t\t\t\t\t\t\t\t\tonChange = {value => this.props.eventHandler(\"dateFormat\", value)}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t);\r\n\r\n\t\t\tcase \"Wonder Box\":\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<div className = \"macro-parameters\" id = \"WonderBoxParams\">\r\n\t\t\t\t\t\t<div className = \"parameters-entry\">\r\n\t\t\t\t\t\t\t<label className = \"parameter-label\">\r\n\t\t\t\t\t\t\t\tCount\r\n\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t<div className = \"parameter\">\r\n\t\t\t\t\t\t\t\t<IntegerInput id = \"WTradeCount\" name = \"wonder-trade-count\"\r\n\t\t\t\t\t\t\t\t\tvalue = {params.count}\r\n\t\t\t\t\t\t\t\t\tonChange = {value => this.props.eventHandler(\"count\", value)}\r\n\t\t\t\t\t\t\t\t\tmin = \"1\" max = \"30\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className = \"parameters-entry\">\r\n\t\t\t\t\t\t\t<label className = \"parameter-label\">\r\n\t\t\t\t\t\t\t\tWait Time\r\n\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t<div className = \"parameter\">\r\n\t\t\t\t\t\t\t\t<IntegerInput id = \"WTradeWaitTime\" name = \"wonder-trade-wait-time\"\r\n\t\t\t\t\t\t\t\t\tvalue = {params.waitTime}\r\n\t\t\t\t\t\t\t\t\tonChange = {value => this.props.eventHandler(\"waitTime\", value)}\r\n\t\t\t\t\t\t\t\t\tmin = \"2\" max = \"600\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t);\r\n\r\n\t\t\tcase \"Egg Hatcher\":\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<div className = \"macro-parameters\" id = \"EggHatcherParams\">\r\n\t\t\t\t\t\t<div className = \"parameters-entry\">\r\n\t\t\t\t\t\t\t<label className = \"parameter-label\">\r\n\t\t\t\t\t\t\t\tEgg Cycles\r\n\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t<div className = \"parameter\">\r\n\t\t\t\t\t\t\t\t<DropDownList id = \"eggCycles\" name = \"egg-cycles\"\r\n\t\t\t\t\t\t\t\t\tvalue    = {params.eggCycles.toString()}\r\n\t\t\t\t\t\t\t\t\toptions  = {[\"5\", \"10\", \"15\", \"20\", \"25\", \"30\", \"35\", \"40\"]}\r\n\t\t\t\t\t\t\t\t\tonChange = {value => this.props.eventHandler(\"eggCycles\", value)}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className = \"parameters-entry\">\r\n\t\t\t\t\t\t\t<label className = \"parameter-label\">\r\n\t\t\t\t\t\t\t\tHatching Ability\r\n\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t<div className = \"parameter\">\r\n\t\t\t\t\t\t\t\t<CheckBox id = \"hasHatchAbility\" name = \"hatch-ability\"\r\n\t\t\t\t\t\t\t\t\tchecked  = {params.ability}\r\n\t\t\t\t\t\t\t\t\tparamKey = \"ability\"\r\n\t\t\t\t\t\t\t\t\tonChange = {this.props.eventHandler}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className = \"parameters-entry\">\r\n\t\t\t\t\t\t\t<label className = \"parameter-label\">\r\n\t\t\t\t\t\t\t\tEgg Charm\r\n\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t<div className = \"parameter\">\r\n\t\t\t\t\t\t\t\t<CheckBox id = \"hasEggCharm\" name = \"egg-charm\"\r\n\t\t\t\t\t\t\t\t\tchecked = {params.eggCharm}\r\n\t\t\t\t\t\t\t\t\tparamKey = \"eggCharm\"\r\n\t\t\t\t\t\t\t\t\tonChange = {this.props.eventHandler}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className = \"parameters-entry\">\r\n\t\t\t\t\t\t\t<label className = \"parameter-label\">\r\n\t\t\t\t\t\t\t\tEggs in Box\r\n\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t<div className = \"parameter\">\r\n\t\t\t\t\t\t\t\t<IntegerInput id = \"eggsInBox\" name = \"eggs-in-box\"\r\n\t\t\t\t\t\t\t\t\tvalue = {params.eggsInBox}\r\n\t\t\t\t\t\t\t\t\tonChange = {value => this.props.eventHandler(\"eggsInBox\", value)}\r\n\t\t\t\t\t\t\t\t\tmin = \"1\" max = \"30\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t);\r\n\t\t}\r\n\t}\r\n}\r\n\r\nclass InfoOverlay extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {};\r\n\t}\r\n\r\n\trender() {\r\n\t\tvar display_style = {display : \"none\"};\r\n\t\tif(this.props.show) display_style.display = \"flex\";\r\n\r\n\t\tvar sections = [];\r\n\r\n\t\tvar i = 0;\r\n\t\tfor(; i < this.props.sections.length; i++) {\r\n\t\t\tvar section = this.props.sections[i];\r\n\r\n\t\t\tsections[i] = (\r\n\t\t\t\t<div className = \"infoSection\" key = {\"infoSect_\" + i.toString()}>\r\n\t\t\t\t\t<h2 className = \"infoSectionTitle\"> {section.title} </h2>\r\n\t\t\t\t\t{section.text}\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<div id = \"infoOverlay\" className = \"info-overlay\" style = {display_style}>\r\n\t\t\t\t<div id = \"infoOverlayOut\" onMouseDown  = {this.props.onMouseDown} onTouchStart = {this.props.onTouchStart}>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div id = \"infoTextBox\" className = \"text-box\">\r\n\t\t\t\t\t<h1 className = \"infoTextTitle\"> {this.props.title} </h1>\r\n\t\t\t\t\t\t{sections}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\n//\r\n// - Back End Elements\r\n//\r\n\r\nfunction coroutine(f, args) {\r\n\tvar o = f.apply(args);\r\n\r\n\to.next();\r\n\r\n\treturn function(x) {\r\n\t\treturn o.next(x);\r\n\t}\r\n}\r\n\r\nclass JSONManeger {\r\n\tconstructor() {\r\n\t\tthis.segments = {\r\n\t\t\tFstSkip      : {filename: \"FirstSkip.json\",           object: \"\"},\r\n\t\t\tFstSkipUS    : {filename: \"FirstSkipUS.json\",         object: \"\"},\r\n\t\t\tFstSkipCHN   : {filename: \"FirstSkipCHN.json\",        object: \"\"},\r\n\t\t\tAdvDay       : {filename: \"AdvanceDay.json\",          object: \"\"},\r\n\t\t\tAdvDayUS     : {filename: \"AdvanceDayUS.json\",        object: \"\"},\r\n\t\t\tAdvDayCHN    : {filename: \"AdvanceDayCHN.json\",       object: \"\"},\r\n\t\t\tLotoID       : {filename: \"LotoID.json\",              object: \"\"},\r\n\t\t\tUniversal    : {filename: \"UniversalSkip.json\",       object: \"\"},\r\n\t\t\tUniversalUS  : {filename: \"UniversalSkipUS.json\",     object: \"\"},\r\n\t\t\tUniversalCHN : {filename: \"UniversalSkipCHN.json\",    object: \"\"},\r\n\t\t\tOpenBox      : {filename: \"OpenBox.json\",             object: \"\"},\r\n\t\t\tSelectInBox  : {filename: \"SelectInBox.json\",         object: \"\"},\r\n\t\t\tPlaceInBox   : {filename: \"PlaceInBox.json\",          object: \"\"},\r\n\t\t\tStartWonder  : {filename: \"StartWonderTrade.json\",    object: \"\"},\r\n\t\t\tEndWonder    : {filename: \"ConcludeWonderTrade.json\", object: \"\"},\r\n\t\t\tHatching     : {filename: \"Hatching.json\",            object: \"\"}\r\n\t\t};\r\n\r\n\t\tvar entries = Object.entries(this.segments);\r\n\r\n\t\tthis.loadedCount = 0;\r\n\t\tthis.segmentCount = entries.length;\r\n\t\tthis.loadConcluded = false;\r\n\r\n\t\tlet i = 0;\r\n\t\tfor(; i < this.segmentCount; i++) {\r\n\t\t\tthis.loadMacro(entries[i][0]);\r\n\t\t}\r\n\t}\r\n\r\n\tasync loadMacro(key) {\r\n\t\tvar segment = this.segments[key];\r\n\r\n\t\tsegment.object = await LoadJson(\"./macros/\" + segment.filename);\r\n\r\n\t\tthis.loadedCount += 1;\r\n\r\n\t\tif(this.loadedCount === this.segmentCount) {\r\n\t\t\tthis.loadConcluded = true;\r\n\t\t\tconsole.log(\"JSON Load Concluded\");\r\n\t\t}\r\n\t}\r\n\r\n\tgetMacro(key) {\r\n\t\tvar segment = this.segments[key];\r\n\t\tvar copy = JSON.parse(JSON.stringify(segment.object));\r\n\t\treturn copy;\r\n\t}\r\n}\r\n\r\n//\r\n// - Macro Builders\r\n//\r\n\r\nclass MacroBuilder {\r\n\tconstructor(jsonM, name, icon) {\r\n\t\tthis.jsonManager = jsonM;\r\n\r\n\t\tthis.name = name;\r\n\t\tthis.icon = icon;\r\n\r\n\t\tthis.macro = 0;\r\n\t\tthis.macroJSON = [];\r\n\r\n\t\tthis.parameters = {};\r\n\t\tthis.paramHandlers = {};\r\n\r\n\t\tthis.info = [];\r\n\t}\r\n\r\n\tchangeParameter(key, value) {\r\n\t\tlet handler = this.paramHandlers[key];\r\n\r\n\t\treturn handler(value);\r\n\t}\r\n\r\n\tgetMacro(key) {\r\n\t\tif(!this.jsonManager.loadConcluded) return null;\r\n\r\n\t\treturn this.jsonManager.getMacro(key);\r\n\t}\r\n\r\n\tconcatToMacro(segment) {\r\n\t\tthis.macroJSON = this.macroJSON.concat(segment);\r\n\t}\r\n\r\n\t// Render\r\n\tgetRenderData() {\r\n\t\treturn {\r\n\t\t\tname : this.name,\r\n\t\t\ticon : this.icon,\r\n\t\t\tparameters : this.parameters,\r\n\t\t\tinfo : this.info\r\n\t\t};\r\n\t}\r\n}\r\n\r\nclass TimeSkipMacroBuilder extends MacroBuilder {\r\n\tconstructor(jsonM) {\r\n\t\tsuper(jsonM, \"Time Skip\", \"./images/timeskip_icon.png\");\r\n\r\n\t\t// Init Parameters\r\n\t\tthis.parameters.daysToAdvance = 1;\r\n\t\tthis.parameters.dateFormat    = 0;\r\n\r\n\t\tthis.currentFormat = \"\";\r\n\r\n\t\tthis.onDaysToAdvanceChange = this.onDaysToAdvanceChange.bind(this);\r\n\t\tthis.onDateFormatChange    = this.onDateFormatChange.bind(this);\r\n\r\n\t\tthis.paramHandlers = {\r\n\t\t\tdaysToAdvance : this.onDaysToAdvanceChange,\r\n\t\t\tdateFormat    : this.onDateFormatChange\r\n\t\t};\r\n\r\n\t\tvar text1 = (\r\n\t\t\t<p>\r\n\t\t\t\t<b>1-</b> In the <b>Console Settings</b>, turn <b>Synchronize Time</b> off.\r\n\t\t\t\t<br/>\r\n\t\t\t\t<br/>\r\n\t\t\t\t<b>2-</b> The <b>Date</b> in <b>Console Settings</b> must be the first of any 31 day month.\r\n\t\t\t\t<br/>\r\n\t\t\t\t<br/>\r\n\t\t\t\t<b>3-</b> Set <b>Skip Count</b> to the number of days to advance.\r\n\t\t\t\t<br/>\r\n\t\t\t\t<br/>\r\n\t\t\t\t<b>4-</b> Set <b>Date Format</b> to match your console's format.\r\n\t\t\t</p>\r\n\t\t);\r\n\r\n\t\tthis.info = [\r\n\t\t\t{\r\n\t\t\t\ttitle: \"SetUp\",\r\n\t\t\t\ttext: text1\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: \"How it works\",\r\n\t\t\t\ttext: \"The frame of the seed will advance with each time the date is advanced. This means that we can just change the day, with the only downside being that when returning to the first of the month no advancement will happen. The macro takes this into account and adds repetitions so that in the end the correct number of skips is achieved.\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: \"Recommendations\",\r\n\t\t\t\ttext: \"Avoid doing many skips in the Wild Area as this is known to sometimes result in game crashes. Use this macro indoors.\"\r\n\t\t\t}\r\n\t\t];\r\n\t}\r\n\r\n\t// Parameter Handlers\r\n\tonDaysToAdvanceChange(days) {\r\n\t\tif(this.parameters.daysToAdvance !== days) {\r\n\t\t\tthis.parameters.daysToAdvance = days;\r\n\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\treturn false;\r\n\t}\r\n\r\n\tonDateFormatChange(format) {\r\n\t\tif(this.parameters.dateFormat !== format) {\r\n\t\t\tthis.parameters.dateFormat = format;\r\n\r\n\t\t\tswitch(format) {\r\n\t\t\t\tdefault:\r\n\t\t\t\tcase 0: // WORLD\r\n\t\t\t\t\tthis.currentFormat = \"\";\r\n\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 1: // US\r\n\t\t\t\t\tthis.currentFormat = \"US\";\r\n\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 2: // Chinese\r\n\t\t\t\t\tthis.currentFormat = \"CHN\";\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\treturn false;\r\n\t}\r\n\r\n\t// Build Macro\r\n\tAdvanceDay(days) {\r\n\t\tvar macro = this.getMacro(\"AdvDay\" + this.currentFormat);\r\n\r\n\t\tmacro[0].count = days;\r\n\r\n\t\tthis.concatToMacro(macro);\r\n\t}\r\n\r\n\tInitMacro() {\r\n\t\tthis.concatToMacro(this.getMacro(\"FstSkip\" + this.currentFormat));\r\n\t}\r\n\r\n\tbuild() {\r\n\t\tif(!this.jsonManager.loadConcluded) return null;\r\n\r\n\t\tthis.macroJSON = []; // Clear Macro JSON\r\n\r\n\t\tthis.InitMacro();\r\n\r\n\t\tvar count = this.parameters.daysToAdvance;\r\n\r\n\t\t// If more than 1 skip\r\n\t\tif(count > 1) {\r\n\t\t\t// Calculate the number of macro repetitions\r\n\t\t\tlet months = Math.floor(count / 31);\r\n\t\t\tlet total  = count + months + Math.floor(months / 31);\r\n\r\n\t\t\t// Advance the adjustment\r\n\t\t\twhile(total > 0) {\r\n\t\t\t\tthis.AdvanceDay(Math.min(31, total));\r\n\r\n\t\t\t\ttotal -= 31;\r\n\r\n\t\t\t\tif(total > 0) {\r\n\t\t\t\t\tthis.concatToMacro(generateButtonPress(\"down\", 120, 240, 2));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis.concatToMacro(generateButtonPress(\"home\", 100, 1000, 2));\r\n\r\n\t\tthis.macro = new Macro(this.name, this.icon, this.macroJSON);\r\n\r\n\t\treturn this.macro;\r\n\t}\r\n}\r\n\r\nclass LotoIDMacroBuilder extends MacroBuilder {\r\n\tconstructor(jsonM) {\r\n\t\tsuper(jsonM, \"Loto ID\", \"./images/lotoid_icon.png\");\r\n\r\n\t\tthis.parameters.attempts  = 1;\r\n\t\tthis.parameters.getFirst  = true;\r\n\t\tthis.parameters.dateFormat = 0;\r\n\r\n\t\tthis.currentFormat = \"\";\r\n\r\n\t\tthis.onAttemptsChange = this.onAttemptsChange.bind(this);\r\n\t\tthis.onGetFirstChange = this.onGetFirstChange.bind(this);\r\n\t\tthis.onDateFormatChange = this.onDateFormatChange.bind(this);\r\n\r\n\t\tthis.paramHandlers = {\r\n\t\t\tattempts   : this.onAttemptsChange,\r\n\t\t\tgetFirst   : this.onGetFirstChange,\r\n\t\t\tdateFormat : this.onDateFormatChange\r\n\t\t};\r\n\r\n\t\tvar text1 = (\r\n\t\t\t<p>\r\n\t\t\t\t<b>1-</b> In the <b>Console Settings</b>, turn <b>Synchronize Time</b> off.\r\n\t\t\t\t<br/>\r\n\t\t\t\t<br/>\r\n\t\t\t\t<b>2-</b> Position the character in front of the PC, facing it.\r\n\t\t\t\t<br/>\r\n\t\t\t\t<br/>\r\n\t\t\t\t<b>3-</b> Check the <b>First Day Loto</b> box only if you have the Loto still available.\r\n\t\t\t\t<br/>\r\n\t\t\t\t<br/>\r\n\t\t\t\t<b>4-</b> Set <b>Attempts</b> to how many times you want to try the Loto.\r\n\t\t\t\t<br/>\r\n\t\t\t\t<br/>\r\n\t\t\t\t<b>5-</b> Set <b>Date Format</b> to the your Switch's region date format.\r\n\t\t\t</p>\r\n\t\t);\r\n\r\n\t\tthis.info = [\r\n\t\t\t{\r\n\t\t\t\ttitle: \"SetUp\",\r\n\t\t\t\ttext: text1\r\n\t\t\t}\r\n\t\t];\r\n\t}\r\n\r\n\t// Parameter Handlers\r\n\tonAttemptsChange(count) {\r\n\t\tif(this.parameters.attempts !== count) {\r\n\t\t\tthis.parameters.attempts = count;\r\n\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\treturn false;\r\n\t}\r\n\r\n\tonGetFirstChange(bool) {\r\n\t\tif(this.parameters.getFirst !== bool) {\r\n\t\t\tthis.parameters.getFirst = bool;\r\n\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\treturn false;\r\n\t}\r\n\r\n\tonDateFormatChange(format) {\r\n\t\tif(this.parameters.dateFormat !== format) {\r\n\t\t\tthis.parameters.dateFormat = format;\r\n\r\n\t\t\tswitch(format) {\r\n\t\t\t\tdefault:\r\n\t\t\t\tcase 0: // WORLD\r\n\t\t\t\t\tthis.currentFormat = \"\";\r\n\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 1: // US\r\n\t\t\t\t\tthis.currentFormat = \"US\";\r\n\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 2: // Chinese\r\n\t\t\t\t\tthis.currentFormat = \"CHN\";\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\treturn false;\r\n\t}\r\n\r\n\t// Build Macro\r\n\tbuild() {\r\n\t\tif(!this.jsonManager.loadConcluded) return null;\r\n\r\n\t\tthis.macroJSON = []; // Clear Macro JSON\r\n\r\n\t\tvar counter = 0;\r\n\r\n\t\tif(this.parameters.getFirst) {\r\n\t\t\tthis.concatToMacro(this.getMacro(\"LotoID\"));\r\n\r\n\t\t\tcounter = 1;\r\n\t\t}\r\n\r\n\t\t// While End Date has not been reached\r\n\t\twhile(counter < this.parameters.attempts) {\r\n\t\t\tthis.concatToMacro(this.getMacro(\"Universal\" + this.currentFormat));\r\n\t\t\tcounter++;\r\n\r\n\t\t\tthis.concatToMacro(generateButtonPress(\"home\", 100, 1000, 2));\r\n\r\n\t\t\tthis.concatToMacro(this.getMacro(\"LotoID\"));\r\n\t\t}\r\n\r\n\t\tthis.macro = new Macro(this.name, this.icon, this.macroJSON);\r\n\r\n\t\treturn this.macro;\r\n\t}\r\n}\r\n\r\nclass WonderBoxMacroBuilder extends MacroBuilder {\r\n\tconstructor(jsonM) {\r\n\t\tsuper(jsonM, \"Wonder Box\", \"./images/wonderbox_icon.png\");\r\n\r\n\t\tthis.parameters.count    = 1;\r\n\t\tthis.parameters.waitTime = 25;\r\n\r\n\t\tthis.onCountChange    = this.onCountChange.bind(this);\r\n\t\tthis.onWaitTimeChange = this.onWaitTimeChange.bind(this);\r\n\r\n\t\tthis.paramHandlers = {\r\n\t\t\tcount  : this.onCountChange,\r\n\t\t\twaitTime : this.onWaitTimeChange\r\n\t\t};\r\n\r\n\t\tvar text1 = (\r\n\t\t\t<p>\r\n\t\t\t\t<b>1-</b> In-Game, open your PC and go to the box with the pokemon to be wonder traded.\r\n\t\t\t\t<br/>\r\n\t\t\t\t<br/>\r\n\t\t\t\t<b>2-</b> Make sure there are no empty spots between pokemon.\r\n\t\t\t\tThe macro will start trading from the top left corner and go left to right, top to bottom.\r\n\t\t\t\t<br/>\r\n\t\t\t\t<br/>\r\n\t\t\t\t<b>3-</b> Exit all menus.\r\n\t\t\t\t<br/>\r\n\t\t\t\t<br/>\r\n\t\t\t\t<b>4-</b> Set the <b>Count</b> parameter to how many pokemon you want to trade away from that box.\r\n\t\t\t\t<br/>\r\n\t\t\t\t<br/>\r\n\t\t\t\t<b>4-</b> Set the <b>Wait Time</b> parameter to how many <b>seconds</b> the macro should wait for the Wonder Trade to complete.\r\n\t\t\t</p>\r\n\t\t);\r\n\r\n\t\tvar text2 = (\r\n\t\t\t<p>\r\n\t\t\t\tWhen running this macro, the time for a trade to go through can vary a lot.\r\n\t\t\t\tBecause of this, you may need to adjust the <b>Wait Time</b>. It can go up to 10 minutes (600 s),\r\n\t\t\t\tor as low as 2 seconds.\r\n\t\t\t\t<br/>\r\n\t\t\t\tIf it is too erratic and you want to be more efficient, you can set the value relatively low and\r\n\t\t\t\tpress pause after the search for a trade starts and press play to resume the macro when you see\r\n\t\t\t\tit has finished.\r\n\t\t\t\t<br/>\r\n\t\t\t\t<br/>\r\n\t\t\t\tIt is also very important to make sure you have the correct box selected at the start of the macro.\r\n\t\t\t</p>\r\n\t\t);\r\n\r\n\t\tthis.info = [\r\n\t\t\t{\r\n\t\t\t\ttitle: \"SetUp\",\r\n\t\t\t\ttext: text1\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: \"Recommendations\",\r\n\t\t\t\ttext: text2\r\n\t\t\t}\r\n\t\t];\r\n\t}\r\n\r\n\t// Parameter Handlers\r\n\tonCountChange(count) {\r\n\t\tif(this.parameters.count !== count) {\r\n\t\t\tthis.parameters.count = count;\r\n\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\treturn false;\r\n\t}\r\n\r\n\tonWaitTimeChange(time) {\r\n\t\tif(this.parameters.waitTime !== time) {\r\n\t\t\tthis.parameters.waitTime = time;\r\n\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\treturn false;\r\n\t}\r\n\r\n\t// Build Macro\r\n\tSelectInBox(column, row) {\r\n\t\tvar segments = this.getMacro(\"SelectInBox\");\r\n\r\n\t\tlet dx = column;\r\n\t\tlet dy = row;\r\n\r\n\t\tif(dx > 0) {\r\n\t\t\tsegments[0].macro[0].count = dx;\r\n\t\t}\r\n\t\telse {\r\n\t\t\tsegments[0].macro[1].count = -1 * dx;\r\n\t\t}\r\n\r\n\t\tif(dy > 0) {\r\n\t\t\tsegments[0].macro[2].count = dy;\r\n\t\t}\r\n\t\telse {\r\n\t\t\tsegments[0].macro[3].count = -1 * dy;\r\n\t\t}\r\n\r\n\t\tthis.concatToMacro(segments);\r\n\t}\r\n\r\n\tConcludeTrade() {\r\n\t\tvar segments = this.getMacro(\"EndWonder\");\r\n\r\n\t\tsegments[0].macro[2].offTime = this.parameters.waitTime * 1000;\r\n\r\n\t\tthis.concatToMacro(segments);\r\n\t}\r\n\r\n\tbuild() {\r\n\t\tif(!this.jsonManager.loadConcluded) return null;\r\n\r\n\t\tthis.macroJSON = []; // Clear Macro JSON\r\n\r\n\t\tvar count  = 0;\r\n\t\tvar row    = 0;\r\n\t\tvar column = 0;\r\n\r\n\t\tfor(; row < 5; row++) {\r\n\t\t\tfor(column = 0; column < 6; column++) {\r\n\t\t\t\tthis.concatToMacro(this.getMacro(\"StartWonder\"));\r\n\r\n\t\t\t\tthis.SelectInBox(column, row);\r\n\r\n\t\t\t\tthis.ConcludeTrade();\r\n\r\n\t\t\t\tcount++;\r\n\t\t\t\tif(count >= this.parameters.count) {\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif(count >= this.parameters.count) {\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis.macro = new Macro(this.name, this.icon, this.macroJSON);\r\n\r\n\t\treturn this.macro;\r\n\t}\r\n}\r\n\r\nclass EggHatcherMacroBuilder extends MacroBuilder {\r\n\tconstructor(jsonM) {\r\n\t\tsuper(jsonM, \"Egg Hatcher\", \"./images/egghatcher_icon.png\");\r\n\r\n\t\tthis.parameters.eggCycles = 5;\r\n\t\tthis.parameters.ability   = false;\r\n\t\tthis.parameters.eggCharm  = false;\r\n\t\tthis.parameters.eggsInBox = 1;\r\n\r\n\t\tthis.onEggCyclesChange   = this.onEggCyclesChange.bind(this);\r\n\t\tthis.onHasAbilityChange  = this.onHasAbilityChange.bind(this);\r\n\t\tthis.onHasEggCharmChange = this.onHasEggCharmChange.bind(this);\r\n\t\tthis.onEggsInBoxChange   = this.onEggsInBoxChange.bind(this);\r\n\r\n\t\tthis.paramHandlers = {\r\n\t\t\teggCycles : this.onEggCyclesChange,\r\n\t\t\tability   : this.onHasAbilityChange,\r\n\t\t\teggCharm  : this.onHasEggCharmChange,\r\n\t\t\teggsInBox : this.onEggsInBoxChange\r\n\t\t};\r\n\r\n\t\tvar text1 = (\r\n\t\t\t<p>\r\n\t\t\t\t<b>1-</b> You must have a full Party of pokemon. The macro will replace all pokemon besides the first with eggs from your Box.\r\n\t\t\t\t<br/>\r\n\t\t\t\t<br/>\r\n\t\t\t\t<b>2-</b> Open your PC and navigate to the Box with the eggs. Make sure that the box was filled from up to down, left to right.\r\n\t\t\t\tThis means the eggs should be placed column per column not row per row as is normal, if the box is full this doesn't matter.\r\n\t\t\t\t<br/>\r\n\t\t\t\t<br/>\r\n\t\t\t\t<b>3-</b> You must leave the Pokémon option selected when exiting the game's menu.\r\n\t\t\t\t<br/>\r\n\t\t\t\t<br/>\r\n\t\t\t\t<b>4-</b> When starting the macro, the Player Character must be somewhere the Flying Taxi can be used.\r\n\t\t\t\t<br/>\r\n\t\t\t\t<br/>\r\n\t\t\t\t<b>5-</b> Set the <b>Egg Cycles</b> parameter to how many cycles the egg takes to hatch, this can be checked on sites like Bulbapedia.\r\n\t\t\t\t<br/>\r\n\t\t\t\t<br/>\r\n\t\t\t\t<b>6-</b> Check the <b>Hatch Ability</b> box if the first pokemon in the party has one of the following abilities: Flame Body, Magma Armor or Steam Engine.\r\n\t\t\t\t<br/>\r\n\t\t\t\t<br/>\r\n\t\t\t\t<b>7-</b> Check the <b>Egg Charm</b> box if you have that key item.\r\n\t\t\t\t<br/>\r\n\t\t\t\t<br/>\r\n\t\t\t\t<b>8-</b> Set the <b>Eggs in Box</b> parameter to how many eggs you have in the box to be hatched.\r\n\t\t\t</p>\r\n\t\t);\r\n\r\n\t\tthis.info = [\r\n\t\t\t{\r\n\t\t\t\ttitle: \"WARNING\",\r\n\t\t\t\ttext: \"This macro is not complete and is available for testing by the developer. DO NOT USE\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: \"SetUp\",\r\n\t\t\t\ttext: text1\r\n\t\t\t}\r\n\t\t];\r\n\t}\r\n\r\n\t// Parameter Handlers\r\n\tonEggCyclesChange(cycles) {\r\n\t\tcycles = parseInt(cycles);\r\n\r\n\t\tif(this.parameters.hatchCycles !== cycles) {\r\n\t\t\tthis.parameters.hatchCycles = cycles;\r\n\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\treturn false;\r\n\t}\r\n\r\n\tonHasAbilityChange(bool) {\r\n\t\tif(this.parameters.ability !== bool) {\r\n\t\t\tthis.parameters.ability = bool;\r\n\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\treturn false;\r\n\t}\r\n\r\n\tonHasEggCharmChange(bool) {\r\n\t\tif(this.parameters.eggCharm !== bool) {\r\n\t\t\tthis.parameters.eggCharm = bool;\r\n\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\treturn false;\r\n\t}\r\n\r\n\tonEggsInBoxChange(count) {\r\n\t\tif(this.parameters.eggsInBox !== count) {\r\n\t\t\tthis.parameters.eggsInBox = count;\r\n\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\treturn false;\r\n\t}\r\n\r\n\t// Build Macro\r\n\tInBoxSegment(type, cColumn, cRow, tColumn, tRow) {\r\n\t\tvar segments = this.getMacro(type + \"InBox\");\r\n\r\n\t\tlet dx = tColumn - cColumn;\r\n\t\tlet dy = tRow - cRow;\r\n\r\n\t\tif(dx > 0) {\r\n\t\t\tsegments[0].macro[0].count = dx;\r\n\t\t}\r\n\t\telse {\r\n\t\t\tsegments[0].macro[1].count = -1 * dx;\r\n\t\t}\r\n\r\n\t\tif(dy > 0) {\r\n\t\t\tsegments[0].macro[2].count = dy;\r\n\t\t}\r\n\t\telse {\r\n\t\t\tsegments[0].macro[3].count = -1 * dy;\r\n\t\t}\r\n\r\n\t\tif(type === \"Select\") {\r\n\t\t\tsegments[0].macro[6].offTime = 600;\r\n\t\t}\r\n\r\n\t\tthis.concatToMacro(segments);\r\n\t}\r\n\r\n\tHatchSegment(eggsInParty) {\r\n\t\tlet segments = this.getMacro(\"Hatching\");\r\n\r\n\t\t// Calculate steps to hatch egg\r\n\t\tlet steps = 256 * this.parameters.eggCycles;\r\n\t\tif(this.parameters.ability)  steps = steps / 2;\r\n\t\tif(this.parameters.eggCharm) steps = steps / 2;\r\n\r\n\t\t// Calculate time to hatch\r\n\t\tlet time = (steps / 256) * 30000;\r\n\r\n\t\tsegments[0].macro[4].onTime = time;\r\n\t\tsegments[0].macro[5].onTime = time;\r\n\r\n\t\tsegments[1].count = eggsInParty;\r\n\r\n\t\tthis.concatToMacro(segments);\r\n\t}\r\n\r\n\tbuild() {\r\n\t\tif(!this.jsonManager.loadConcluded) return null;\r\n\r\n\t\tthis.macroJSON = []; // Clear Macro JSON\r\n\r\n\t\tlet count  = 0;\r\n\r\n\t\tlet sX = 0;\r\n\r\n\t\twhile(count < this.parameters.eggsInBox) {\r\n\t\t\tthis.concatToMacro(this.getMacro(\"OpenBox\"));\r\n\r\n\t\t\t// Get Eggs into the Party\r\n\t\t\tlet sY = 0;\r\n\r\n\t\t\tlet cX = 0;\r\n\t\t\tlet cY = 0;\r\n\r\n\t\t\twhile(sY < 5 && count < this.parameters.eggsInBox) {\r\n\t\t\t\tthis.InBoxSegment(\"Select\", cX, cY, sX, sY);\r\n\r\n\t\t\t\tcX = sX;\r\n\t\t\t\tcY = sY;\r\n\r\n\t\t\t\tthis.InBoxSegment(\"Place\", cX, cY, -1, 1 + sY);\r\n\r\n\t\t\t\tcX = -1;\r\n\t\t\t\tcY = 1 + sY;\r\n\r\n\t\t\t\tsY++;\r\n\r\n\t\t\t\tcount++;\r\n\t\t\t}\r\n\r\n\t\t\tsX++;\r\n\r\n\t\t\tthis.concatToMacro(generateButtonPress(\"b\", 180, 1440, 2));\r\n\t\t\tthis.concatToMacro(generateButtonPress(\"down\", 180, 240, 1));\r\n\t\t\tthis.concatToMacro(generateButtonPress(\"left\", 180, 240, 1));\r\n\t\t\tthis.concatToMacro(generateButtonPress(\"b\", 180, 1600, 1));\r\n\r\n\t\t\tthis.HatchSegment(sY + 1);\r\n\r\n\t\t\tthis.concatToMacro(generateButtonPress(\"x\", 180, 1600, 1));\r\n\t\t\tthis.concatToMacro(generateButtonPress(\"up\", 180, 240, 1));\r\n\t\t\tthis.concatToMacro(generateButtonPress(\"right\", 180, 240, 1));\r\n\t\t\tthis.concatToMacro(generateButtonPress(\"b\", 180, 1600, 1));\r\n\t\t}\r\n\r\n\t\tthis.macro = new Macro(this.name, this.icon, this.macroJSON);\r\n\r\n\t\treturn this.macro;\r\n\t}\r\n}\r\n\r\n//\r\n// - APP Components\r\n//\r\n\r\nclass Macro {\r\n\tconstructor(name, icon, segments) {\r\n\t\tthis.name = name;\r\n\t\tthis.icon = icon;\r\n\r\n\t\tthis.state = MacroStates.INACTIVE;\r\n\r\n\t\tthis.commands = [];\r\n\r\n\t\tthis.onWait = false;\r\n\r\n\t\tthis.runner = null;\r\n\r\n\t\tthis.segments = segments;\r\n\r\n\t\tthis.totalSteps = 0;\r\n\t\tthis.currentOverallStep = 0;\r\n\r\n\t\tthis.totalTime = 0;\r\n\r\n\t\tvar i;\r\n\t\tfor(i = 0; i < this.segments.length; i++) {\r\n\t\t\tvar segment = this.segments[i];\r\n\r\n\t\t\tvar subTotal = 0;\r\n\r\n\t\t\tvar j;\r\n\t\t\tfor(j = 0; j < segment.macro.length; j++) {\r\n\t\t\t\tvar step = segment.macro[j];\r\n\r\n\t\t\t\tsubTotal += step.count;\r\n\t\t\t}\r\n\r\n\t\t\tthis.totalSteps += subTotal * segment.count;\r\n\t\t}\r\n\t}\r\n\r\n\tprogress() {\r\n\t\tif(this.totalSteps === 0) return 1;\r\n\r\n\t\treturn this.currentOverallStep / this.totalSteps;\r\n\t}\r\n\r\n\tstartRunner() {\r\n\t\tvar f = function* () {\r\n\t\t\tthis.currentOverallStep = 0;\r\n\r\n\t\t\tvar info = {state : this.state, abort : false};\r\n\r\n\t\t\t// For each Segment of the Macro\r\n\t\t\tvar i = 0;\r\n\t\t\tfor(; i < this.segments.length; i++) {\r\n\t\t\t\tvar segment = this.segments[i];\r\n\r\n\t\t\t\tvar steps = segment.macro;\r\n\t\t\t\tvar reps  = segment.count;\r\n\r\n\t\t\t\t// For each Repetition of the Segment\r\n\t\t\t\tvar j = 0;\r\n\t\t\t\tfor(; j < reps; j++) {\r\n\r\n\t\t\t\t\t// For each Step of the Segment\r\n\t\t\t\t\tvar k = 0;\r\n\t\t\t\t\tfor(; k < steps.length; k++) {\r\n\r\n\t\t\t\t\t\t// If play has not been pressed or has been paused\r\n\t\t\t\t\t\twhile(this.state !== MacroStates.PLAYING) {\r\n\t\t\t\t\t\t\tinfo = yield undefined; // Yield\r\n\r\n\t\t\t\t\t\t\tif(info.abort) return;\r\n\r\n\t\t\t\t\t\t\tthis.state = info.state;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// Get current Step\r\n\t\t\t\t\t\tvar step = steps[k];\r\n\r\n\t\t\t\t\t\t// Make commands\r\n\t\t\t\t\t\tlet command = this.makeCommand(step.button,  true, step.strength, step.angle);\r\n\t\t\t\t\t\tlet reset   = this.makeCommand(step.button, false,             0,          0);\r\n\r\n\t\t\t\t\t\t// Check if input blocks progress\r\n\t\t\t\t\t\tlet block = step.block === undefined || step.block === true;\r\n\r\n\t\t\t\t\t\t// For each repetition of the Step\r\n\t\t\t\t\t\tvar l = 0;\r\n\t\t\t\t\t\tfor(l = 0; l < step.count; l++) {\r\n\t\t\t\t\t\t\tthis.commands.push(command);\r\n\r\n\t\t\t\t\t\t\t// Set timed command\r\n\t\t\t\t\t\t\tthis.timedCommand(reset, block, Math.max(step.onTime, 20));\r\n\r\n\t\t\t\t\t\t\tyield this.commands;\r\n\t\t\t\t\t\t\tthis.commands = [];\r\n\r\n\t\t\t\t\t\t\t// Wait\r\n\t\t\t\t\t\t\twhile(this.onWait) {\r\n\t\t\t\t\t\t\t\tinfo = yield undefined;\r\n\t\t\t\t\t\t\t\tif(info.abort) return;\r\n\t\t\t\t\t\t\t\tthis.state = info.state;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t// If there is a buffer before the next button press\r\n\t\t\t\t\t\t\tif(block === true && step.offTime > 0) {\r\n\t\t\t\t\t\t\t\tthis.onWait = true;\r\n\r\n\t\t\t\t\t\t\t\t// Set timer for the wait before pressing the next button\r\n\t\t\t\t\t\t\t\tthis.timedCommand(null, block, Math.max(step.offTime, 20));\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tyield this.commands;\r\n\t\t\t\t\t\t\tthis.commands = [];\r\n\r\n\t\t\t\t\t\t\t// Wait for timer to elapse and to not be paused\r\n\t\t\t\t\t\t\twhile(this.onWait || this.state === MacroStates.PAUSED) {\r\n\t\t\t\t\t\t\t\tinfo = yield undefined;\r\n\t\t\t\t\t\t\t\tif(info.abort) return;\r\n\t\t\t\t\t\t\t\tthis.state = info.state;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tthis.currentOverallStep++;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn;\r\n\t\t};\r\n\r\n\t\t// Create the Coroutine\r\n\t\tthis.runner = coroutine(f, this);\r\n\t}\r\n\r\n\tmakeCommand(button, pressed, strength, angle) {\r\n\t\treturn {\r\n\t\t\tbutton   : button,\r\n\t\t\tpressed  : pressed,\r\n\t\t\tstrength : strength,\r\n\t\t\tangle    : angle\r\n\t\t};\r\n\t}\r\n\r\n\ttimedCommand(command, blocking, duration) {\r\n\t\tsetTimeout(this.issueCommand, duration, this, command, blocking); // New Timer\r\n\r\n\t\t// Block Macro progress\r\n\t\tthis.onWait = blocking;\r\n\t}\r\n\r\n\tissueCommand(obj, command, blocking) {\r\n\t\tif(command !== null) {\r\n\t\t\tobj.commands.push(command);\r\n\t\t}\r\n\r\n\t\t// If step was blocking, unblock\r\n\t\tif(blocking) obj.onWait = false;\r\n\t}\r\n\r\n\treset() {\r\n\t\tthis.state = MacroStates.INACTIVE;\r\n\r\n\t\tif(this.onWait) {\r\n\t\t\tthis.onWait = false;\r\n\r\n\t\t\tclearTimeout(this.waitTimeout);\r\n\r\n\t\t\tthis.waitTimeout = null;\r\n\t\t}\r\n\r\n\t\tthis.currentOverallStep = 0;\r\n\r\n\t\tif(this.runner !== null) {\r\n\t\t\tthis.runner({state : this.state, abort : true});\r\n\r\n\t\t\tthis.runner = null;\r\n\t\t}\r\n\t}\r\n\r\n\ttoString() {\r\n\t\tlet text = \"Macro - \\n\";\r\n\r\n\t\tlet i = 0;\r\n\t\tfor(; i < this.segments.length; i++) {\r\n\t\t\tlet seg = this.segments[i];\r\n\r\n\t\t\ttext += \"\\t\" + seg.name + \" x\" + seg.count.toString() + \"\\n\";\r\n\t\t}\r\n\r\n\t\treturn text;\r\n\t}\r\n}\r\n\r\nclass MacroPlayer {\r\n\tconstructor() {\r\n\t\tthis.state = { selectedMacro : 0,\r\n\t\t\tplayState     : 0,\r\n\t\t\tmacroProgress : 0,\r\n\t\t\tloadConcluded : false\r\n\t\t};\r\n\r\n\t\t// Create JSON Manager\r\n\t\tthis.jsonManager = new JSONManeger();\r\n\r\n\t\t// Create Macro Builders\r\n\t\tthis.builders = [];\r\n\t\tthis.builders[0] = new TimeSkipMacroBuilder(this.jsonManager);\r\n\t\tthis.builders[1] = new LotoIDMacroBuilder(this.jsonManager);\r\n\t\tthis.builders[2] = new WonderBoxMacroBuilder(this.jsonManager);\r\n\t\tthis.builders[3] = new EggHatcherMacroBuilder(this.jsonManager);\r\n\r\n\t\tlet macroCount = this.builders.length;\r\n\r\n\t\t// Init Dirty Bit Array\r\n\t\tthis.dirtyMacro = Array(macroCount).fill(false);\r\n\r\n\t\t// Init Macro Array\r\n\t\tthis.macros = Array(macroCount).fill(null);\r\n\r\n\t\tthis.selectMacro = this.selectMacro.bind(this);\r\n\t\tthis.changeParameter = this.changeParameter.bind(this);\r\n\t}\r\n\r\n\tcheckLoadConcluded() {\r\n\t\tvar concluded = this.jsonManager.loadConcluded;\r\n\r\n\t\tif(!concluded) return;\r\n\r\n\t\tvar i = 0;\r\n\t\tfor(; i < this.builders.length; i++) {\r\n\t\t\tthis.buildMacro(i); // Build macro\r\n\r\n\t\t\tif(this.macros[i] === null || this.macros[i] === undefined) {\r\n\t\t\t\tconcluded = false;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis.state.loadConcluded = concluded;\r\n\t}\r\n\r\n\tselectMacro(index) {\r\n\t\tif(this.state.selectedMacro === index) return false;\r\n\r\n\t\tvar audio = new Audio(\"/click.mp3\");\r\n\t\taudio.play();\r\n\r\n\t\tvar currentMacro = this.macros[this.state.selectedMacro];\r\n\r\n\t\tif(currentMacro.state !== MacroStates.INACTIVE) {\r\n\t\t\tcurrentMacro.reset();\r\n\r\n\t\t\tthis.state.playState = MacroStates.INACTIVE;\r\n\t\t\tthis.state.macroProgress = 0;\r\n\t\t}\r\n\r\n\t\tthis.state.selectedMacro = index;\r\n\r\n\t\treturn true;\r\n\t}\r\n\r\n\tchangeParameter(key, value) {\r\n\t\tlet builder = this.builders[this.state.selectedMacro];\r\n\r\n\t\tif(builder.changeParameter(key, value)) {\r\n\t\t\tthis.dirtyMacro[this.state.selectedMacro] = true;\r\n\t\t}\r\n\t}\r\n\r\n\tplay() {\r\n\t\tvar index = this.state.selectedMacro;\r\n\r\n\t\tvar currentMacro = this.macros[index];\r\n\t\tvar isDirty      = this.dirtyMacro[index];\r\n\r\n\t\tswitch(currentMacro.state) {\r\n\t\t\tdefault:\r\n\t\t\tcase MacroStates.PLAYING:\r\n\t\t\tcase MacroStates.PAUSED:\r\n\t\t\tbreak;\r\n\r\n\t\t\tcase MacroStates.INACTIVE:\r\n\t\t\tcase MacroStates.FINISHED:\r\n\t\t\t\tif(currentMacro.state === MacroStates.FINISHED) {\r\n\t\t\t\t\tcurrentMacro.reset();\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif(isDirty) {\r\n\t\t\t\t\tthis.dirtyMacro[index] = false;\r\n\r\n\t\t\t\t\tthis.buildMacro(index);\r\n\r\n\t\t\t\t\tcurrentMacro = this.macros[index];\r\n\t\t\t\t}\r\n\r\n\t\t\t\tcurrentMacro.startRunner();\r\n\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\tcurrentMacro.state = MacroStates.PLAYING;\r\n\r\n\t\tthis.state.playState = MacroStates.PLAYING;\r\n\r\n\t\treturn true;\r\n\t}\r\n\r\n\tpause() {\r\n\t\tvar currentMacro = this.macros[this.state.selectedMacro];\r\n\r\n\t\tif(currentMacro.state === MacroStates.PLAYING) {\r\n\t\t\tcurrentMacro.state = MacroStates.PAUSED;\r\n\r\n\t\t\tthis.state.playState = MacroStates.PAUSED;\r\n\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\treturn false;\r\n\t}\r\n\r\n\treset() {\r\n\t\tvar currentMacro = this.macros[this.state.selectedMacro];\r\n\r\n\t\tif(currentMacro.state !== MacroStates.INACTIVE) {\r\n\t\t\tcurrentMacro.reset();\r\n\r\n\t\t\tthis.state.playState = MacroStates.INACTIVE\r\n\t\t\tthis.state.macroProgress = 0;\r\n\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\treturn false;\r\n\t}\r\n\r\n\tgetMacroState() {\r\n\t\treturn { macroState : this.state.playState,\r\n\t\t\t\tmacroProgress : this.state.macroProgress };\r\n\t}\r\n\r\n\tgetAllMacroData() {\r\n\t\tlet dataArray = [];\r\n\r\n\t\tlet i = 0;\r\n\t\tfor(; i < this.builders.length; i++) {\r\n\t\t\tlet builder = this.builders[i];\r\n\r\n\t\t\tdataArray[i] = builder.getRenderData();\r\n\t\t}\r\n\r\n\t\treturn dataArray;\r\n\t}\r\n\r\n\tgetCurrentMacroData() {\r\n\t\tvar builder = this.builders[this.state.selectedMacro];\r\n\r\n\t\treturn builder.getRenderData();\r\n\t}\r\n\r\n\tbuildMacro(index) {\r\n\t\tvar builder = this.builders[index];\r\n\r\n\t\tvar macro = builder.build(this.parameters);\r\n\r\n\t\tthis.macros[index] = macro;\r\n\r\n\t\tconsole.log(macro.toString());\r\n\t}\r\n\r\n\tupdateMacros() {\r\n\t\tvar i = 0;\r\n\t\tfor(; i < this.macroBuilders.length; i++) {\r\n\t\t\tvar dirty   = this.macroParamsDirty[i];\r\n\r\n\t\t\tif(dirty) {\r\n\t\t\t\tthis.buildMacro(i);\r\n\r\n\t\t\t\tthis.macroParamsDirty[i] = false;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tupdate() {\r\n\t\tvar response = undefined;\r\n\r\n\t\tif(!this.state.loadConcluded) {\r\n\t\t\tthis.checkLoadConcluded();\r\n\t\t}\r\n\r\n\t\t// If Load has been completed\r\n\t\tif(this.state.loadConcluded) {\r\n\t\t\tvar runResult = undefined;\r\n\r\n\t\t\t// Get current Macro\r\n\t\t\tvar currentMacro = this.macros[this.state.selectedMacro];\r\n\r\n\t\t\tif(currentMacro === undefined || currentMacro === null) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t//console.log(currentMacro.state);\r\n\t\t\tswitch(currentMacro.state) {\r\n\t\t\t\tdefault:\r\n\t\t\t\tcase MacroStates.INACTIVE:\r\n\t\t\t\tcase MacroStates.FINISHED:\r\n\t\t\t\treturn;\r\n\r\n\t\t\t\tcase MacroStates.PLAYING:\r\n\t\t\t\t\trunResult = currentMacro\r\n\t\t\t\t\t\t.runner({state : currentMacro.state, abort : false});\r\n\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase MacroStates.PAUSED:\r\n\t\t\t\t\trunResult = currentMacro\r\n\t\t\t\t\t\t.runner({state : currentMacro.state, abort : false});\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\r\n\t\t\t// If a result was obtained\r\n\t\t\tif(runResult !== undefined) {\r\n\t\t\t\t// If the result includes a value\r\n\t\t\t\tif(runResult.value !== undefined) {\r\n\t\t\t\t\tresponse = runResult.value;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif(runResult.done) currentMacro.state = MacroStates.FINISHED;\r\n\t\t\t}\r\n\r\n\t\t\tthis.state.playState = currentMacro.state;\r\n\t\t\tthis.state.macroProgress = currentMacro.progress() * 100;\r\n\t\t}\r\n\r\n\t\treturn response;\r\n\t}\r\n}\r\n\r\nclass KeyLogger {\r\n\tconstructor() {\r\n\t\tthis.keys = {\r\n\t\t\ta               : {pressed : false, pendingLog: null},\r\n\t\t\tb               : {pressed : false, pendingLog: null},\r\n\t\t\tx               : {pressed : false, pendingLog: null},\r\n\t\t\ty               : {pressed : false, pendingLog: null},\r\n\t\t\tl               : {pressed : false, pendingLog: null},\r\n\t\t\tlsl             : {pressed : false, pendingLog: null},\r\n\t\t\tlsr             : {pressed : false, pendingLog: null},\r\n\t\t\tr               : {pressed : false, pendingLog: null},\r\n\t\t\trsl             : {pressed : false, pendingLog: null},\r\n\t\t\trsr             : {pressed : false, pendingLog: null},\r\n\t\t\tplus            : {pressed : false, pendingLog: null},\r\n\t\t\tminus           : {pressed : false, pendingLog: null},\r\n\t\t\tup              : {pressed : false, pendingLog: null},\r\n\t\t\tright           : {pressed : false, pendingLog: null},\r\n\t\t\tleft            : {pressed : false, pendingLog: null},\r\n\t\t\tdown            : {pressed : false, pendingLog: null},\r\n\t\t\tleft_stick      : {pressed : false, pendingLog: null},\r\n\t\t\tright_stick     : {pressed : false, pendingLog: null},\r\n\t\t\tleft_stick_dir  : {pressed : false, pendingLog: null},\r\n\t\t\tright_stick_dir : {pressed : false, pendingLog: null},\r\n\t\t\thome            : {pressed : false, pendingLog: null}\r\n\t\t};\r\n\r\n\t\tthis.startTime = 0;\r\n\r\n\t\tthis.log = [];\r\n\t\tthis.log_count = 0;\r\n\t}\r\n\r\n\tclear() {\r\n\t\tthis.keys = {\r\n\t\t\ta               : {pressed : false, pendingLog: null},\r\n\t\t\tb               : {pressed : false, pendingLog: null},\r\n\t\t\tx               : {pressed : false, pendingLog: null},\r\n\t\t\ty               : {pressed : false, pendingLog: null},\r\n\t\t\tl               : {pressed : false, pendingLog: null},\r\n\t\t\tlsl             : {pressed : false, pendingLog: null},\r\n\t\t\tlsr             : {pressed : false, pendingLog: null},\r\n\t\t\tr               : {pressed : false, pendingLog: null},\r\n\t\t\trsl             : {pressed : false, pendingLog: null},\r\n\t\t\trsr             : {pressed : false, pendingLog: null},\r\n\t\t\tplus            : {pressed : false, pendingLog: null},\r\n\t\t\tminus           : {pressed : false, pendingLog: null},\r\n\t\t\tup              : {pressed : false, pendingLog: null},\r\n\t\t\tright           : {pressed : false, pendingLog: null},\r\n\t\t\tleft            : {pressed : false, pendingLog: null},\r\n\t\t\tdown            : {pressed : false, pendingLog: null},\r\n\t\t\tleft_stick      : {pressed : false, pendingLog: null},\r\n\t\t\tright_stick     : {pressed : false, pendingLog: null},\r\n\t\t\tleft_stick_dir  : {pressed : false, pendingLog: null},\r\n\t\t\tright_stick_dir : {pressed : false, pendingLog: null},\r\n\t\t\thome            : {pressed : false, pendingLog: null}\r\n\t\t};\r\n\r\n\t\tthis.startTime = 0;\r\n\r\n\t\tthis.log = [];\r\n\t\tthis.log_count = 0;\r\n\t}\r\n\r\n\tpressKey(key, time) {\r\n\t\tif(key !== \"buffer\") {\r\n\t\t\tlet info = this.keys[key];\r\n\r\n\t\t\t// If key is not pressed\r\n\t\t\tif(info.pressed === false) {\r\n\t\t\t\tinfo.pressed = true;\r\n\r\n\t\t\t\tif(this.startTime === 0) {\r\n\t\t\t\t\tthis.startTime = time;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tinfo.pendingLog = this.addLogEntry(key, time - this.startTime);\r\n\t\t\t}\r\n\r\n\t\t\tthis.keys[key] = info;\r\n\t\t}\r\n\t}\r\n\r\n\taddLogEntry(key, time) {\r\n\t\tlet entry = {index: this.log_count, key: key, start: time, duration: 0}\r\n\r\n\t\tthis.log[this.log_count] = entry;\r\n\r\n\t\tthis.log_count++;\r\n\r\n\t\treturn entry;\r\n\t}\r\n\r\n\treleaseKey(key, time) {\r\n\t\tif(key !== \"buffer\") {\r\n\t\t\tlet info = this.keys[key];\r\n\r\n\t\t\tif(info.pressed === true) {\r\n\t\t\t\tinfo.pressed = false;\r\n\r\n\t\t\t\tlet entry = info.pendingLog;\r\n\t\t\t\tinfo.pendingLog = null;\r\n\r\n\t\t\t\tentry.duration = time - entry.start - this.startTime;\r\n\r\n\t\t\t\tthis.log[entry.index] = entry;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tgetPressed() {\r\n\t\tlet pressedKeys = [];\r\n\r\n\t\tfor(let entry in this.keys) {\r\n\t\t\tlet info = this.keys[entry];\r\n\r\n\t\t\tif(info.pressed === true) {\r\n\t\t\t\tpressedKeys.push(entry);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn pressedKeys;\r\n\t}\r\n\r\n\tupdate(key, pressed) {\r\n\t\tlet time = (new Date()).getTime();\r\n\r\n\t\t// If key is being pressed\r\n\t\tif(pressed) {\r\n\t\t\tthis.pressKey(key, time);\r\n\t\t}\r\n\t\t// If key is being released\r\n\t\telse {\r\n\t\t\tthis.releaseKey(key, time);\r\n\t\t}\r\n\t}\r\n\r\n\trenderPressed() {\r\n\t\tlet info = Object.entries(this.keys);\r\n\r\n\t\tlet render = [];\r\n\t\tlet count  =  0;\r\n\r\n\t\tlet i = 0;\r\n\t\tfor(; i < info.length; i++) {\r\n\t\t\tlet keyData = info[i];\r\n\r\n\t\t\tif(keyData[1].pressed === true) {\r\n\t\t\t\trender[count] = (\r\n\t\t\t\t\t<div className = \"pressedKey\" key = {keyData[0]}>\r\n\t\t\t\t\t\t{keyData[0]}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t);\r\n\r\n\t\t\t\tcount++;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<div id = \"PressedKeys\">\r\n\t\t\t\t<b> Pressed </b>\r\n\t\t\t\t{render}\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n\trenderLogged() {\r\n\t\tvar keyLogs = [];\r\n\r\n\t\tif(this.log_count > 0) {\r\n\t\t\tvar i = 0;\r\n\t\t\tfor(; i < Math.min(3, this.log_count); i++) {\r\n\t\t\t\tvar l = this.log[this.log_count - (i + 1)];\r\n\t\t\t\tkeyLogs.push(\r\n\t\t\t\t\t<KeyLog key = {\"keylog_\" + i} index = {l.index.toString()}\r\n\t\t\t\t\t\tpressedKey = {l.key} start = {l.start} duration = {l.duration}/>\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<div id = \"KeyLogs\">\r\n\t\t\t\t{keyLogs}\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\n//\r\n// - APP\r\n//\r\n\r\nclass App extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {};\r\n\r\n\t\tthis.onButtonEvent   = this.onButtonEvent.bind(this);\r\n\t\tthis.selectMacro     = this.selectMacro.bind(this);\r\n\t\tthis.parameterChange = this.parameterChange.bind(this);\r\n\r\n\t\tthis.toggleJoystick = this.toggleJoystick.bind(this);\r\n\t\tthis.clicks = 0;\r\n\r\n\t\tthis.macroPlayer = new MacroPlayer();\r\n\r\n\t\tthis.keyLogger = new KeyLogger();\r\n\t\tthis.currentTime = 0;\r\n\r\n\t\tthis.state = {selectedMacro :  0,\r\n\t\t\t\t\t  macroState    : -1,\r\n\t\t\t\t\t  macroProgress :  0,\r\n\t\t\t\t\t\tdisplayInfo   : false\r\n\t\t};\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.UpdateTimerId = setInterval(\r\n\t\t\t() => this.update(),\r\n\t\t\t20\r\n\t\t);\r\n\t}\r\n\r\n\tcomponentWillUnmount() {\r\n\t\tclearInterval(this.UpdateTimerId);\r\n\t}\r\n\r\n\tupdate() {\r\n\t\tthis.currentTime += 20;\r\n\r\n\t\tvar res = this.macroPlayer.update(this.currentTime);\r\n\r\n\t\tthis.setState(this.macroPlayer.getMacroState());\r\n\r\n\t\t// If there was an Update\r\n\t\tif(res !== undefined) {\r\n\t\t\t// Iterate the Log\r\n\t\t\tlet i;\r\n\t\t\tfor(i = 0; i < res.length; i++) {\r\n\t\t\t\tlet command = res[i];\r\n\r\n\t\t\t\t// If it was a JoyStick Update\r\n\t\t\t\tif(command.button === \"right_stick_dir\" ||\r\n\t\t\t\t\t command.button === \"left_stick_dir\") {\r\n\t\t\t\t\tthis.handleSwitchJoySticks(command.button, command.strength, command.angle);\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// If it was a Key Update\r\n\t\t\t\telse {\r\n\t\t\t\t\tthis.handleSwitchKeys(command.button, command.pressed);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.keyLogger.update(command.button, command.pressed);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tonButtonEvent(name) {\r\n\t\tvar audio = new Audio(\"/click.mp3\");\r\n    audio.play();\r\n\r\n\t\tswitch (name) {\r\n\t\t\tdefault:\r\n\t\t\treturn;\r\n\r\n\t\t\tcase \"play\":\r\n\t\t\t\tthis.macroPlayer.play();\r\n\t\t\tbreak;\r\n\r\n\t\t\tcase \"pause\":\r\n\t\t\t\tthis.macroPlayer.pause();\r\n\t\t\tbreak;\r\n\r\n\t\t\tcase \"reset\":\r\n\t\t\t\tif(this.macroPlayer.reset()) {\r\n\t\t\t\t\tvar pressedKeys = this.keyLogger.getPressed();\r\n\r\n\t\t\t\t\tfor(let key in pressedKeys) {\r\n\t\t\t\t\t\tthis.handleSwitchKeys(key, false);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tthis.keyLogger.clear();\r\n\t\t\t\t}\r\n\t\t\tbreak;\r\n\r\n\t\t\tcase \"info\":\r\n\t\t\t\tlet pressed = !this.state.displayInfo;\r\n\t\t\t\tthis.setState({displayInfo: pressed});\r\n\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\tthis.setState(this.macroPlayer.getMacroState());\r\n\t}\r\n\r\n\tselectMacro(index) {\r\n\t\tif(this.macroPlayer.selectMacro(index)) {\r\n\t\t\tthis.keyLogger.clear();\r\n\t\t}\r\n\t}\r\n\r\n\tparameterChange(key, value) {\r\n\t\tthis.macroPlayer.changeParameter(key, value);\r\n\t}\r\n\r\n\thandleSwitchJoySticks(joystick, strength, angle) {\r\n\t\tif(window.joyconJS === undefined) return;\r\n\r\n\t\tif(joystick === \"right_stick_dir\") {\r\n\t\t\twindow.joyconJS.onRightJoystick(strength, degToRad(angle));\r\n\t\t}\r\n\r\n\t\tif(joystick === \"left_stick_dir\") {\r\n\t\t\twindow.joyconJS.onLeftJoystick(strength, degToRad(angle));\r\n\t\t}\r\n\t}\r\n\r\n\thandleSwitchKeys(name, pressed) {\r\n\t\tif(window.joyconJS === undefined) return;\r\n\r\n\t\tif(name === \"minus\") {\r\n\t\t\twindow.joyconJS.onMinus(pressed);\r\n\t\t}\r\n\r\n\t\tif(name === \"left-stick\") {\r\n\t\t\twindow.joyconJS.onLeftJoystickPressed(pressed);\r\n\t\t}\r\n\r\n\t\tif(name === \"up\") {\r\n\t\t\twindow.joyconJS.onUp(pressed);\r\n\t\t}\r\n\r\n\t\tif(name === \"right\") {\r\n\t\t\twindow.joyconJS.onRight(pressed);\r\n\t\t}\r\n\r\n\t\tif(name === \"down\") {\r\n\t\t\twindow.joyconJS.onDown(pressed);\r\n\t\t}\r\n\r\n\t\tif(name === \"left\") {\r\n\t\t\twindow.joyconJS.onLeft(pressed);\r\n\t\t}\r\n\r\n\t\tif(name === \"l\") {\r\n\t\t\twindow.joyconJS.onL(pressed);\r\n\t\t}\r\n\r\n\t\tif(name === \"lsl\") {\r\n\t\t\twindow.joyconJS.onLeftSL(pressed);\r\n\t\t}\r\n\r\n\t\tif(name === \"lsr\") {\r\n\t\t\twindow.joyconJS.onLeftSR(pressed);\r\n\t\t}\r\n\r\n\t\tif(name === \"plus\") {\r\n\t\t\twindow.joyconJS.onPlus(pressed);\r\n\t\t}\r\n\r\n\t\tif(name === \"a\") {\r\n\t\t\twindow.joyconJS.onA(pressed);\r\n\t\t}\r\n\r\n\t\tif(name === \"b\") {\r\n\t\t\twindow.joyconJS.onB(pressed);\r\n\t\t}\r\n\r\n\t\tif(name === \"x\") {\r\n\t\t\twindow.joyconJS.onX(pressed);\r\n\t\t}\r\n\r\n\t\tif(name === \"y\") {\r\n\t\t\twindow.joyconJS.onY(pressed);\r\n\t\t}\r\n\r\n\t\tif(name === \"r\") {\r\n\t\t\twindow.joyconJS.onR(pressed);\r\n\t\t}\r\n\r\n\t\tif(name === \"rsl\") {\r\n\t\t\twindow.joyconJS.onRightSL(pressed);\r\n\t\t}\r\n\r\n\t\tif(name === \"rsr\") {\r\n\t\t\twindow.joyconJS.onRightSR(pressed);\r\n\t\t}\r\n\r\n\t\tif(name === \"right-stick\") {\r\n\t\t\twindow.joyconJS.onRightJoystickPressed(pressed);\r\n\t\t}\r\n\r\n\t\tif(name === \"home\") {\r\n\t\t\twindow.joyconJS.onHome(pressed);\r\n\t\t}\r\n\t}\r\n\r\n\ttoggleJoystick() {\r\n\t\tswitch(this.clicks) {\r\n\t\t\tdefault:\r\n\t\t\tbreak;\r\n\t\t\t\r\n\t\t\tcase 0:\r\n\t\t\t\tthis.handleSwitchJoySticks(\"right_stick_dir\", 100, 0);\r\n\t\t\tbreak;\r\n\r\n\t\t\tcase 1:\r\n\t\t\t\tthis.handleSwitchJoySticks(\"right_stick_dir\",   0, 0);\r\n\t\t\tbreak;\r\n\r\n\t\t\tcase 2:\r\n\t\t\t\tthis.handleSwitchJoySticks(\"left_stick_dir\", 100, 0);\r\n\t\t\tbreak;\r\n\r\n\t\t\tcase 3:\r\n\t\t\t\tthis.handleSwitchJoySticks(\"left_stick_dir\",   0, 0);\r\n\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\tthis.clicks = (this.clicks + 1) % 4;\r\n\t}\r\n\r\n\trenderMacros() {\r\n\t\tif(!this.macroPlayer.state.loadConcluded) return (<b> Loading </b>);\r\n\r\n\t\tlet selected = this.macroPlayer.state.selectedMacro;\r\n\r\n\t\tlet data = this.macroPlayer.getAllMacroData();\r\n\r\n\t\tlet index = -1;\r\n\r\n\t\treturn data.map((entry) => {\r\n\t\t\t\tindex++;\r\n\r\n\t\t\t\tvar isSelected = selected === index;\r\n\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<MacroButton key = {\"macro_\" + index.toString()} index = {index}\r\n\t\t\t\t\t\tselected = {isSelected} name = {entry.name} src = {entry.icon}\r\n\t\t\t\t\t\tclickHandler = {this.selectMacro}/>\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t);\r\n\t}\r\n\r\n\trenderParameters() {\r\n\t\tif(!this.macroPlayer.state.loadConcluded) return (<b> Loading </b>);\r\n\r\n\t\tlet data = this.macroPlayer.getCurrentMacroData();\r\n\r\n\t\treturn (\r\n\t\t\t<ParameterInput key = {\"macroParams\"}\r\n\t\t\t\tmacro = {data.name} parameters = {data.parameters}\r\n\t\t\t\teventHandler = {this.parameterChange}/>\r\n\t\t);\r\n\t}\r\n\r\n\trenderInfo() {\r\n\t\tlet data = this.macroPlayer.getCurrentMacroData();\r\n\t\tlet name = data.name;\r\n\t\tlet info = data.info;\r\n\r\n\t\treturn (\r\n\t\t\t<div id = \"Info\">\r\n\t\t\t\t<button className = \"info-button\" id = \"InfoButton\"\r\n\t\t\t\t\tonMouseDown  = {e => this.onButtonEvent(\"info\", true)}\r\n\t\t\t\t\tonTouchStart = {e => this.onButtonEvent(\"info\", true)}>\r\n\t\t\t\t\tInfo\r\n\t\t\t\t</button>\r\n\t\t\t\t<InfoOverlay show = {this.state.displayInfo}\r\n\t\t\t\t\ttitle = {name} sections = {info}\r\n\t\t\t\t\tonMouseDown  = {e => this.onButtonEvent(\"info\", false)}\r\n\t\t\t\t\tonTouchStart = {e => this.onButtonEvent(\"info\", false)}/>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst pressed = this.keyLogger.renderPressed();\r\n\t\tconst logging = this.keyLogger.renderLogged();\r\n\r\n\t\tconst macros = this.renderMacros();\r\n\t\tconst parameters = this.renderParameters();\r\n\t\tconst info = this.renderInfo();\r\n\r\n\t\tconst current = this.macroPlayer.state.playState;\r\n\r\n\t\treturn (\r\n\t\t\t<div className = \"App\" style = {{backgroundImage: \"url(./images/background.png)\"}}>\r\n\t\t\t\t<div className = \"App-header\">\r\n\t\t\t\t\t<img className = \"icon\" src = \"./images/macro_app_icon.png\" alt = \"AppIcon\"/>\r\n\t\t\t\t\t<b className = \"App-title\"\r\n\t\t\t\t\t\tstyle = {{color: \"black\"}}> POKÉMACROS </b>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div id = \"body\">\r\n\t\t\t\t\t<div id = \"Macros\">\r\n\t\t\t\t\t\t{macros}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div id = \"Parameters\">\r\n\t\t\t\t\t\t{parameters}\r\n\t\t\t\t\t\t{info}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div id = \"Tracker\">\r\n\t\t\t\t\t\t<ProgressBar key = \"progressbar\" percentage = {this.state.macroProgress} />\r\n\t\t\t\t\t\t<div id = \"KeyLogging\">\r\n\t\t\t\t\t\t\t{pressed}\r\n\t\t\t\t\t\t\t{logging}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div id = \"PlayerButtons\">\r\n\t\t\t\t\t\t<PlayerButton id = \"ResetButton\" selected = {current === MacroStates.INACTIVE} name = \"Reset\"\r\n\t\t\t\t\t\t\tsrc = \"./images/reset_icon.png\" clickHandler = {e => this.onButtonEvent(\"reset\")}/>\r\n\t\t\t\t\t\t<PlayerButton id = \"PlayButton\" selected = {current === MacroStates.PLAYING} name = \"Play\"\r\n\t\t\t\t\t\t\tsrc = \"./images/play_icon.png\" clickHandler = {e => this.onButtonEvent(\"play\")}/>\r\n\t\t\t\t\t\t<PlayerButton id = \"PauseButton\" selected = {current === MacroStates.PAUSED} name = \"Pause\"\r\n\t\t\t\t\t\t\tsrc = \"./images/pause_icon.png\" clickHandler = {e => this.onButtonEvent(\"pause\")}/>\r\n\t\t\t\t\t\t<button id = \"TestButton\" className = \"player-button\"\r\n\t\t\t\t\t\t\t\tonMouseDown  = {e => this.toggleJoystick()}\r\n\t\t\t\t\t  \t\tonTouchStart = {e => this.toggleJoystick()}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport './index.css';\r\n\r\nReactDOM.render(\r\n  <App />,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}