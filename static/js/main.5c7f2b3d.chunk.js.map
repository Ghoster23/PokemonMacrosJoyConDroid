{"version":3,"sources":["App.js","index.js"],"names":["MonthLength","MacroStates","LoadJson","path","a","async","res","fetch","then","response","json","PlayerButton","props","divStyle","background","iconStyle","selected","filter","className","id","name","style","onClick","e","clickHandler","src","alt","MacroButton","index","ProgressBar","width","percentage","KeyLog","key","ind","pressedKey","onTime","offTime","CheckBox","state","handleChange","bind","event","this","onChange","paramKey","target","checked","type","React","Component","IntegerInput","value","parseInt","currentTarget","readOnly","readonly","max","min","DropDownList","options","map","string","toString","renderOptions","ParameterInput","active","params","parameters","macro","daysToAdvance","eventHandler","dateFormat","getFirst","attempts","count","waitTime","InfoOverlay","display_style","display","show","sections","i","length","section","title","text","onMouseDown","onTouchStart","SimpleDate","str","day","month","year","setFromString","days","len","rem","isLeapYear","other","date1","Date","getTime","substr","oYear","oMonth","JSONManeger","segments","FstSkip","filename","object","FstSkipUS","AdvDay","AdvDayUS","LotoID","Return","Universal","UniversalUS","SelectInBox","StartWonder","EndWonder","entries","Object","loadedCount","segmentCount","loadConcluded","loadMacro","segment","console","log","JSON","parse","stringify","MacroBuilder","jsonM","icon","jsonManager","macroJSON","paramHandlers","info","handler","getMacro","concat","TimeSkipMacroBuilder","currentFormat","onDaysToAdvanceChange","onDateFormatChange","text1","format","concatToMacro","InitMacro","adjust","Math","floor","AdvanceDay","Macro","LotoIDMacroBuilder","onAttemptsChange","onGetFirstChange","bool","currentDate","tomorrow","increment","counter","WonderBoxMacroBuilder","onCountChange","onWaitTimeChange","text2","time","row","column","ConcludeTrade","onWait","waitTimeout","runner","totalSteps","currentOverallStep","totalTime","j","subTotal","f","abort","steps","reps","k","step","button","pressed","l","wait","args","o","apply","next","x","coroutine","duration","setTimeout","resume","obj","clearTimeout","seg","MacroPlayer","selectedMacro","playState","macroProgress","builders","macroCount","dirtyMacro","Array","fill","macros","selectMacro","changeParameter","concluded","buildMacro","undefined","Audio","play","currentMacro","reset","isDirty","startRunner","macroState","dataArray","builder","getRenderData","build","macroBuilders","macroParamsDirty","checkLoadConcluded","runResult","done","progress","KeyLogger","keys","pendingLog","b","y","lsl","lsr","rsl","rsr","plus","minus","up","right","left","down","left_stick","right_stick","left_stick_dir","right_stick_dir","home","log_count","addLogEntry","entry","pressedKeys","push","pressKey","releaseKey","render","keyData","keyLogs","App","onButtonEvent","parameterChange","macroPlayer","keyLogger","currentTime","displayInfo","UpdateTimerId","setInterval","update","clearInterval","setState","getMacroState","handleSwitchKeys","pause","getPressed","clear","window","joyconJS","onMinus","onLeftJoystickPressed","onUp","onRight","onDown","onLeft","onLeftSL","onLeftSR","onPlus","onA","onB","onX","onY","onRightSL","onRightSR","onRightJoystickPressed","onHome","data","getAllMacroData","isSelected","getCurrentMacroData","renderPressed","logging","renderLogged","renderMacros","renderParameters","renderInfo","current","backgroundImage","color","ReactDOM","document","getElementById"],"mappings":"4TAOMA,G,MAAc,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,KAE3DC,EACK,EADLA,EAEK,EAFLA,EAGK,EAHLA,EAIK,EA6BX,SAAeC,EAASC,GAAxB,eAAAC,EAAAC,OAAA,uDACKC,EAAM,KAEA,gFAHX,WAAAF,EAAA,MAKaG,MAFF,gFAEcJ,GAAMK,MAAK,SAAAC,GAAc,OAAOA,EAASC,WALlE,cAKCJ,EALD,yBAOQA,GAPR,qCAcA,SAASK,EAAaC,GACrB,IAAIC,EAAW,CAAEC,WAAa,QAC1BC,EAAY,GAOhB,OALGH,EAAMI,WACRH,EAAY,CAAEC,WAAa,QAC3BC,EAAY,CAAEE,OAAS,cAIvB,yBAAKC,UAAY,gBAAgBC,GAAMP,EAAMQ,KAAMC,MAASR,EAC3DS,QAAW,SAAAC,GAAC,OAAIX,EAAMY,iBACtB,yBAAKN,UAAY,OAAOO,IAAOb,EAAMa,IAAKC,IAAOd,EAAMQ,KAAO,eAC7DC,MAASN,KAKb,SAASY,EAAYf,GACpB,IAAIS,EAAQ,CAAEP,WAAa,SAG3B,OAFGF,EAAMI,WAAUK,EAAQ,CAACP,WAAa,UAGxC,yBAAKI,UAAY,SAChB,yBAAKA,UAAY,eAAeC,GAAMP,EAAMQ,KAAMC,MAASA,EAC1DC,QAAW,SAAAC,GAAC,OAAIX,EAAMY,aAAaZ,EAAMgB,SACzC,yBAAKV,UAAY,OAAOO,IAAOb,EAAMa,IAAKC,IAAO,QAAUd,EAAMQ,QAElE,2BAAOF,UAAY,sBACjBN,EAAMQ,OAMX,SAASS,EAAYjB,GACpB,IAAMkB,EAAQ,CAAEA,MAAK,UAAMlB,EAAMmB,WAAZ,MAErB,OACC,yBAAKb,UAAY,gBAChB,yBAAKA,UAAY,SAASG,MAASS,KAKtC,SAASE,EAAOpB,GACf,OACC,yBAAKqB,IAAOrB,EAAMsB,IAAKhB,UAAY,WAClC,uBAAGA,UAAY,gBAAf,IAAgCN,EAAMgB,MAAtC,KACA,uBAAGV,UAAY,gBAAf,IAAgCN,EAAMuB,WAAtC,KACA,uBAAGjB,UAAY,gBAAf,IAAgCN,EAAMwB,OAAtC,KACA,uBAAGlB,UAAY,gBAAf,IAAgCN,EAAMyB,QAAtC,M,IAKGC,E,YACL,WAAY1B,GAAQ,IAAD,8BAClB,4CAAMA,KACD2B,MAAQ,GAEb,EAAKC,aAAe,EAAKA,aAAaC,KAAlB,gBAJF,E,0EAONC,GACZ,OAAOC,KAAK/B,MAAMgC,SAASD,KAAK/B,MAAMiC,SAAUH,EAAMI,OAAOC,W,+BAI7D,OACC,2BAAOC,KAAO,WAAWD,QAAWJ,KAAK/B,MAAMmC,QAASH,SAAYD,KAAKH,mB,GAdrDS,IAAMC,WA+CvBC,E,YACL,WAAYvC,GAAQ,IAAD,8BAClB,4CAAMA,KACD2B,MAAQ,GAEb,EAAKC,aAAe,EAAKA,aAAaC,KAAlB,gBAJF,E,0EAONC,GACc,KAAvBA,EAAMI,OAAOM,MAKhBT,KAAK/B,MAAMgC,SAASS,SAASX,EAAMY,cAAcF,QAJhDT,KAAK/B,MAAMgC,SAAS,K,+BAQrB,OACC,2BAAOI,KAAO,SAAS9B,UAAY,gBACnCqC,SAAYZ,KAAK/B,MAAM4C,SACvBJ,MAAST,KAAK/B,MAAMwC,MAAOR,SAAYD,KAAKH,aAC5CiB,IAAOd,KAAK/B,MAAM6C,IAAKC,IAAOf,KAAK/B,MAAM8C,U,GAtBjBT,IAAMC,WA2B3BS,E,YACL,WAAY/C,GAAQ,IAAD,8BAClB,4CAAMA,KACD2B,MAAQ,GAEb,EAAKC,aAAe,EAAKA,aAAaC,KAAlB,gBAJF,E,0EAONC,GACc,KAAvBA,EAAMI,OAAOM,MAKhBT,KAAK/B,MAAMgC,SAASS,SAASX,EAAMY,cAAcF,QAJhDT,KAAK/B,MAAMgC,SAAS,K,sCAQrB,OAAOD,KAAK/B,MAAMgD,QAAQC,KAAI,SAACC,EAAQlC,GACtC,OACC,4BAAQK,IAAO,SAAWL,EAAMmC,WAAYX,MAAOxB,GAAQkC,Q,+BAM7D,IAAIF,EAAUjB,KAAKqB,gBAEnB,OACC,4BAAQ9C,UAAY,iBAAiB0B,SAAYD,KAAKH,cACnDoB,O,GA9BqBX,IAAMC,WAoC3Be,E,YACL,WAAYrD,GAAQ,IAAD,8BAClB,4CAAMA,KAED2B,MAAQ,CAAC2B,QAAS,GAHL,E,sEAMT,IAAD,OACJC,EAASxB,KAAK/B,MAAMwD,WAExB,OAAOzB,KAAK/B,MAAMyD,OACjB,QACC,OACC,yBAAKnD,UAAY,mBAAmBC,GAAK,kBAI3C,IAAK,YACJ,OACC,yBAAKD,UAAY,mBAAmBC,GAAK,kBACxC,yBAAKD,UAAY,oBAChB,2BAAOA,UAAY,mBAAnB,cAGA,yBAAKA,UAAY,aAChB,kBAAC,EAAD,CAAcC,GAAK,gBAAgBC,KAAO,kBACzCgC,MAASe,EAAOG,cAChB1B,SAAY,SAAAQ,GAAK,OAAI,EAAKxC,MAAM2D,aAAa,gBAAiBnB,IAC9DM,IAAM,IAAID,IAAM,YAInB,yBAAKvC,UAAY,oBAChB,2BAAOA,UAAY,mBAAnB,eAGA,yBAAKA,UAAY,aAChB,kBAAC,EAAD,CAAcC,GAAK,aAAaC,KAAO,cACtCgC,MAASe,EAAOK,WAChBZ,QAAW,CAAC,QAAS,MACrBhB,SAAY,SAAAQ,GAAK,OAAI,EAAKxC,MAAM2D,aAAa,aAAcnB,SAOjE,IAAK,UACJ,OACC,yBAAKlC,UAAY,mBAAmBC,GAAK,iBACxC,yBAAKD,UAAY,oBAChB,2BAAOA,UAAY,mBAAnB,kBAGA,yBAAKA,UAAY,aAChB,kBAAC,EAAD,CAAUC,GAAK,eAAeC,KAAO,iBACpC2B,QAAWoB,EAAOM,SAClB5B,SAAW,WACXD,SAAYD,KAAK/B,MAAM2D,iBAI1B,yBAAKrD,UAAY,oBAChB,2BAAOA,UAAY,mBAAnB,YAGA,yBAAKA,UAAY,aAChB,kBAAC,EAAD,CAAcC,GAAK,WAAWC,KAAO,oBACpCgC,MAASe,EAAOO,SAChB9B,SAAY,SAAAQ,GAAK,OAAI,EAAKxC,MAAM2D,aAAa,WAAYnB,IACzDM,IAAM,IAAID,IAAM,YAInB,yBAAKvC,UAAY,oBAChB,2BAAOA,UAAY,mBAAnB,eAGA,yBAAKA,UAAY,aAChB,kBAAC,EAAD,CAAcC,GAAK,aAAaC,KAAO,cACtCgC,MAASe,EAAOK,WAChBZ,QAAW,CAAC,QAAS,MACrBhB,SAAY,SAAAQ,GAAK,OAAI,EAAKxC,MAAM2D,aAAa,aAAcnB,SAOjE,IAAK,aACJ,OACC,yBAAKlC,UAAY,mBAAmBC,GAAK,mBACxC,yBAAKD,UAAY,oBAChB,2BAAOA,UAAY,mBAAnB,SAGA,yBAAKA,UAAY,aAChB,kBAAC,EAAD,CAAcC,GAAK,cAAcC,KAAO,qBACvCgC,MAASe,EAAOQ,MAChB/B,SAAY,SAAAQ,GAAK,OAAI,EAAKxC,MAAM2D,aAAa,QAASnB,IACtDM,IAAM,IAAID,IAAM,SAInB,yBAAKvC,UAAY,oBAChB,2BAAOA,UAAY,mBAAnB,aAGA,yBAAKA,UAAY,aAChB,kBAAC,EAAD,CAAcC,GAAK,iBAAiBC,KAAO,yBAC1CgC,MAASe,EAAOS,SAChBhC,SAAY,SAAAQ,GAAK,OAAI,EAAKxC,MAAM2D,aAAa,WAAYnB,IACzDM,IAAM,IAAID,IAAM,gB,GAhHIR,IAAMC,WA0H7B2B,E,YACL,WAAYjE,GAAQ,IAAD,8BAClB,4CAAMA,KAED2B,MAAQ,GAHK,E,sEAOlB,IAAIuC,EAAgB,CAACC,QAAU,QAC5BpC,KAAK/B,MAAMoE,OAAMF,EAAcC,QAAU,QAK5C,IAHA,IAAIE,EAAW,GAEXC,EAAI,EACFA,EAAIvC,KAAK/B,MAAMqE,SAASE,OAAQD,IAAK,CAC1C,IAAIE,EAAUzC,KAAK/B,MAAMqE,SAASC,GAElCD,EAASC,GACR,yBAAKhE,UAAY,cAAce,IAAO,YAAciD,EAAEnB,YACrD,wBAAI7C,UAAY,oBAAhB,IAAqCkE,EAAQC,MAA7C,KACCD,EAAQE,MAKZ,OACC,yBAAKnE,GAAK,cAAcD,UAAY,eAAeG,MAASyD,GAC3D,yBAAK3D,GAAK,iBAAiBoE,YAAgB5C,KAAK/B,MAAM2E,YAAaC,aAAgB7C,KAAK/B,MAAM4E,eAE9F,yBAAKrE,GAAK,cAAcD,UAAY,YACnC,wBAAIA,UAAY,iBAAhB,IAAkCyB,KAAK/B,MAAMyE,MAA7C,KACEJ,Q,GA/BmBhC,IAAMC,W,IAoD1BuC,E,WACL,WAAYC,GAAM,oBACjB/C,KAAKgD,IAAQ,EACbhD,KAAKiD,MAAQ,EACbjD,KAAKkD,KAAQ,EAEblD,KAAKmD,cAAcJ,G,yDAInB,OAAG/C,KAAKkD,KAAO,IAAM,IACjBlD,KAAKkD,KAAO,MAAQ,GAAKlD,KAAKkD,KAAO,MAAQ,K,gCAQxCE,GACTpD,KAAKgD,KAAOI,EAEZ,IAAIC,EAAMhG,EAAY2C,KAAKiD,OAEvBK,EAAMtD,KAAKgD,IAAMK,EAKrB,IAJkB,IAAfrD,KAAKiD,OAAgBjD,KAAKuD,eAC5BD,GAAO,GAGFA,EAAM,GACXtD,KAAKgD,IAAMM,EAEXtD,KAAKiD,OAAS,EAEI,KAAfjD,KAAKiD,QACPjD,KAAKkD,MAAQ,EACblD,KAAKiD,MAAQ,GAGdI,EAAMhG,EAAY2C,KAAKiD,OAEvBK,EAAMtD,KAAKgD,IAAMK,EACC,IAAfrD,KAAKiD,OAAgBjD,KAAKuD,eAC5BD,GAAO,K,gCAKAF,GAGT,IAFApD,KAAKgD,KAAOI,EAENpD,KAAKgD,KAAO,GAAG,CACpBhD,KAAKiD,OAAS,EAEXjD,KAAKiD,MAAQ,IACfjD,KAAKiD,MAAQ,GACbjD,KAAKkD,MAAQ,GAGd,IAAIG,EAAMhG,EAAY2C,KAAKiD,OACT,IAAfjD,KAAKiD,OAAgBjD,KAAKuD,eAAcF,GAAO,GAElDrD,KAAKgD,KAAOK,K,oCAIAG,GACb,IAAIC,EAAQ,IAAIC,KAAK1D,KAAKoB,YAK1B,OAJY,IAAIsC,KAAKF,EAAMpC,YAEVuC,UAAYF,EAAME,WAExB,Q,wCAIX,IAAIN,EAAMhG,EAAY2C,KAAKiD,OAG3B,OAFkB,IAAfjD,KAAKiD,OAAgBjD,KAAKuD,eAAcF,GAAO,GAE3CA,EAAMrD,KAAKgD,IAAM,I,sCAGU,IAArBD,EAAoB,uDAAd,aACnB/C,KAAKkD,KAAQxC,SAASqC,EAAIa,OAAO,EAAG,IACpC5D,KAAKiD,MAAQvC,SAASqC,EAAIa,OAAO,EAAG,IAAM,EAC1C5D,KAAKgD,IAAQtC,SAASqC,EAAIa,OAAO,EAAG,M,iCAIpC,IAAIZ,EAAQhD,KAAKgD,IAAI5B,WAClBpB,KAAKgD,KAAO,IAAGA,EAAM,IAAMA,GAE9B,IAAIC,GAASjD,KAAKiD,MAAQ,GAAG7B,WAK7B,OAJGpB,KAAKiD,MAAQ,IAAGA,EAAQ,IAAMA,GAErBjD,KAAKkD,KAAK9B,WAER,IAAM6B,EAAQ,IAAMD,I,8BAG3BQ,GACP,IAAIK,EAAQL,EAAMN,KAElB,GAAGW,IAAU7D,KAAKkD,KAAM,CACvB,IAAIY,EAASN,EAAMP,MAEnB,OAAGa,IAAW9D,KAAKiD,MACXO,EAAMR,IAAMhD,KAAKgD,IAGjBc,EAAS9D,KAAKiD,MAItB,OAAOY,EAAQ7D,KAAKkD,S,KAKjBa,E,WACL,aAAe,oBACd/D,KAAKgE,SAAW,CACfC,QAAc,CAACC,SAAU,iBAAiCC,OAAQ,IAClEC,UAAc,CAACF,SAAU,mBAAiCC,OAAQ,IAClEE,OAAc,CAACH,SAAU,kBAAiCC,OAAQ,IAClEG,SAAc,CAACJ,SAAU,oBAAiCC,OAAQ,IAClEI,OAAc,CAACL,SAAU,cAAiCC,OAAQ,IAClEK,OAAc,CAACN,SAAU,gCAAiCC,OAAQ,IAClEM,UAAc,CAACP,SAAU,qBAAiCC,OAAQ,IAClEO,YAAc,CAACR,SAAU,uBAAiCC,OAAQ,IAClEQ,YAAc,CAACT,SAAU,mBAAiCC,OAAQ,IAClES,YAAc,CAACV,SAAU,wBAAiCC,OAAQ,IAClEU,UAAc,CAACX,SAAU,2BAAiCC,OAAQ,KAGnE,IAAIW,EAAUC,OAAOD,QAAQ9E,KAAKgE,UAElChE,KAAKgF,YAAc,EACnBhF,KAAKiF,aAAeH,EAAQtC,OAC5BxC,KAAKkF,eAAgB,EAGrB,IADA,IAAI3C,EAAI,EACFA,EAAIvC,KAAKiF,aAAc1C,IAC5BvC,KAAKmF,UAAUL,EAAQvC,GAAG,I,sDAIZjD,G,+EACX8F,EAAUpF,KAAKgE,SAAS1E,G,mBAEL/B,EAAS6H,EAAQlB,W,OAAxCkB,EAAQjB,O,OAERnE,KAAKgF,aAAe,EAEjBhF,KAAKgF,cAAgBhF,KAAKiF,eAC5BjF,KAAKkF,eAAgB,EACrBG,QAAQC,IAAI,wB,gFAILhG,GACR,IAAI8F,EAAUpF,KAAKgE,SAAS1E,GAE5B,OADWiG,KAAKC,MAAMD,KAAKE,UAAUL,EAAQjB,a,KASzCuB,E,WACL,WAAYC,EAAOlH,EAAMmH,GAAO,oBAC/B5F,KAAK6F,YAAcF,EAEnB3F,KAAKvB,KAAOA,EACZuB,KAAK4F,KAAOA,EAEZ5F,KAAK0B,MAAQ,EACb1B,KAAK8F,UAAY,GAEjB9F,KAAKyB,WAAa,GAClBzB,KAAK+F,cAAgB,GAErB/F,KAAKgG,KAAO,G,4DAGG1G,EAAKmB,GAGpB,OAAOwF,EAFOjG,KAAK+F,cAAczG,IAElBmB,K,+BAGPnB,GACR,OAAIU,KAAK6F,YAAYX,cAEdlF,KAAK6F,YAAYK,SAAS5G,GAFU,O,oCAK9B8F,GACbpF,KAAK8F,UAAY9F,KAAK8F,UAAUK,OAAOf,K,sCAKvC,MAAO,CACN3G,KAAOuB,KAAKvB,KACZmH,KAAO5F,KAAK4F,KACZnE,WAAazB,KAAKyB,WAClBuE,KAAOhG,KAAKgG,U,KAKTI,E,YACL,WAAYT,GAAQ,IAAD,uBAClB,4CAAMA,EAAO,YAAa,gCAGrBlE,WAAWE,cAAgB,EAChC,EAAKF,WAAWI,WAAgB,EAEhC,EAAKwE,cAAgB,GAErB,EAAKC,sBAAwB,EAAKA,sBAAsBxG,KAA3B,gBAC7B,EAAKyG,mBAAwB,EAAKA,mBAAmBzG,KAAxB,gBAE7B,EAAKiG,cAAgB,CACpBpE,cAAgB,EAAK2E,sBACrBzE,WAAgB,EAAK0E,oBAGtB,IAAIC,EACH,2BACC,iCADD,WACkB,+CADlB,UACgD,+CADhD,QAEC,6BACA,6BACA,iCAJD,QAIe,mCAJf,OAI8B,+CAJ9B,0CAKC,6BACA,6BACA,iCAPD,QAOe,yCAPf,qCAQC,6BACA,6BACA,iCAVD,QAUe,0CAVf,oCAlBiB,OAgClB,EAAKR,KAAO,CACX,CACCtD,MAAO,QACPC,KAAM6D,GAEP,CACC9D,MAAO,eACPC,KAAM,iVAEP,CACCD,MAAO,kBACPC,KAAM,0HA3CU,E,mFAiDGS,GACrB,OAAGpD,KAAKyB,WAAWE,gBAAkByB,IACpCpD,KAAKyB,WAAWE,cAAgByB,GAEzB,K,yCAMUqD,GAClB,GAAGzG,KAAKyB,WAAWI,aAAe4E,EAAQ,CAGzC,OAFAzG,KAAKyB,WAAWI,WAAa4E,EAEtBA,GACN,QACA,KAAK,EACJzG,KAAKqG,cAAgB,GACtB,MAEA,KAAK,EACJrG,KAAKqG,cAAgB,KAIvB,OAAO,EAGR,OAAO,I,iCAIGjD,GACV,IAAI1B,EAAQ1B,KAAKkG,SAAS,SAAWlG,KAAKqG,eAE1C3E,EAAM,GAAGM,MAAQoB,EAEjBpD,KAAK0G,cAAchF,K,kCAInB1B,KAAK0G,cAAc1G,KAAKkG,SAAS,UAAYlG,KAAKqG,kB,8BAIlD,IAAIrG,KAAK6F,YAAYX,cAAe,OAAO,KAE3ClF,KAAK8F,UAAY,GAEjB9F,KAAK2G,YAEL,IAAI3E,EAAQhC,KAAKyB,WAAWE,cAG5B,GAAGK,EAAQ,EAAG,CACb,IAAI4E,EAASC,KAAKC,MAAM9E,EAAQ,IAE7B4E,GAAU,KACZA,GAAUC,KAAKC,MAAMF,EAAS,KAG/B5G,KAAK+G,WAAY/E,EAAQ,EAAK4E,GAO/B,OAJA5G,KAAK0G,cAAc1G,KAAKkG,SAAS,WAEjClG,KAAK0B,MAAQ,IAAIsF,EAAMhH,KAAKvB,KAAMuB,KAAK4F,KAAM5F,KAAK8F,WAE3C9F,KAAK0B,U,GAtHqBgE,GA0H7BuB,E,YACL,WAAYtB,GAAQ,IAAD,uBAClB,4CAAMA,EAAO,UAAW,8BAEnBlE,WAAWM,SAAY,EAC5B,EAAKN,WAAWK,UAAY,EAC5B,EAAKL,WAAWI,WAAa,EAE7B,EAAKwE,cAAgB,GAErB,EAAKa,iBAAmB,EAAKA,iBAAiBpH,KAAtB,gBACxB,EAAKqH,iBAAmB,EAAKA,iBAAiBrH,KAAtB,gBACxB,EAAKyG,mBAAqB,EAAKA,mBAAmBzG,KAAxB,gBAE1B,EAAKiG,cAAgB,CACpBhE,SAAY,EAAKmF,iBACjBpF,SAAY,EAAKqF,kBAGlB,IAAIX,EACH,2BACC,iCADD,WACkB,+CADlB,UACgD,+CADhD,QAEC,6BACA,6BACA,iCAJD,yDAKC,6BACA,6BACA,iCAPD,cAOqB,6CAPrB,kDAQC,6BACA,6BACA,iCAVD,QAUe,uCAVf,+CAWC,6BACA,6BACA,iCAbD,QAae,0CAbf,6CAnBiB,OAoClB,EAAKR,KAAO,CACX,CACCtD,MAAO,QACPC,KAAM6D,IAvCU,E,8EA6CFxE,GAChB,OAAGhC,KAAKyB,WAAWM,WAAaC,IAC/BhC,KAAKyB,WAAWM,SAAWC,GAEpB,K,uCAMQoF,GAChB,OAAGpH,KAAKyB,WAAWK,WAAasF,IAC/BpH,KAAKyB,WAAWK,SAAWsF,GAEpB,K,yCAMUX,GAClB,GAAGzG,KAAKyB,WAAWI,aAAe4E,EAAQ,CAGzC,OAFAzG,KAAKyB,WAAWI,WAAa4E,EAEtBA,GACN,QACA,KAAK,EACJzG,KAAKqG,cAAgB,GACtB,MAEA,KAAK,EACJrG,KAAKqG,cAAgB,KAIvB,OAAO,EAGR,OAAO,I,kCAIIgB,GACX,IAAIC,EAAW,IAAIxE,EAAWuE,EAAYjG,YAC1CkG,EAASC,UAAU,GAGhBF,EAAYpE,MAAQqE,EAASrE,MAE5BoE,EAAYnE,KAAOoE,EAASpE,KAC9BlD,KAAK0G,cAAc1G,KAAKkG,SAAS,aAKjClG,KAAK0G,cAAc1G,KAAKkG,SAAS,aAMlClG,KAAK0G,cAAc1G,KAAKkG,SAAS,e,8BAKlC,IAAIlG,KAAK6F,YAAYX,cAAe,OAAO,KAE3ClF,KAAK8F,UAAY,GAEjB,IAAI0B,EAAU,EASd,IAPGxH,KAAKyB,WAAWK,WAClB9B,KAAK0G,cAAc1G,KAAKkG,SAAS,WAEjCsB,EAAU,GAILA,EAAUxH,KAAKyB,WAAWM,UAC/B/B,KAAK0G,cAAc1G,KAAKkG,SAAS,YAAclG,KAAKqG,gBACpDmB,IAEAxH,KAAK0G,cAAc1G,KAAKkG,SAAS,WAEjClG,KAAK0G,cAAc1G,KAAKkG,SAAS,WAKlC,OAFAlG,KAAK0B,MAAQ,IAAIsF,EAAMhH,KAAKvB,KAAMuB,KAAK4F,KAAM5F,KAAK8F,WAE3C9F,KAAK0B,U,GAxImBgE,GA4I3B+B,E,YACL,WAAY9B,GAAQ,IAAD,uBAClB,4CAAMA,EAAO,aAAc,iCAEtBlE,WAAWO,MAAW,EAC3B,EAAKP,WAAWQ,SAAW,GAE3B,EAAKyF,cAAmB,EAAKA,cAAc5H,KAAnB,gBACxB,EAAK6H,iBAAmB,EAAKA,iBAAiB7H,KAAtB,gBAExB,EAAKiG,cAAgB,CACpB/D,MAAS,EAAK0F,cACdzF,SAAW,EAAK0F,kBAGjB,IAAInB,EACH,2BACC,iCADD,iFAEC,6BACA,6BACA,iCAJD,kJAMC,6BACA,6BACA,iCARD,mBASC,6BACA,6BACA,iCAXD,YAWmB,oCAXnB,uEAYC,6BACA,6BACA,iCAdD,YAcmB,wCAdnB,0BAc0D,sCAd1D,4DAkBGoB,EACH,sJAE6C,wCAF7C,gEAIC,6BAJD,oNAQC,6BACA,6BATD,uGAlCiB,OAgDlB,EAAK5B,KAAO,CACX,CACCtD,MAAO,QACPC,KAAM6D,GAEP,CACC9D,MAAO,kBACPC,KAAMiF,IAvDU,E,2EA6DL5F,GACb,OAAGhC,KAAKyB,WAAWO,QAAUA,IAC5BhC,KAAKyB,WAAWO,MAAQA,GAEjB,K,uCAMQ6F,GAChB,OAAG7H,KAAKyB,WAAWQ,WAAa4F,IAC/B7H,KAAKyB,WAAWQ,SAAW4F,GAEpB,K,kCAOGC,EAAKC,GAChB,IAAI/D,EAAWhE,KAAKkG,SAAS,eAE7BlC,EAAS,GAAGtC,MAAM,GAAGM,MAAQ8F,EAC7B9D,EAAS,GAAGtC,MAAM,GAAGM,MAAQ+F,EAE7B/H,KAAK0G,cAAc1C,K,sCAInB,IAAIA,EAAWhE,KAAKkG,SAAS,aAE7BlC,EAAS,GAAGtC,MAAM,GAAGhC,QAAqC,IAA3BM,KAAKyB,WAAWQ,SAE/CjC,KAAK0G,cAAc1C,K,8BAInB,IAAIhE,KAAK6F,YAAYX,cAAe,OAAO,KAE3ClF,KAAK8F,UAAY,GAMjB,IAJA,IAAI9D,EAAS,EACT8F,EAAS,EACTC,EAAS,EAEPD,EAAM,EAAGA,IAAO,CACrB,IAAIC,EAAS,EAAGA,EAAS,IACxB/H,KAAK0G,cAAc1G,KAAKkG,SAAS,gBAEjClG,KAAK2E,YAAYmD,EAAKC,GAEtB/H,KAAKgI,oBAELhG,GACYhC,KAAKyB,WAAWO,QARD+F,KAa5B,GAAG/F,GAAShC,KAAKyB,WAAWO,MAC3B,MAMF,OAFAhC,KAAK0B,MAAQ,IAAIsF,EAAMhH,KAAKvB,KAAMuB,KAAK4F,KAAM5F,KAAK8F,WAE3C9F,KAAK0B,U,GAlIsBgE,GA0I9BsB,E,WACL,WAAYvI,EAAMmH,EAAM5B,GAkBvB,IAAIzB,EACJ,IAnBkC,oBAClCvC,KAAKvB,KAAOA,EACZuB,KAAK4F,KAAOA,EAEZ5F,KAAKJ,MAAQtC,EAEb0C,KAAKiI,QAAS,EACdjI,KAAKkI,YAAc,KAEnBlI,KAAKmI,OAAS,KAEdnI,KAAKgE,SAAWA,EAEhBhE,KAAKoI,WAAa,EAClBpI,KAAKqI,mBAAqB,EAE1BrI,KAAKsI,UAAY,EAGb/F,EAAI,EAAGA,EAAIvC,KAAKgE,SAASxB,OAAQD,IAAK,CACzC,IAIIgG,EAJAnD,EAAUpF,KAAKgE,SAASzB,GAExBiG,EAAW,EAGf,IAAID,EAAI,EAAGA,EAAInD,EAAQ1D,MAAMc,OAAQ+F,IAAK,CAGzCC,GAFWpD,EAAQ1D,MAAM6G,GAERvG,MAGlBhC,KAAKoI,YAAcI,EAAWpD,EAAQpD,O,uDAKvC,OAAuB,IAApBhC,KAAKoI,WAAyB,EAE1BpI,KAAKqI,mBAAqBrI,KAAKoI,a,oCAItC,IAAIK,EAAC,UAAG,SAAJA,IAAI,yFACPzI,KAAKqI,mBAAqB,EAEtBrC,EAAO,CAACpG,MAAQI,KAAKJ,MAAO8I,OAAQ,GAGpCnG,EAAI,EAND,YAODA,EAAIvC,KAAKgE,SAASxB,QAPjB,iBAQF4C,EAAUpF,KAAKgE,SAASzB,GAExBoG,EAAQvD,EAAQ1D,MAChBkH,EAAQxD,EAAQpD,MAGhBuG,EAAI,EAdF,YAeAA,EAAIK,GAfJ,iBAkBDC,EAAI,EAlBH,aAmBCA,EAAIF,EAAMnG,QAnBX,4BAsBExC,KAAKJ,QAAUtC,EAtBjB,iBAuBI,YAvBJ,wBAuBH0I,EAvBG,QAyBK0C,MAzBL,mDA2BH1I,KAAKJ,MAAQoG,EAAKpG,MA3Bf,wBA+BAkJ,EAAOH,EAAME,GAGblL,EAAM,CAAEoL,OAASD,EAAKC,OAAQC,SAAU,EAAMnB,KAAO,GAGrDoB,EAAI,EACJA,EAAI,EAtCJ,aAsCOA,EAAIH,EAAK9G,OAtChB,iBA8CH,OAPArE,EAAIqL,SAAU,EAGdhJ,KAAKkJ,KAAKrC,KAAK/F,IAAIgI,EAAKrJ,OAAQ,KAEhC9B,EAAIkK,KAAOiB,EAAKrJ,OA5Cb,UA8CG9B,EA9CH,YAiDGqC,KAAKiI,OAjDR,iBAkDK,YAlDL,wBAkDFjC,EAlDE,QAmDM0C,MAnDN,mDAoDF1I,KAAKJ,MAAQoG,EAAKpG,MApDhB,wBA8DH,OAPAjC,EAAIqL,SAAU,EAGdhJ,KAAKkJ,KAAKrC,KAAK/F,IAAIgI,EAAKpJ,QAAS,KAEjC/B,EAAIkK,KAAOiB,EAAKpJ,QA5Db,UA8DG/B,EA9DH,YAiEGqC,KAAKiI,QAAUjI,KAAKJ,QAAUtC,EAjEjC,iBAkEK,YAlEL,wBAkEF0I,EAlEE,QAmEM0C,MAnEN,mDAoEF1I,KAAKJ,MAAQoG,EAAKpG,MApEhB,wBAuEHI,KAAKqI,qBAvEF,QAsCuBY,IAtCvB,wBAmBmBJ,IAnBnB,wBAeUN,IAfV,uBAOyBhG,IAPzB,sFAAJkG,EAAI,SAgFRzI,KAAKmI,OA3uBP,SAAmBM,EAAGU,GACrB,IAAIC,EAAIX,EAAEY,MAAMF,GAIhB,OAFAC,EAAEE,OAEK,SAASC,GACf,OAAOH,EAAEE,KAAKC,IAquBAC,CAAUf,EAAGzI,Q,2BAGvByJ,GACJzJ,KAAKkI,YAAcwB,WAAW1J,KAAK2J,OAAQF,EAAUzJ,MACrDA,KAAKiI,QAAS,I,6BAGR2B,GACNA,EAAI3B,QAAS,I,8BAIbjI,KAAKJ,MAAQtC,EAEV0C,KAAKiI,SACPjI,KAAKiI,QAAS,EAEd4B,aAAa7J,KAAKkI,aAElBlI,KAAKkI,YAAc,MAGpBlI,KAAKqI,mBAAqB,EAEP,OAAhBrI,KAAKmI,SACPnI,KAAKmI,OAAO,CAACvI,MAAQI,KAAKJ,MAAO8I,OAAQ,IAEzC1I,KAAKmI,OAAS,Q,iCAQf,IAHA,IAAIxF,EAAO,aAEPJ,EAAI,EACFA,EAAIvC,KAAKgE,SAASxB,OAAQD,IAAK,CACpC,IAAIuH,EAAM9J,KAAKgE,SAASzB,GAExBI,GAAQ,KAAOmH,EAAIrL,KAAO,KAAOqL,EAAI9H,MAAMZ,WAAa,KAGzD,OAAOuB,M,KAIHoH,E,WACL,aAAe,oBACd/J,KAAKJ,MAAQ,CAAEoK,cAAgB,EAC9BC,UAAgB,EAChBC,cAAgB,EAChBhF,eAAgB,GAIjBlF,KAAK6F,YAAc,IAAI9B,EAGvB/D,KAAKmK,SAAW,GAChBnK,KAAKmK,SAAS,GAAK,IAAI/D,EAAqBpG,KAAK6F,aACjD7F,KAAKmK,SAAS,GAAK,IAAIlD,EAAmBjH,KAAK6F,aAC/C7F,KAAKmK,SAAS,GAAK,IAAI1C,EAAsBzH,KAAK6F,aAElD,IAAIuE,EAAapK,KAAKmK,SAAS3H,OAG/BxC,KAAKqK,WAAaC,MAAMF,GAAYG,MAAK,GAGzCvK,KAAKwK,OAASF,MAAMF,GAAYG,KAAK,MAErCvK,KAAKyK,YAAczK,KAAKyK,YAAY3K,KAAKE,MACzCA,KAAK0K,gBAAkB1K,KAAK0K,gBAAgB5K,KAAKE,M,iEAIjD,IAAI2K,EAAY3K,KAAK6F,YAAYX,cAEjC,GAAIyF,EAAJ,CAGA,IADA,IAAIpI,EAAI,EACFA,EAAIvC,KAAKmK,SAAS3H,OAAQD,IAC/BvC,KAAK4K,WAAWrI,GAEM,OAAnBvC,KAAKwK,OAAOjI,SAAkCsI,IAAnB7K,KAAKwK,OAAOjI,KACzCoI,GAAY,GAId3K,KAAKJ,MAAMsF,cAAgByF,K,kCAGhB1L,GACX,GAAGe,KAAKJ,MAAMoK,gBAAkB/K,EAAO,OAAO,EAElC,IAAI6L,MAAM,cAChBC,OAEN,IAAIC,EAAehL,KAAKwK,OAAOxK,KAAKJ,MAAMoK,eAW1C,OATGgB,EAAapL,QAAUtC,IACzB0N,EAAaC,QAEbjL,KAAKJ,MAAMqK,UAAY3M,EACvB0C,KAAKJ,MAAMsK,cAAgB,GAG5BlK,KAAKJ,MAAMoK,cAAgB/K,GAEpB,I,sCAGQK,EAAKmB,GACNT,KAAKmK,SAASnK,KAAKJ,MAAMoK,eAE5BU,gBAAgBpL,EAAKmB,KAC/BT,KAAKqK,WAAWrK,KAAKJ,MAAMoK,gBAAiB,K,6BAK7C,IAAI/K,EAAQe,KAAKJ,MAAMoK,cAEnBgB,EAAehL,KAAKwK,OAAOvL,GAC3BiM,EAAelL,KAAKqK,WAAWpL,GAEnC,OAAO+L,EAAapL,OACnB,QACA,KAAKtC,EACL,KAAKA,EACL,MAEA,KAAKA,EACL,KAAKA,EACD0N,EAAapL,QAAUtC,GACzB0N,EAAaC,QAGXC,IACFlL,KAAKqK,WAAWpL,IAAS,EAEzBe,KAAK4K,WAAW3L,GAEhB+L,EAAehL,KAAKwK,OAAOvL,IAG5B+L,EAAaG,cAQf,OAJAH,EAAapL,MAAQtC,EAErB0C,KAAKJ,MAAMqK,UAAY3M,GAEhB,I,8BAIP,IAAI0N,EAAehL,KAAKwK,OAAOxK,KAAKJ,MAAMoK,eAE1C,OAAGgB,EAAapL,QAAUtC,IACzB0N,EAAapL,MAAQtC,EAErB0C,KAAKJ,MAAMqK,UAAY3M,GAEhB,K,8BAOR,IAAI0N,EAAehL,KAAKwK,OAAOxK,KAAKJ,MAAMoK,eAE1C,OAAGgB,EAAapL,QAAUtC,IACzB0N,EAAaC,QAEbjL,KAAKJ,MAAMqK,UAAY3M,EACvB0C,KAAKJ,MAAMsK,cAAgB,GAEpB,K,sCAOR,MAAO,CAAEkB,WAAapL,KAAKJ,MAAMqK,UAC/BC,cAAgBlK,KAAKJ,MAAMsK,iB,wCAO7B,IAHA,IAAImB,EAAY,GAEZ9I,EAAI,EACFA,EAAIvC,KAAKmK,SAAS3H,OAAQD,IAAK,CACpC,IAAI+I,EAAUtL,KAAKmK,SAAS5H,GAE5B8I,EAAU9I,GAAK+I,EAAQC,gBAGxB,OAAOF,I,4CAMP,OAFcrL,KAAKmK,SAASnK,KAAKJ,MAAMoK,eAExBuB,kB,iCAGLtM,GACV,IAEIyC,EAFU1B,KAAKmK,SAASlL,GAERuM,MAAMxL,KAAKyB,YAE/BzB,KAAKwK,OAAOvL,GAASyC,EAErB2D,QAAQC,IAAI5D,EAAMN,c,qCAKlB,IADA,IAAImB,EAAI,EACFA,EAAIvC,KAAKyL,cAAcjJ,OAAQD,IAAK,CAC3BvC,KAAK0L,iBAAiBnJ,KAGnCvC,KAAK4K,WAAWrI,GAEhBvC,KAAK0L,iBAAiBnJ,IAAK,M,+BAM7B,IAAIzE,OAAW+M,EAOf,GALI7K,KAAKJ,MAAMsF,eACdlF,KAAK2L,qBAIH3L,KAAKJ,MAAMsF,cAAe,CAC5B,IAAI0G,OAAYf,EAGZG,EAAehL,KAAKwK,OAAOxK,KAAKJ,MAAMoK,eAE1C,QAAoBa,IAAjBG,GAA+C,OAAjBA,EAChC,OAID,OAAOA,EAAapL,OACnB,QACA,KAAKtC,EACL,KAAKA,EACL,OAEA,KAAKA,EAKL,KAAKA,EACJsO,EAAYZ,EACV7C,OAAO,CAACvI,MAAQoL,EAAapL,MAAO8I,OAAQ,SAK/BmC,IAAde,SAEqBf,IAApBe,EAAUnL,QACZ3C,EAAW8N,EAAUnL,OAGnBmL,EAAUC,OAAMb,EAAapL,MAAQtC,IAGzC0C,KAAKJ,MAAMqK,UAAYe,EAAapL,MACpCI,KAAKJ,MAAMsK,cAA0C,IAA1Bc,EAAac,WAGzC,OAAOhO,M,KAIHiO,E,WACL,aAAe,oBACd/L,KAAKgM,KAAO,CACXvO,EAAkB,CAACuL,SAAU,EAAOiD,WAAY,MAChDC,EAAkB,CAAClD,SAAU,EAAOiD,WAAY,MAChD1C,EAAkB,CAACP,SAAU,EAAOiD,WAAY,MAChDE,EAAkB,CAACnD,SAAU,EAAOiD,WAAY,MAChDG,IAAkB,CAACpD,SAAU,EAAOiD,WAAY,MAChDI,IAAkB,CAACrD,SAAU,EAAOiD,WAAY,MAChDK,IAAkB,CAACtD,SAAU,EAAOiD,WAAY,MAChDM,IAAkB,CAACvD,SAAU,EAAOiD,WAAY,MAChDO,KAAkB,CAACxD,SAAU,EAAOiD,WAAY,MAChDQ,MAAkB,CAACzD,SAAU,EAAOiD,WAAY,MAChDS,GAAkB,CAAC1D,SAAU,EAAOiD,WAAY,MAChDU,MAAkB,CAAC3D,SAAU,EAAOiD,WAAY,MAChDW,KAAkB,CAAC5D,SAAU,EAAOiD,WAAY,MAChDY,KAAkB,CAAC7D,SAAU,EAAOiD,WAAY,MAChDa,WAAkB,CAAC9D,SAAU,EAAOiD,WAAY,MAChDc,YAAkB,CAAC/D,SAAU,EAAOiD,WAAY,MAChDe,eAAkB,CAAChE,SAAU,EAAOiD,WAAY,MAChDgB,gBAAkB,CAACjE,SAAU,EAAOiD,WAAY,MAChDiB,KAAkB,CAAClE,SAAU,EAAOiD,WAAY,OAGjDjM,KAAKsF,IAAM,GACXtF,KAAKmN,UAAY,E,oDAIjBnN,KAAKgM,KAAO,CACXvO,EAAkB,CAACuL,SAAU,EAAOiD,WAAY,MAChDC,EAAkB,CAAClD,SAAU,EAAOiD,WAAY,MAChD1C,EAAkB,CAACP,SAAU,EAAOiD,WAAY,MAChDE,EAAkB,CAACnD,SAAU,EAAOiD,WAAY,MAChDG,IAAkB,CAACpD,SAAU,EAAOiD,WAAY,MAChDI,IAAkB,CAACrD,SAAU,EAAOiD,WAAY,MAChDK,IAAkB,CAACtD,SAAU,EAAOiD,WAAY,MAChDM,IAAkB,CAACvD,SAAU,EAAOiD,WAAY,MAChDO,KAAkB,CAACxD,SAAU,EAAOiD,WAAY,MAChDQ,MAAkB,CAACzD,SAAU,EAAOiD,WAAY,MAChDS,GAAkB,CAAC1D,SAAU,EAAOiD,WAAY,MAChDU,MAAkB,CAAC3D,SAAU,EAAOiD,WAAY,MAChDW,KAAkB,CAAC5D,SAAU,EAAOiD,WAAY,MAChDY,KAAkB,CAAC7D,SAAU,EAAOiD,WAAY,MAChDa,WAAkB,CAAC9D,SAAU,EAAOiD,WAAY,MAChDc,YAAkB,CAAC/D,SAAU,EAAOiD,WAAY,MAChDe,eAAkB,CAAChE,SAAU,EAAOiD,WAAY,MAChDgB,gBAAkB,CAACjE,SAAU,EAAOiD,WAAY,MAChDiB,KAAkB,CAAClE,SAAU,EAAOiD,WAAY,OAGjDjM,KAAKsF,IAAM,GACXtF,KAAKmN,UAAY,I,+BAGT7N,EAAKuI,GACb,GAAW,WAARvI,EAAkB,CACpB,IAAI0G,EAAOhG,KAAKgM,KAAK1M,IAGD,IAAjB0G,EAAKgD,UACPhD,EAAKgD,SAAU,EAEfhD,EAAKiG,WAAajM,KAAKoN,YAAY9N,EAAKuI,IAGzC7H,KAAKgM,KAAK1M,GAAO0G,K,kCAIP1G,EAAKuI,GAChB,IAAIwF,EAAQ,CAACpO,MAAOe,KAAKmN,UAAW7N,IAAKA,EAAKG,OAAQoI,EAAMnI,QAAS,IAMrE,OAJAM,KAAKsF,IAAItF,KAAKmN,WAAaE,EAE3BrN,KAAKmN,YAEEE,I,iCAGG/N,EAAKuI,GACf,GAAW,WAARvI,EAAkB,CACpB,IAAI0G,EAAOhG,KAAKgM,KAAK1M,GAErB,IAAoB,IAAjB0G,EAAKgD,QAAkB,CACzBhD,EAAKgD,SAAU,EAEf,IAAIqE,EAAQrH,EAAKiG,WACjBjG,EAAKiG,WAAa,KAElBoB,EAAM3N,QAAUmI,EAEhB7H,KAAKsF,IAAI+H,EAAMpO,OAASoO,M,mCAM1B,IAAIC,EAAc,GAElB,IAAI,IAAID,KAASrN,KAAKgM,KAAM,EAGP,IAFThM,KAAKgM,KAAKqB,GAEbrE,SACPsE,EAAYC,KAAKF,GAInB,OAAOC,I,6BAGDhO,EAAK0J,EAASnB,GAEjBmB,EACFhJ,KAAKwN,SAASlO,EAAKuI,GAInB7H,KAAKyN,WAAWnO,EAAKuI,K,sCAWtB,IANA,IAAI7B,EAAOjB,OAAOD,QAAQ9E,KAAKgM,MAE3B0B,EAAS,GACT1L,EAAU,EAEVO,EAAI,EACFA,EAAIyD,EAAKxD,OAAQD,IAAK,CAC3B,IAAIoL,EAAU3H,EAAKzD,IAEO,IAAvBoL,EAAQ,GAAG3E,UACb0E,EAAO1L,GACN,yBAAKzD,UAAY,aAAae,IAAOqO,EAAQ,IAC3CA,EAAQ,IAIX3L,KAIF,OACC,yBAAKxD,GAAK,eACT,wCACCkP,K,qCAMH,IAAIE,EAAU,GAEd,GAAG5N,KAAKmN,UAAY,EAEnB,IADA,IAAI5K,EAAI,EACFA,EAAIsE,KAAK9F,IAAI,EAAGf,KAAKmN,WAAY5K,IAAK,CAC3C,IAAI0G,EAAIjJ,KAAKsF,IAAItF,KAAKmN,WAAa5K,EAAI,IACvCqL,EAAQL,KACP,kBAAClO,EAAD,CAAQC,IAAO,UAAYiD,EAAGtD,MAASgK,EAAEhK,MAAMmC,WAC9C5B,WAAcyJ,EAAE3J,IAAKG,OAAUwJ,EAAExJ,OAAQC,QAAWuJ,EAAEvJ,WAK1D,OACC,yBAAKlB,GAAK,WACRoP,O,KAoRUC,E,YAzQd,WAAY5P,GAAQ,IAAD,8BAClB,4CAAMA,KAED2B,MAAQ,GAEb,EAAKkO,cAAkB,EAAKA,cAAchO,KAAnB,gBACvB,EAAK2K,YAAkB,EAAKA,YAAY3K,KAAjB,gBACvB,EAAKiO,gBAAkB,EAAKA,gBAAgBjO,KAArB,gBAEvB,EAAKkO,YAAc,IAAIjE,EAEvB,EAAKkE,UAAY,IAAIlC,EACrB,EAAKmC,YAAc,EAEnB,EAAKtO,MAAQ,CAACoK,cAAiB,EAC1BoB,YAAiB,EACjBlB,cAAiB,EAClBiE,aAAgB,GAjBF,E,iFAqBE,IAAD,OACnBnO,KAAKoO,cAAgBC,aACpB,kBAAM,EAAKC,WACX,M,6CAKDC,cAAcvO,KAAKoO,iB,+BAInBpO,KAAKkO,aAAe,GAEpB,IAAIvQ,EAAMqC,KAAKgO,YAAYM,OAAOtO,KAAKkO,aAEvClO,KAAKwO,SAASxO,KAAKgO,YAAYS,sBAEpB5D,IAARlN,IACFqC,KAAK0O,iBAAiB/Q,EAAIoL,OAAQpL,EAAIqL,SACtChJ,KAAKiO,UAAUK,OAAO3Q,EAAIoL,OAAQpL,EAAIqL,QAASrL,EAAIkK,S,oCAIvCpJ,GAIb,OAHY,IAAIqM,MAAM,cACdC,OAEAtM,GACP,QACA,OAEA,IAAK,OACJuB,KAAKgO,YAAYjD,OAClB,MAEA,IAAK,QACJ/K,KAAKgO,YAAYW,QAClB,MAEA,IAAK,QACJ,GAAG3O,KAAKgO,YAAY/C,QAAS,CAC5B,IAAIqC,EAActN,KAAKiO,UAAUW,aAEjC,IAAI,IAAItP,KAAOgO,EACdtN,KAAK0O,iBAAiBpP,GAAK,GAG5BU,KAAKiO,UAAUY,QAEjB,MAEA,IAAK,OACJ,IAAI7F,GAAWhJ,KAAKJ,MAAMuO,YAC1BnO,KAAKwO,SAAS,CAACL,YAAanF,IAI9BhJ,KAAKwO,SAASxO,KAAKgO,YAAYS,mB,kCAGpBxP,GACRe,KAAKgO,YAAYvD,YAAYxL,IAC/Be,KAAKiO,UAAUY,U,sCAIDvP,EAAKmB,GACpBT,KAAKgO,YAAYtD,gBAAgBpL,EAAKmB,K,uCAGtBhC,EAAMuK,QACC6B,IAApBiE,OAAOC,WAEE,UAATtQ,GACFqQ,OAAOC,SAASC,QAAQhG,GAGb,eAATvK,GACFqQ,OAAOC,SAASE,sBAAsBjG,GAG3B,OAATvK,GACFqQ,OAAOC,SAASG,KAAKlG,GAGV,UAATvK,GACFqQ,OAAOC,SAASI,QAAQnG,GAGb,SAATvK,GACFqQ,OAAOC,SAASK,OAAOpG,GAGZ,SAATvK,GACFqQ,OAAOC,SAASM,OAAOrG,GAGZ,QAATvK,GACFqQ,OAAOC,SAASO,SAAStG,GAGd,QAATvK,GACFqQ,OAAOC,SAASQ,SAASvG,GAGd,SAATvK,GACFqQ,OAAOC,SAASS,OAAOxG,GAGZ,MAATvK,GACFqQ,OAAOC,SAASU,IAAIzG,GAGT,MAATvK,GACFqQ,OAAOC,SAASW,IAAI1G,GAGT,MAATvK,GACFqQ,OAAOC,SAASY,IAAI3G,GAGT,MAATvK,GACFqQ,OAAOC,SAASa,IAAI5G,GAGT,QAATvK,GACFqQ,OAAOC,SAASc,UAAU7G,GAGf,QAATvK,GACFqQ,OAAOC,SAASe,UAAU9G,GAGf,gBAATvK,GACFqQ,OAAOC,SAASgB,uBAAuB/G,GAG5B,SAATvK,GACFqQ,OAAOC,SAASiB,OAAOhH,M,qCAIT,IAAD,OACd,IAAIhJ,KAAKgO,YAAYpO,MAAMsF,cAAe,OAAQ,wCAElD,IAAI7G,EAAW2B,KAAKgO,YAAYpO,MAAMoK,cAElCiG,EAAOjQ,KAAKgO,YAAYkC,kBAExBjR,GAAS,EAEb,OAAOgR,EAAK/O,KAAI,SAACmM,GACfpO,IAEA,IAAIkR,EAAa9R,IAAaY,EAE9B,OACC,kBAACD,EAAD,CAAaM,IAAO,SAAWL,EAAMmC,WAAYnC,MAASA,EACzDZ,SAAY8R,EAAY1R,KAAQ4O,EAAM5O,KAAMK,IAAOuO,EAAMzH,KACzD/G,aAAgB,EAAK4L,mB,yCAOzB,IAAIzK,KAAKgO,YAAYpO,MAAMsF,cAAe,OAAQ,wCAElD,IAAI+K,EAAOjQ,KAAKgO,YAAYoC,sBAE5B,OACC,kBAAC,EAAD,CAAgB9Q,IAAO,cACtBoC,MAASuO,EAAKxR,KAAMgD,WAAcwO,EAAKxO,WACvCG,aAAgB5B,KAAK+N,oB,mCAIV,IAAD,OACRkC,EAAOjQ,KAAKgO,YAAYoC,sBACxB3R,EAAOwR,EAAKxR,KACZuH,EAAOiK,EAAKjK,KAEhB,OACC,yBAAKxH,GAAK,QACT,4BAAQD,UAAY,cAAcC,GAAK,aACtCoE,YAAgB,SAAAhE,GAAC,OAAI,EAAKkP,cAAc,QAAQ,IAChDjL,aAAgB,SAAAjE,GAAC,OAAI,EAAKkP,cAAc,QAAQ,KAFjD,QAKA,kBAAC,EAAD,CAAazL,KAAQrC,KAAKJ,MAAMuO,YAC/BzL,MAASjE,EAAM6D,SAAY0D,EAC3BpD,YAAgB,SAAAhE,GAAC,OAAI,EAAKkP,cAAc,QAAQ,IAChDjL,aAAgB,SAAAjE,GAAC,OAAI,EAAKkP,cAAc,QAAQ,S,+BAK1C,IAAD,OACF9E,EAAUhJ,KAAKiO,UAAUoC,gBACzBC,EAAUtQ,KAAKiO,UAAUsC,eAEzB/F,EAASxK,KAAKwQ,eACd/O,EAAazB,KAAKyQ,mBAClBzK,EAAOhG,KAAK0Q,aAEZC,EAAU3Q,KAAKgO,YAAYpO,MAAMqK,UAEvC,OACC,yBAAK1L,UAAY,MAAMG,MAAS,CAACkS,gBAAiB,iCACjD,yBAAKrS,UAAY,cAChB,yBAAKA,UAAY,OAAOO,IAAM,8BAA8BC,IAAM,YAClE,uBAAGR,UAAY,YACdG,MAAS,CAACmS,MAAO,UADlB,oBAGD,yBAAKrS,GAAK,QACT,yBAAKA,GAAK,UACRgM,GAEF,yBAAKhM,GAAK,cACRiD,EACAuE,GAEF,yBAAKxH,GAAK,WACT,kBAACU,EAAD,CAAaI,IAAM,cAAcF,WAAcY,KAAKJ,MAAMsK,gBAC1D,yBAAK1L,GAAK,cACRwK,EACAsH,IAGH,yBAAK9R,GAAK,iBACT,kBAACR,EAAD,CAAcQ,GAAK,cAAcH,SAAYsS,IAAYrT,EAAsBmB,KAAO,QACrFK,IAAM,0BAA0BD,aAAgB,SAAAD,GAAC,OAAI,EAAKkP,cAAc,YACzE,kBAAC9P,EAAD,CAAcQ,GAAK,aAAaH,SAAYsS,IAAYrT,EAAqBmB,KAAO,OACnFK,IAAM,yBAAyBD,aAAgB,SAAAD,GAAC,OAAI,EAAKkP,cAAc,WACxE,kBAAC9P,EAAD,CAAcQ,GAAK,cAAcH,SAAYsS,IAAYrT,EAAoBmB,KAAO,QACnFK,IAAM,0BAA0BD,aAAgB,SAAAD,GAAC,OAAI,EAAKkP,cAAc,mB,GAlQ7DvN,a,MCxjDlBuQ,IAASpD,OACP,kBAAC,EAAD,MACAqD,SAASC,eAAe,W","file":"static/js/main.5c7f2b3d.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\nimport './App.css';\r\n\r\n//\r\n// - Constants and Globals\r\n//\r\n\r\nconst MonthLength = [31, 29, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];\r\n\r\nconst MacroStates = {\r\n\tINACTIVE: 0,\r\n\tPLAYING:  1,\r\n\tPAUSED:   2,\r\n\tFINISHED: 3\r\n}\r\n\r\n//\r\n// - AUX Functions\r\n//\r\n\r\nfunction arrayFindIndex(array, toFind) {\r\n\tvar found = -1;\r\n\r\n\tarray.forEach((item, i) => {\r\n\t\tif(item === toFind) found = i;\r\n\t});\r\n\r\n\treturn found;\r\n}\r\n\r\nfunction ConvertDate(date) {\r\n\tlet day   = date.getDate().toString();\r\n\tif(day <= 9) day = \"0\" + day;\r\n\r\n\tlet month = (date.getMonth() + 1).toString();\r\n\tif(date.getMonth() < 9) month = \"0\" + month;\r\n\r\n\tlet year  = date.getFullYear().toString();\r\n\r\n\treturn year + \"-\" + month + \"-\" + day;\r\n}\r\n\r\nasync function LoadJson(path) {\r\n\tvar res = null;\r\n\r\n\tlet url = \"https://cdn.jsdelivr.net/gh/Ghoster23/PokemonMacrosJoyConDroid/public/macros/\";\r\n\r\n\tres = await fetch(url + path).then(response => { return response.json(); } );\r\n\r\n\treturn res;\r\n}\r\n\r\n//\r\n// - React Components\r\n//\r\n\r\nfunction PlayerButton(props) {\r\n\tvar divStyle = { background : \"#FFF\" };\r\n\tvar iconStyle = {};\r\n\r\n\tif(props.selected) {\r\n\t\tdivStyle  = { background : \"#000\" };\r\n\t\ticonStyle = { filter : \"invert(1)\" };\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className = \"player-button\" id = {props.name} style = {divStyle}\r\n\t\t\tonClick = {e => props.clickHandler()} >\r\n\t\t\t<img className = \"icon\" src = {props.src} alt = {props.name + \" Button Icon\"}\r\n\t\t\t\tstyle = {iconStyle} />\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nfunction MacroButton(props) {\r\n\tvar style = { background : \"white\" };\r\n\tif(props.selected) style = {background : \"black\"};\r\n\r\n\treturn (\r\n\t\t<div className = \"macro\">\r\n\t\t\t<div className = \"macro-button\" id = {props.name} style = {style}\r\n\t\t\t\tonClick = {e => props.clickHandler(props.index)}>\r\n\t\t\t\t<img className = \"icon\" src = {props.src} alt = {\"Icon \" + props.name}/>\r\n\t\t\t</div>\r\n\t\t\t<label className = \"macro-button-label\">\r\n\t\t\t\t{props.name}\r\n\t\t\t</label>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nfunction ProgressBar(props) {\r\n\tconst width = { width : `${props.percentage}%` };\r\n\r\n\treturn (\r\n\t\t<div className = \"progress-bar\">\r\n\t\t\t<div className = \"filler\" style = {width} />\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nfunction KeyLog(props) {\r\n\treturn (\r\n\t\t<div key = {props.ind} className = \"key-log\">\r\n\t\t\t<b className = \"key-log-cell\"> {props.index} </b>\r\n\t\t\t<b className = \"key-log-cell\"> {props.pressedKey} </b>\r\n\t\t\t<b className = \"key-log-cell\"> {props.onTime} </b>\r\n\t\t\t<b className = \"key-log-cell\"> {props.offTime} </b>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nclass CheckBox extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {};\r\n\r\n\t\tthis.handleChange = this.handleChange.bind(this);\r\n\t}\r\n\r\n\thandleChange(event) {\r\n\t\treturn this.props.onChange(this.props.paramKey, event.target.checked);\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<input type = \"checkbox\" checked = {this.props.checked} onChange = {this.handleChange} />\r\n\t\t);\r\n\t}\r\n}\r\n\r\n/*\r\nclass DateInput extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {};\r\n\r\n\t\tthis.handleChange = this.handleChange.bind(this);\r\n\t}\r\n\r\n\thandleChange(event) {\r\n\t\tif(event.target.value === \"\") {\r\n\t\t\tthis.props.onChange(ConvertDate(new Date()));\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis.props.onChange(event.target.value);\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<input type = \"date\" className = \"date-input\"\r\n\t\t\treadOnly = {this.props.readonly}\r\n\t\t\tvalue = {this.props.date} onChange = {this.handleChange}/>\r\n\t\t);\r\n\t}\r\n}\r\n*/\r\n\r\nclass IntegerInput extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {};\r\n\r\n\t\tthis.handleChange = this.handleChange.bind(this);\r\n\t}\r\n\r\n\thandleChange(event) {\r\n\t\tif(event.target.value === \"\") {\r\n\t\t\tthis.props.onChange(1);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis.props.onChange(parseInt(event.currentTarget.value));\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<input type = \"number\" className = \"integer-input\"\r\n\t\t\treadOnly = {this.props.readonly}\r\n\t\t\tvalue = {this.props.value} onChange = {this.handleChange}\r\n\t\t\tmax = {this.props.max} min = {this.props.min}/>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nclass DropDownList extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {};\r\n\r\n\t\tthis.handleChange = this.handleChange.bind(this);\r\n\t}\r\n\r\n\thandleChange(event) {\r\n\t\tif(event.target.value === \"\") {\r\n\t\t\tthis.props.onChange(0);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis.props.onChange(parseInt(event.currentTarget.value));\r\n\t}\r\n\r\n\trenderOptions() {\r\n\t\treturn this.props.options.map((string, index) => {\r\n\t\t\treturn (\r\n\t\t\t\t<option key = {\"option\" + index.toString()} value={index}>{string}</option>\r\n\t\t\t);\r\n\t\t});\r\n\t}\r\n\r\n\trender() {\r\n\t\tlet options = this.renderOptions();\r\n\r\n\t\treturn (\r\n\t\t\t<select className = \"drop-down-list\" onChange = {this.handleChange}>\r\n\t\t\t  {options}\r\n\t\t\t</select>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nclass ParameterInput extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {active : false};\r\n\t}\r\n\r\n\trender() {\r\n\t\tvar params = this.props.parameters;\r\n\r\n\t\tswitch(this.props.macro) {\r\n\t\t\tdefault:\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<div className = \"macro-parameters\" id = \"DefaultParams\">\r\n\t\t\t\t\t</div>\r\n\t\t\t\t);\r\n\r\n\t\t\tcase \"Time Skip\":\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<div className = \"macro-parameters\" id = \"TimeSkipParams\">\r\n\t\t\t\t\t\t<div className = \"parameters-entry\">\r\n\t\t\t\t\t\t\t<label className = \"parameter-label\">\r\n\t\t\t\t\t\t\t\tSkip Count\r\n\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t<div className = \"parameter\">\r\n\t\t\t\t\t\t\t\t<IntegerInput id = \"daysToAdvance\" name = \"days-to-advance\"\r\n\t\t\t\t\t\t\t\t\tvalue = {params.daysToAdvance}\r\n\t\t\t\t\t\t\t\t\tonChange = {value => this.props.eventHandler(\"daysToAdvance\", value)}\r\n\t\t\t\t\t\t\t\t\tmin = \"1\" max = \"10000\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className = \"parameters-entry\">\r\n\t\t\t\t\t\t\t<label className = \"parameter-label\">\r\n\t\t\t\t\t\t\t\tDate Format\r\n\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t<div className = \"parameter\">\r\n\t\t\t\t\t\t\t\t<DropDownList id = \"dateFormat\" name = \"date-format\"\r\n\t\t\t\t\t\t\t\t\tvalue = {params.dateFormat}\r\n\t\t\t\t\t\t\t\t\toptions = {[\"World\", \"US\"]}\r\n\t\t\t\t\t\t\t\t\tonChange = {value => this.props.eventHandler(\"dateFormat\", value)}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t);\r\n\r\n\t\t\tcase \"Loto ID\":\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<div className = \"macro-parameters\" id = \"LottoIDParams\">\r\n\t\t\t\t\t\t<div className = \"parameters-entry\">\r\n\t\t\t\t\t\t\t<label className = \"parameter-label\">\r\n\t\t\t\t\t\t\t\tFirst Day Loto\r\n\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t<div className = \"parameter\">\r\n\t\t\t\t\t\t\t\t<CheckBox id = \"firstDayLoto\" name = \"first-day-loto\"\r\n\t\t\t\t\t\t\t\t\tchecked = {params.getFirst}\r\n\t\t\t\t\t\t\t\t\tparamKey = \"getFirst\"\r\n\t\t\t\t\t\t\t\t\tonChange = {this.props.eventHandler}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className = \"parameters-entry\">\r\n\t\t\t\t\t\t\t<label className = \"parameter-label\">\r\n\t\t\t\t\t\t\t\tAttempts\r\n\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t<div className = \"parameter\">\r\n\t\t\t\t\t\t\t\t<IntegerInput id = \"Attempts\" name = \"lotto-id-attempts\"\r\n\t\t\t\t\t\t\t\t\tvalue = {params.attempts}\r\n\t\t\t\t\t\t\t\t\tonChange = {value => this.props.eventHandler(\"attempts\", value)}\r\n\t\t\t\t\t\t\t\t\tmin = \"0\" max = \"10000\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className = \"parameters-entry\">\r\n\t\t\t\t\t\t\t<label className = \"parameter-label\">\r\n\t\t\t\t\t\t\t\tDate Format\r\n\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t<div className = \"parameter\">\r\n\t\t\t\t\t\t\t\t<DropDownList id = \"dateFormat\" name = \"date-format\"\r\n\t\t\t\t\t\t\t\t\tvalue = {params.dateFormat}\r\n\t\t\t\t\t\t\t\t\toptions = {[\"World\", \"US\"]}\r\n\t\t\t\t\t\t\t\t\tonChange = {value => this.props.eventHandler(\"dateFormat\", value)}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t);\r\n\r\n\t\t\tcase \"Wonder Box\":\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<div className = \"macro-parameters\" id = \"WonderBoxParams\">\r\n\t\t\t\t\t\t<div className = \"parameters-entry\">\r\n\t\t\t\t\t\t\t<label className = \"parameter-label\">\r\n\t\t\t\t\t\t\t\tCount\r\n\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t<div className = \"parameter\">\r\n\t\t\t\t\t\t\t\t<IntegerInput id = \"WTradeCount\" name = \"wonder-trade-count\"\r\n\t\t\t\t\t\t\t\t\tvalue = {params.count}\r\n\t\t\t\t\t\t\t\t\tonChange = {value => this.props.eventHandler(\"count\", value)}\r\n\t\t\t\t\t\t\t\t\tmin = \"1\" max = \"30\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className = \"parameters-entry\">\r\n\t\t\t\t\t\t\t<label className = \"parameter-label\">\r\n\t\t\t\t\t\t\t\tWait Time\r\n\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t<div className = \"parameter\">\r\n\t\t\t\t\t\t\t\t<IntegerInput id = \"WTradeWaitTime\" name = \"wonder-trade-wait-time\"\r\n\t\t\t\t\t\t\t\t\tvalue = {params.waitTime}\r\n\t\t\t\t\t\t\t\t\tonChange = {value => this.props.eventHandler(\"waitTime\", value)}\r\n\t\t\t\t\t\t\t\t\tmin = \"2\" max = \"600\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t);\r\n\t\t}\r\n\t}\r\n}\r\n\r\nclass InfoOverlay extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {};\r\n\t}\r\n\r\n\trender() {\r\n\t\tvar display_style = {display : \"none\"};\r\n\t\tif(this.props.show) display_style.display = \"flex\";\r\n\r\n\t\tvar sections = [];\r\n\r\n\t\tvar i = 0;\r\n\t\tfor(; i < this.props.sections.length; i++) {\r\n\t\t\tvar section = this.props.sections[i];\r\n\r\n\t\t\tsections[i] = (\r\n\t\t\t\t<div className = \"infoSection\" key = {\"infoSect_\" + i.toString()}>\r\n\t\t\t\t\t<h2 className = \"infoSectionTitle\"> {section.title} </h2>\r\n\t\t\t\t\t{section.text}\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<div id = \"infoOverlay\" className = \"info-overlay\" style = {display_style}>\r\n\t\t\t\t<div id = \"infoOverlayOut\" onMouseDown  = {this.props.onMouseDown} onTouchStart = {this.props.onTouchStart}>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div id = \"infoTextBox\" className = \"text-box\">\r\n\t\t\t\t\t<h1 className = \"infoTextTitle\"> {this.props.title} </h1>\r\n\t\t\t\t\t\t{sections}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\n//\r\n// - Back End Elements\r\n//\r\n\r\nfunction coroutine(f, args) {\r\n\tvar o = f.apply(args);\r\n\r\n\to.next();\r\n\r\n\treturn function(x) {\r\n\t\treturn o.next(x);\r\n\t}\r\n}\r\n\r\nclass SimpleDate {\r\n\tconstructor(str) {\r\n\t\tthis.day   = 0;\r\n\t\tthis.month = 0;\r\n\t\tthis.year  = 0;\r\n\r\n\t\tthis.setFromString(str);\r\n\t}\r\n\r\n\tisLeapYear() {\r\n\t\tif(this.year % 4 === 0) {\r\n\t\t\tif(this.year % 100 !== 0 || this.year % 400 === 0) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn false;\r\n\t}\r\n\r\n\tincrement(days) {\r\n\t\tthis.day += days;\r\n\r\n\t\tlet len = MonthLength[this.month];\r\n\r\n\t\tlet rem = this.day - len;\r\n\t\tif(this.month === 1 && !this.isLeapYear()) {\r\n\t\t\trem += 1;\r\n\t\t}\r\n\r\n\t\twhile(rem > 0) {\r\n\t\t\tthis.day = rem;\r\n\r\n\t\t\tthis.month += 1;\r\n\r\n\t\t\tif(this.month === 12) {\r\n\t\t\t\tthis.year += 1;\r\n\t\t\t\tthis.month = 0;\r\n\t\t\t}\r\n\r\n\t\t\tlen = MonthLength[this.month];\r\n\r\n\t\t\trem = this.day - len;\r\n\t\t\tif(this.month === 1 && !this.isLeapYear()) {\r\n\t\t\t\trem += 1;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tdecrement(days) {\r\n\t\tthis.day -= days;\r\n\r\n\t\twhile(this.day <= 0) {\r\n\t\t\tthis.month -= 1;\r\n\r\n\t\t\tif(this.month < 0) {\r\n\t\t\t\tthis.month = 11;\r\n\t\t\t\tthis.year -= 1;\r\n\t\t\t}\r\n\r\n\t\t\tlet len = MonthLength[this.month];\r\n\t\t\tif(this.month === 1 && !this.isLeapYear()) len -= 1;\r\n\r\n\t\t\tthis.day += len;\r\n\t\t}\r\n\t}\r\n\r\n\tdayDifference(other) {\r\n\t\tvar date1 = new Date(this.toString());\r\n\t\tvar date2 = new Date(other.toString());\r\n\r\n\t\tvar diff = date2.getTime() - date1.getTime();\r\n\r\n\t\treturn diff / (1000 * 60 * 60 * 24);\r\n\t}\r\n\r\n\tdaysToNextMonth() {\r\n\t\tlet len = MonthLength[this.month];\r\n\t\tif(this.month === 1 && !this.isLeapYear()) len -= 1;\r\n\r\n\t\treturn len - this.day + 1;\r\n\t}\r\n\r\n\tsetFromString(str = \"2020-01-01\") {\r\n\t\tthis.year  = parseInt(str.substr(0, 4));\r\n\t\tthis.month = parseInt(str.substr(5, 2)) - 1;\r\n\t\tthis.day   = parseInt(str.substr(8, 2));\r\n\t}\r\n\r\n\ttoString() {\r\n\t\tlet day   = this.day.toString();\r\n\t\tif(this.day <= 9) day = \"0\" + day;\r\n\r\n\t\tlet month = (this.month + 1).toString();\r\n\t\tif(this.month < 9) month = \"0\" + month;\r\n\r\n\t\tlet year  = this.year.toString();\r\n\r\n\t\treturn year + \"-\" + month + \"-\" + day;\r\n\t}\r\n\r\n\tcompare(other) {\r\n\t\tlet oYear = other.year;\r\n\r\n\t\tif(oYear === this.year) {\r\n\t\t\tlet oMonth = other.month;\r\n\r\n\t\t\tif(oMonth === this.month) {\r\n\t\t\t\treturn other.day - this.day;\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\treturn oMonth - this.month;\r\n\t\t\t}\r\n\t\t}\r\n\t\telse {\r\n\t\t\treturn oYear - this.year;\r\n\t\t}\r\n\t}\r\n}\r\n\r\nclass JSONManeger {\r\n\tconstructor() {\r\n\t\tthis.segments = {\r\n\t\t\tFstSkip     : {filename: \"FirstSkip.json\",                object: \"\"},\r\n\t\t\tFstSkipUS   : {filename: \"FirstSkipUS.json\",              object: \"\"},\r\n\t\t\tAdvDay      : {filename: \"AdvanceDay.json\",               object: \"\"},\r\n\t\t\tAdvDayUS    : {filename: \"AdvanceDayUS.json\",             object: \"\"},\r\n\t\t\tLotoID      : {filename: \"LotoID.json\",                   object: \"\"},\r\n\t\t\tReturn      : {filename: \"ReturnToGameFromSettings.json\", object: \"\"},\r\n\t\t\tUniversal   : {filename: \"UniversalSkip.json\",            object: \"\"},\r\n\t\t\tUniversalUS : {filename: \"UniversalSkipUS.json\",          object: \"\"},\r\n\t\t\tSelectInBox : {filename: \"SelectInBox.json\",              object: \"\"},\r\n\t\t\tStartWonder : {filename: \"StartWonderTrade.json\",         object: \"\"},\r\n\t\t\tEndWonder   : {filename: \"ConcludeWonderTrade.json\",      object: \"\"}\r\n\t\t};\r\n\r\n\t\tvar entries = Object.entries(this.segments);\r\n\r\n\t\tthis.loadedCount = 0;\r\n\t\tthis.segmentCount = entries.length;\r\n\t\tthis.loadConcluded = false;\r\n\r\n\t\tlet i = 0;\r\n\t\tfor(; i < this.segmentCount; i++) {\r\n\t\t\tthis.loadMacro(entries[i][0]);\r\n\t\t}\r\n\t}\r\n\r\n\tasync loadMacro(key) {\r\n\t\tvar segment = this.segments[key];\r\n\r\n\t\tsegment.object = await LoadJson(segment.filename);\r\n\r\n\t\tthis.loadedCount += 1;\r\n\r\n\t\tif(this.loadedCount === this.segmentCount) {\r\n\t\t\tthis.loadConcluded = true;\r\n\t\t\tconsole.log(\"JSON Load Concluded\");\r\n\t\t}\r\n\t}\r\n\r\n\tgetMacro(key) {\r\n\t\tvar segment = this.segments[key];\r\n\t\tvar copy = JSON.parse(JSON.stringify(segment.object));\r\n\t\treturn copy;\r\n\t}\r\n}\r\n\r\n//\r\n// - Macro Builders\r\n//\r\n\r\nclass MacroBuilder {\r\n\tconstructor(jsonM, name, icon) {\r\n\t\tthis.jsonManager = jsonM;\r\n\r\n\t\tthis.name = name;\r\n\t\tthis.icon = icon;\r\n\r\n\t\tthis.macro = 0;\r\n\t\tthis.macroJSON = [];\r\n\r\n\t\tthis.parameters = {};\r\n\t\tthis.paramHandlers = {};\r\n\r\n\t\tthis.info = [];\r\n\t}\r\n\r\n\tchangeParameter(key, value) {\r\n\t\tlet handler = this.paramHandlers[key];\r\n\r\n\t\treturn handler(value);\r\n\t}\r\n\r\n\tgetMacro(key) {\r\n\t\tif(!this.jsonManager.loadConcluded) return null;\r\n\r\n\t\treturn this.jsonManager.getMacro(key);\r\n\t}\r\n\r\n\tconcatToMacro(segment) {\r\n\t\tthis.macroJSON = this.macroJSON.concat(segment);\r\n\t}\r\n\r\n\t// Render\r\n\tgetRenderData() {\r\n\t\treturn {\r\n\t\t\tname : this.name,\r\n\t\t\ticon : this.icon,\r\n\t\t\tparameters : this.parameters,\r\n\t\t\tinfo : this.info\r\n\t\t};\r\n\t}\r\n}\r\n\r\nclass TimeSkipMacroBuilder extends MacroBuilder {\r\n\tconstructor(jsonM) {\r\n\t\tsuper(jsonM, \"Time Skip\", \"./images/timeskip_icon.png\");\r\n\r\n\t\t// Init Parameters\r\n\t\tthis.parameters.daysToAdvance = 1;\r\n\t\tthis.parameters.dateFormat    = 0;\r\n\r\n\t\tthis.currentFormat = \"\";\r\n\r\n\t\tthis.onDaysToAdvanceChange = this.onDaysToAdvanceChange.bind(this);\r\n\t\tthis.onDateFormatChange    = this.onDateFormatChange.bind(this);\r\n\r\n\t\tthis.paramHandlers = {\r\n\t\t\tdaysToAdvance : this.onDaysToAdvanceChange,\r\n\t\t\tdateFormat    : this.onDateFormatChange\r\n\t\t};\r\n\r\n\t\tvar text1 = (\r\n\t\t\t<p>\r\n\t\t\t\t<b>1-</b> In the <b>Console Settings</b>, turn <b>Synchronize Time</b> off.\r\n\t\t\t\t<br/>\r\n\t\t\t\t<br/>\r\n\t\t\t\t<b>2-</b> The <b>Date</b> in <b>Console Settings</b> must be the first of any 31 day month.\r\n\t\t\t\t<br/>\r\n\t\t\t\t<br/>\r\n\t\t\t\t<b>3-</b> Set <b>Skip Count</b> to the number of days to advance.\r\n\t\t\t\t<br/>\r\n\t\t\t\t<br/>\r\n\t\t\t\t<b>4-</b> Set <b>Date Format</b> to match your console's format.\r\n\t\t\t</p>\r\n\t\t);\r\n\r\n\t\tthis.info = [\r\n\t\t\t{\r\n\t\t\t\ttitle: \"SetUp\",\r\n\t\t\t\ttext: text1\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: \"How it works\",\r\n\t\t\t\ttext: \"The frame of the seed will advance with each time the date is advanced. This means that we can just change the day, with the only downside being that when returning to the first of the month no advancement will happen. The macro takes this into account and adds repetitions so that in the end the correct number of skips is achieved.\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: \"Recommendations\",\r\n\t\t\t\ttext: \"Avoid doing many skips in the Wild Area as this is known to sometimes result in game crashes. Use this macro indoors.\"\r\n\t\t\t}\r\n\t\t];\r\n\t}\r\n\r\n\t// Parameter Handlers\r\n\tonDaysToAdvanceChange(days) {\r\n\t\tif(this.parameters.daysToAdvance !== days) {\r\n\t\t\tthis.parameters.daysToAdvance = days;\r\n\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\treturn false;\r\n\t}\r\n\r\n\tonDateFormatChange(format) {\r\n\t\tif(this.parameters.dateFormat !== format) {\r\n\t\t\tthis.parameters.dateFormat = format;\r\n\r\n\t\t\tswitch(format) {\r\n\t\t\t\tdefault:\r\n\t\t\t\tcase 0: // WORLD\r\n\t\t\t\t\tthis.currentFormat = \"\";\r\n\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 1: // US\r\n\t\t\t\t\tthis.currentFormat = \"US\";\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\treturn false;\r\n\t}\r\n\r\n\t// Build Macro\r\n\tAdvanceDay(days) {\r\n\t\tvar macro = this.getMacro(\"AdvDay\" + this.currentFormat);\r\n\r\n\t\tmacro[0].count = days;\r\n\r\n\t\tthis.concatToMacro(macro);\r\n\t}\r\n\r\n\tInitMacro() {\r\n\t\tthis.concatToMacro(this.getMacro(\"FstSkip\" + this.currentFormat));\r\n\t}\r\n\r\n\tbuild() {\r\n\t\tif(!this.jsonManager.loadConcluded) return null;\r\n\r\n\t\tthis.macroJSON = []; // Clear Macro JSON\r\n\r\n\t\tthis.InitMacro();\r\n\r\n\t\tvar count = this.parameters.daysToAdvance;\r\n\r\n\t\t// If more than 1 skip\r\n\t\tif(count > 1) {\r\n\t\t\tlet adjust = Math.floor(count / 31);\r\n\r\n\t\t\tif(adjust >= 31) {\r\n\t\t\t\tadjust += Math.floor(adjust / 31);\r\n\t\t\t}\r\n\r\n\t\t\tthis.AdvanceDay((count - 1) + adjust);\r\n\t\t}\r\n\r\n\t\tthis.concatToMacro(this.getMacro(\"Return\"));\r\n\r\n\t\tthis.macro = new Macro(this.name, this.icon, this.macroJSON);\r\n\r\n\t\treturn this.macro;\r\n\t}\r\n}\r\n\r\nclass LotoIDMacroBuilder extends MacroBuilder {\r\n\tconstructor(jsonM) {\r\n\t\tsuper(jsonM, \"Loto ID\", \"./images/lotoid_icon.png\");\r\n\r\n\t\tthis.parameters.attempts  = 1;\r\n\t\tthis.parameters.getFirst  = true;\r\n\t\tthis.parameters.dateFormat = 0;\r\n\r\n\t\tthis.currentFormat = \"\";\r\n\r\n\t\tthis.onAttemptsChange = this.onAttemptsChange.bind(this);\r\n\t\tthis.onGetFirstChange = this.onGetFirstChange.bind(this);\r\n\t\tthis.onDateFormatChange = this.onDateFormatChange.bind(this);\r\n\r\n\t\tthis.paramHandlers = {\r\n\t\t\tattempts  : this.onAttemptsChange,\r\n\t\t\tgetFirst  : this.onGetFirstChange\r\n\t\t};\r\n\r\n\t\tvar text1 = (\r\n\t\t\t<p>\r\n\t\t\t\t<b>1-</b> In the <b>Console Settings</b>, turn <b>Synchronize Time</b> off.\r\n\t\t\t\t<br/>\r\n\t\t\t\t<br/>\r\n\t\t\t\t<b>2-</b> Position the character in front of the PC, facing it.\r\n\t\t\t\t<br/>\r\n\t\t\t\t<br/>\r\n\t\t\t\t<b>3-</b> Check the <b>First Day Loto</b> box only if you have the Loto still available.\r\n\t\t\t\t<br/>\r\n\t\t\t\t<br/>\r\n\t\t\t\t<b>4-</b> Set <b>Attempts</b> to how many times you want to try the Loto.\r\n\t\t\t\t<br/>\r\n\t\t\t\t<br/>\r\n\t\t\t\t<b>5-</b> Set <b>Date Format</b> to the your Switch's region date format.\r\n\t\t\t</p>\r\n\t\t);\r\n\r\n\t\tthis.info = [\r\n\t\t\t{\r\n\t\t\t\ttitle: \"SetUp\",\r\n\t\t\t\ttext: text1\r\n\t\t\t}\r\n\t\t];\r\n\t}\r\n\r\n\t// Parameter Handlers\r\n\tonAttemptsChange(count) {\r\n\t\tif(this.parameters.attempts !== count) {\r\n\t\t\tthis.parameters.attempts = count;\r\n\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\treturn false;\r\n\t}\r\n\r\n\tonGetFirstChange(bool) {\r\n\t\tif(this.parameters.getFirst !== bool) {\r\n\t\t\tthis.parameters.getFirst = bool;\r\n\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\treturn false;\r\n\t}\r\n\r\n\tonDateFormatChange(format) {\r\n\t\tif(this.parameters.dateFormat !== format) {\r\n\t\t\tthis.parameters.dateFormat = format;\r\n\r\n\t\t\tswitch(format) {\r\n\t\t\t\tdefault:\r\n\t\t\t\tcase 0: // WORLD\r\n\t\t\t\t\tthis.currentFormat = \"\";\r\n\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 1: // US\r\n\t\t\t\t\tthis.currentFormat = \"US\";\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\treturn false;\r\n\t}\r\n\r\n\t// Build Macro\r\n\tAdvanceDate(currentDate) {\r\n\t\tvar tomorrow = new SimpleDate(currentDate.toString());\r\n\t\ttomorrow.increment(1);\r\n\r\n\t\t// If the day after the start is in the next Month\r\n\t\tif(currentDate.month < tomorrow.month) {\r\n\t\t\t// If the day after the start is in the next Year\r\n\t\t\tif(currentDate.year < tomorrow.year) {\r\n\t\t\t\tthis.concatToMacro(this.getMacro(\"FstSkipY\"));  // Advance the Day, Month and Year\r\n\t\t\t}\r\n\r\n\t\t\t// It is in the same Year\r\n\t\t\telse {\r\n\t\t\t\tthis.concatToMacro(this.getMacro(\"FstSkipM\"));  // Advance the Day and Month\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// It is in the same Month\r\n\t\telse {\r\n\t\t\tthis.concatToMacro(this.getMacro(\"FstSkipD\"));\r\n\t\t}\r\n\t}\r\n\r\n\tbuild() {\r\n\t\tif(!this.jsonManager.loadConcluded) return null;\r\n\r\n\t\tthis.macroJSON = []; // Clear Macro JSON\r\n\r\n\t\tvar counter = 0;\r\n\r\n\t\tif(this.parameters.getFirst) {\r\n\t\t\tthis.concatToMacro(this.getMacro(\"LotoID\"));\r\n\r\n\t\t\tcounter = 1;\r\n\t\t}\r\n\r\n\t\t// While End Date has not been reached\r\n\t\twhile(counter < this.parameters.attempts) {\r\n\t\t\tthis.concatToMacro(this.getMacro(\"Universal\" + this.currentFormat));\r\n\t\t\tcounter++;\r\n\r\n\t\t\tthis.concatToMacro(this.getMacro(\"Return\"));\r\n\r\n\t\t\tthis.concatToMacro(this.getMacro(\"LotoID\"));\r\n\t\t}\r\n\r\n\t\tthis.macro = new Macro(this.name, this.icon, this.macroJSON);\r\n\r\n\t\treturn this.macro;\r\n\t}\r\n}\r\n\r\nclass WonderBoxMacroBuilder extends MacroBuilder {\r\n\tconstructor(jsonM) {\r\n\t\tsuper(jsonM, \"Wonder Box\", \"./images/wonderbox_icon.png\");\r\n\r\n\t\tthis.parameters.count    = 1;\r\n\t\tthis.parameters.waitTime = 25;\r\n\r\n\t\tthis.onCountChange    = this.onCountChange.bind(this);\r\n\t\tthis.onWaitTimeChange = this.onWaitTimeChange.bind(this);\r\n\r\n\t\tthis.paramHandlers = {\r\n\t\t\tcount  : this.onCountChange,\r\n\t\t\twaitTime : this.onWaitTimeChange\r\n\t\t};\r\n\r\n\t\tvar text1 = (\r\n\t\t\t<p>\r\n\t\t\t\t<b>1-</b> In-Game, open your PC and go to the box with the pokemon to be wonder traded.\r\n\t\t\t\t<br/>\r\n\t\t\t\t<br/>\r\n\t\t\t\t<b>2-</b> Make sure there are no empty spots between pokemon.\r\n\t\t\t\tThe macro will start trading from the top left corner and go left to right, top to bottom.\r\n\t\t\t\t<br/>\r\n\t\t\t\t<br/>\r\n\t\t\t\t<b>3-</b> Exit all menus.\r\n\t\t\t\t<br/>\r\n\t\t\t\t<br/>\r\n\t\t\t\t<b>4-</b> Set the <b>Count</b> parameter to how many pokemon you want to trade away from that box.\r\n\t\t\t\t<br/>\r\n\t\t\t\t<br/>\r\n\t\t\t\t<b>4-</b> Set the <b>Wait Time</b> parameter to how many <b>seconds</b> the macro should wait for the Wonder Trade to complete.\r\n\t\t\t</p>\r\n\t\t);\r\n\r\n\t\tvar text2 = (\r\n\t\t\t<p>\r\n\t\t\t\tWhen running this macro, the time for a trade to go through can vary a lot.\r\n\t\t\t\tBecause of this, you may need to adjust the <b>Wait Time</b>. It can go up to 10 minutes (600 s),\r\n\t\t\t\tor as low as 2 seconds.\r\n\t\t\t\t<br/>\r\n\t\t\t\tIf it is too erratic and you want to be more efficient, you can set the value relatively low and\r\n\t\t\t\tpress pause after the search for a trade starts and press play to resume the macro when you see\r\n\t\t\t\tit has finished.\r\n\t\t\t\t<br/>\r\n\t\t\t\t<br/>\r\n\t\t\t\tIt is also very important to make sure you have the correct box selected at the start of the macro.\r\n\t\t\t</p>\r\n\t\t);\r\n\r\n\t\tthis.info = [\r\n\t\t\t{\r\n\t\t\t\ttitle: \"SetUp\",\r\n\t\t\t\ttext: text1\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: \"Recommendations\",\r\n\t\t\t\ttext: text2\r\n\t\t\t}\r\n\t\t];\r\n\t}\r\n\r\n\t// Parameter Handlers\r\n\tonCountChange(count) {\r\n\t\tif(this.parameters.count !== count) {\r\n\t\t\tthis.parameters.count = count;\r\n\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\treturn false;\r\n\t}\r\n\r\n\tonWaitTimeChange(time) {\r\n\t\tif(this.parameters.waitTime !== time) {\r\n\t\t\tthis.parameters.waitTime = time;\r\n\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\treturn false;\r\n\t}\r\n\r\n\t// Build Macro\r\n\tSelectInBox(row, column) {\r\n\t\tvar segments = this.getMacro(\"SelectInBox\");\r\n\r\n\t\tsegments[0].macro[0].count = row;\r\n\t\tsegments[0].macro[1].count = column;\r\n\r\n\t\tthis.concatToMacro(segments);\r\n\t}\r\n\r\n\tConcludeTrade() {\r\n\t\tvar segments = this.getMacro(\"EndWonder\");\r\n\r\n\t\tsegments[0].macro[2].offTime = this.parameters.waitTime * 1000;\r\n\r\n\t\tthis.concatToMacro(segments);\r\n\t}\r\n\r\n\tbuild() {\r\n\t\tif(!this.jsonManager.loadConcluded) return null;\r\n\r\n\t\tthis.macroJSON = []; // Clear Macro JSON\r\n\r\n\t\tvar count  = 0;\r\n\t\tvar row    = 0;\r\n\t\tvar column = 0;\r\n\r\n\t\tfor(; row < 5; row++) {\r\n\t\t\tfor(column = 0; column < 6; column++) {\r\n\t\t\t\tthis.concatToMacro(this.getMacro(\"StartWonder\"));\r\n\r\n\t\t\t\tthis.SelectInBox(row, column);\r\n\r\n\t\t\t\tthis.ConcludeTrade();\r\n\r\n\t\t\t\tcount++;\r\n\t\t\t\tif(count >= this.parameters.count) {\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif(count >= this.parameters.count) {\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis.macro = new Macro(this.name, this.icon, this.macroJSON);\r\n\r\n\t\treturn this.macro;\r\n\t}\r\n}\r\n\r\n//\r\n// - APP Components\r\n//\r\n\r\nclass Macro {\r\n\tconstructor(name, icon, segments) {\r\n\t\tthis.name = name;\r\n\t\tthis.icon = icon;\r\n\r\n\t\tthis.state = MacroStates.INACTIVE;\r\n\r\n\t\tthis.onWait = false;\r\n\t\tthis.waitTimeout = null;\r\n\r\n\t\tthis.runner = null;\r\n\r\n\t\tthis.segments = segments;\r\n\r\n\t\tthis.totalSteps = 0;\r\n\t\tthis.currentOverallStep = 0;\r\n\r\n\t\tthis.totalTime = 0;\r\n\r\n\t\tvar i;\r\n\t\tfor(i = 0; i < this.segments.length; i++) {\r\n\t\t\tvar segment = this.segments[i];\r\n\r\n\t\t\tvar subTotal = 0;\r\n\r\n\t\t\tvar j;\r\n\t\t\tfor(j = 0; j < segment.macro.length; j++) {\r\n\t\t\t\tvar step = segment.macro[j];\r\n\r\n\t\t\t\tsubTotal += step.count;\r\n\t\t\t}\r\n\r\n\t\t\tthis.totalSteps += subTotal * segment.count;\r\n\t\t}\r\n\t}\r\n\r\n\tprogress() {\r\n\t\tif(this.totalSteps === 0) return 0;\r\n\r\n\t\treturn this.currentOverallStep / this.totalSteps;\r\n\t}\r\n\r\n\tstartRunner() {\r\n\t\tvar f = function* () {\r\n\t\t\tthis.currentOverallStep = 0;\r\n\r\n\t\t\tvar info = {state : this.state, abort : false};\r\n\r\n\t\t\t// For each Segment of the Macro\r\n\t\t\tvar i = 0;\r\n\t\t\tfor(; i < this.segments.length; i++) {\r\n\t\t\t\tvar segment = this.segments[i];\r\n\r\n\t\t\t\tvar steps = segment.macro;\r\n\t\t\t\tvar reps  = segment.count;\r\n\r\n\t\t\t\t// For each Repetition of the Segment\r\n\t\t\t\tvar j = 0;\r\n\t\t\t\tfor(; j < reps; j++) {\r\n\r\n\t\t\t\t\t// For each Step of the Segment\r\n\t\t\t\t\tvar k = 0;\r\n\t\t\t\t\tfor(; k < steps.length; k++) {\r\n\r\n\t\t\t\t\t\t// If play has not been pressed or has been paused\r\n\t\t\t\t\t\twhile(this.state !== MacroStates.PLAYING) {\r\n\t\t\t\t\t\t\tinfo = yield undefined; // Yield\r\n\r\n\t\t\t\t\t\t\tif(info.abort) return;\r\n\r\n\t\t\t\t\t\t\tthis.state = info.state;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// Get current Step\r\n\t\t\t\t\t\tvar step = steps[k];\r\n\r\n\t\t\t\t\t\t// Make the response to the App\r\n\t\t\t\t\t\tvar res = { button : step.button, pressed : true, time : 0};\r\n\r\n\t\t\t\t\t\t// For each repetition of the Step\r\n\t\t\t\t\t\tvar l = 0;\r\n\t\t\t\t\t\tfor(l = 0; l < step.count; l++) {\r\n\t\t\t\t\t\t\tres.pressed = true; // Signal that the button is pressed\r\n\r\n\t\t\t\t\t\t\t// Set timer for the duration of the button press\r\n\t\t\t\t\t\t\tthis.wait(Math.max(step.onTime, 20));\r\n\r\n\t\t\t\t\t\t\tres.time = step.onTime;\r\n\r\n\t\t\t\t\t\t\tyield res;\r\n\r\n\t\t\t\t\t\t\t// Wait\r\n\t\t\t\t\t\t\twhile(this.onWait) {\r\n\t\t\t\t\t\t\t\tinfo = yield undefined;\r\n\t\t\t\t\t\t\t\tif(info.abort) return;\r\n\t\t\t\t\t\t\t\tthis.state = info.state;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tres.pressed = false; // Signal the the button is not pressed\r\n\r\n\t\t\t\t\t\t\t// Set timer for the wait before pressing the next button\r\n\t\t\t\t\t\t\tthis.wait(Math.max(step.offTime, 20));\r\n\r\n\t\t\t\t\t\t\tres.time = step.offTime;\r\n\r\n\t\t\t\t\t\t\tyield res;\r\n\r\n\t\t\t\t\t\t\t// Wait for timer to elapse and to not be paused\r\n\t\t\t\t\t\t\twhile(this.onWait || this.state === MacroStates.PAUSED) {\r\n\t\t\t\t\t\t\t\tinfo = yield undefined;\r\n\t\t\t\t\t\t\t\tif(info.abort) return;\r\n\t\t\t\t\t\t\t\tthis.state = info.state;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tthis.currentOverallStep++;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn;\r\n\t\t};\r\n\r\n\t\t// Create the Coroutine\r\n\t\tthis.runner = coroutine(f, this);\r\n\t}\r\n\r\n\twait(duration) {\r\n\t\tthis.waitTimeout = setTimeout(this.resume, duration, this);\r\n\t\tthis.onWait = true;\r\n\t}\r\n\r\n\tresume(obj) {\r\n\t\tobj.onWait = false;\r\n\t}\r\n\r\n\treset() {\r\n\t\tthis.state = MacroStates.INACTIVE;\r\n\r\n\t\tif(this.onWait) {\r\n\t\t\tthis.onWait = false;\r\n\r\n\t\t\tclearTimeout(this.waitTimeout);\r\n\r\n\t\t\tthis.waitTimeout = null;\r\n\t\t}\r\n\r\n\t\tthis.currentOverallStep = 0;\r\n\r\n\t\tif(this.runner !== null) {\r\n\t\t\tthis.runner({state : this.state, abort : true});\r\n\r\n\t\t\tthis.runner = null;\r\n\t\t}\r\n\t}\r\n\r\n\ttoString() {\r\n\t\tlet text = \"Macro - \\n\";\r\n\r\n\t\tlet i = 0;\r\n\t\tfor(; i < this.segments.length; i++) {\r\n\t\t\tlet seg = this.segments[i];\r\n\r\n\t\t\ttext += \"\\t\" + seg.name + \" x\" + seg.count.toString() + \"\\n\";\r\n\t\t}\r\n\r\n\t\treturn text;\r\n\t}\r\n}\r\n\r\nclass MacroPlayer {\r\n\tconstructor() {\r\n\t\tthis.state = { selectedMacro : 0,\r\n\t\t\tplayState     : 0,\r\n\t\t\tmacroProgress : 0,\r\n\t\t\tloadConcluded : false\r\n\t\t};\r\n\r\n\t\t// Create JSON Manager\r\n\t\tthis.jsonManager = new JSONManeger();\r\n\r\n\t\t// Create Macro Builders\r\n\t\tthis.builders = [];\r\n\t\tthis.builders[0] = new TimeSkipMacroBuilder(this.jsonManager);\r\n\t\tthis.builders[1] = new LotoIDMacroBuilder(this.jsonManager);\r\n\t\tthis.builders[2] = new WonderBoxMacroBuilder(this.jsonManager);\r\n\r\n\t\tlet macroCount = this.builders.length;\r\n\r\n\t\t// Init Dirty Bit Array\r\n\t\tthis.dirtyMacro = Array(macroCount).fill(false);\r\n\r\n\t\t// Init Macro Array\r\n\t\tthis.macros = Array(macroCount).fill(null);\r\n\r\n\t\tthis.selectMacro = this.selectMacro.bind(this);\r\n\t\tthis.changeParameter = this.changeParameter.bind(this);\r\n\t}\r\n\r\n\tcheckLoadConcluded() {\r\n\t\tvar concluded = this.jsonManager.loadConcluded;\r\n\r\n\t\tif(!concluded) return;\r\n\r\n\t\tvar i = 0;\r\n\t\tfor(; i < this.builders.length; i++) {\r\n\t\t\tthis.buildMacro(i); // Build macro\r\n\r\n\t\t\tif(this.macros[i] === null || this.macros[i] === undefined) {\r\n\t\t\t\tconcluded = false;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis.state.loadConcluded = concluded;\r\n\t}\r\n\r\n\tselectMacro(index) {\r\n\t\tif(this.state.selectedMacro === index) return false;\r\n\r\n\t\tvar audio = new Audio(\"/click.mp3\");\r\n\t\taudio.play();\r\n\r\n\t\tvar currentMacro = this.macros[this.state.selectedMacro];\r\n\r\n\t\tif(currentMacro.state !== MacroStates.INACTIVE) {\r\n\t\t\tcurrentMacro.reset();\r\n\r\n\t\t\tthis.state.playState = MacroStates.INACTIVE;\r\n\t\t\tthis.state.macroProgress = 0;\r\n\t\t}\r\n\r\n\t\tthis.state.selectedMacro = index;\r\n\r\n\t\treturn true;\r\n\t}\r\n\r\n\tchangeParameter(key, value) {\r\n\t\tlet builder = this.builders[this.state.selectedMacro];\r\n\r\n\t\tif(builder.changeParameter(key, value)) {\r\n\t\t\tthis.dirtyMacro[this.state.selectedMacro] = true;\r\n\t\t}\r\n\t}\r\n\r\n\tplay() {\r\n\t\tvar index = this.state.selectedMacro;\r\n\r\n\t\tvar currentMacro = this.macros[index];\r\n\t\tvar isDirty      = this.dirtyMacro[index];\r\n\r\n\t\tswitch(currentMacro.state) {\r\n\t\t\tdefault:\r\n\t\t\tcase MacroStates.PLAYING:\r\n\t\t\tcase MacroStates.PAUSED:\r\n\t\t\tbreak;\r\n\r\n\t\t\tcase MacroStates.INACTIVE:\r\n\t\t\tcase MacroStates.FINISHED:\r\n\t\t\t\tif(currentMacro.state === MacroStates.FINISHED) {\r\n\t\t\t\t\tcurrentMacro.reset();\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif(isDirty) {\r\n\t\t\t\t\tthis.dirtyMacro[index] = false;\r\n\r\n\t\t\t\t\tthis.buildMacro(index);\r\n\r\n\t\t\t\t\tcurrentMacro = this.macros[index];\r\n\t\t\t\t}\r\n\r\n\t\t\t\tcurrentMacro.startRunner();\r\n\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\tcurrentMacro.state = MacroStates.PLAYING;\r\n\r\n\t\tthis.state.playState = MacroStates.PLAYING;\r\n\r\n\t\treturn true;\r\n\t}\r\n\r\n\tpause() {\r\n\t\tvar currentMacro = this.macros[this.state.selectedMacro];\r\n\r\n\t\tif(currentMacro.state === MacroStates.PLAYING) {\r\n\t\t\tcurrentMacro.state = MacroStates.PAUSED;\r\n\r\n\t\t\tthis.state.playState = MacroStates.PAUSED;\r\n\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\treturn false;\r\n\t}\r\n\r\n\treset() {\r\n\t\tvar currentMacro = this.macros[this.state.selectedMacro];\r\n\r\n\t\tif(currentMacro.state !== MacroStates.INACTIVE) {\r\n\t\t\tcurrentMacro.reset();\r\n\r\n\t\t\tthis.state.playState = MacroStates.INACTIVE\r\n\t\t\tthis.state.macroProgress = 0;\r\n\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\treturn false;\r\n\t}\r\n\r\n\tgetMacroState() {\r\n\t\treturn { macroState : this.state.playState,\r\n\t\t\t\tmacroProgress : this.state.macroProgress };\r\n\t}\r\n\r\n\tgetAllMacroData() {\r\n\t\tlet dataArray = [];\r\n\r\n\t\tlet i = 0;\r\n\t\tfor(; i < this.builders.length; i++) {\r\n\t\t\tlet builder = this.builders[i];\r\n\r\n\t\t\tdataArray[i] = builder.getRenderData();\r\n\t\t}\r\n\r\n\t\treturn dataArray;\r\n\t}\r\n\r\n\tgetCurrentMacroData() {\r\n\t\tvar builder = this.builders[this.state.selectedMacro];\r\n\r\n\t\treturn builder.getRenderData();\r\n\t}\r\n\r\n\tbuildMacro(index) {\r\n\t\tvar builder = this.builders[index];\r\n\r\n\t\tvar macro = builder.build(this.parameters);\r\n\r\n\t\tthis.macros[index] = macro;\r\n\r\n\t\tconsole.log(macro.toString());\r\n\t}\r\n\r\n\tupdateMacros() {\r\n\t\tvar i = 0;\r\n\t\tfor(; i < this.macroBuilders.length; i++) {\r\n\t\t\tvar dirty   = this.macroParamsDirty[i];\r\n\r\n\t\t\tif(dirty) {\r\n\t\t\t\tthis.buildMacro(i);\r\n\r\n\t\t\t\tthis.macroParamsDirty[i] = false;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tupdate() {\r\n\t\tvar response = undefined;\r\n\r\n\t\tif(!this.state.loadConcluded) {\r\n\t\t\tthis.checkLoadConcluded();\r\n\t\t}\r\n\r\n\t\t// If Load has been completed\r\n\t\tif(this.state.loadConcluded) {\r\n\t\t\tvar runResult = undefined;\r\n\r\n\t\t\t// Get current Macro\r\n\t\t\tvar currentMacro = this.macros[this.state.selectedMacro];\r\n\r\n\t\t\tif(currentMacro === undefined || currentMacro === null) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t//console.log(currentMacro.state);\r\n\t\t\tswitch(currentMacro.state) {\r\n\t\t\t\tdefault:\r\n\t\t\t\tcase MacroStates.INACTIVE:\r\n\t\t\t\tcase MacroStates.FINISHED:\r\n\t\t\t\treturn;\r\n\r\n\t\t\t\tcase MacroStates.PLAYING:\r\n\t\t\t\t\trunResult = currentMacro\r\n\t\t\t\t\t\t.runner({state : currentMacro.state, abort : false});\r\n\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase MacroStates.PAUSED:\r\n\t\t\t\t\trunResult = currentMacro\r\n\t\t\t\t\t\t.runner({state : currentMacro.state, abort : false});\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\r\n\t\t\t// If a result was obtained\r\n\t\t\tif(runResult !== undefined) {\r\n\t\t\t\t// If the result includes a value\r\n\t\t\t\tif(runResult.value !== undefined) {\r\n\t\t\t\t\tresponse = runResult.value;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif(runResult.done) currentMacro.state = MacroStates.FINISHED;\r\n\t\t\t}\r\n\r\n\t\t\tthis.state.playState = currentMacro.state;\r\n\t\t\tthis.state.macroProgress = currentMacro.progress() * 100;\r\n\t\t}\r\n\r\n\t\treturn response;\r\n\t}\r\n}\r\n\r\nclass KeyLogger {\r\n\tconstructor() {\r\n\t\tthis.keys = {\r\n\t\t\ta               : {pressed : false, pendingLog: null},\r\n\t\t\tb               : {pressed : false, pendingLog: null},\r\n\t\t\tx               : {pressed : false, pendingLog: null},\r\n\t\t\ty               : {pressed : false, pendingLog: null},\r\n\t\t\tlsl             : {pressed : false, pendingLog: null},\r\n\t\t\tlsr             : {pressed : false, pendingLog: null},\r\n\t\t\trsl             : {pressed : false, pendingLog: null},\r\n\t\t\trsr             : {pressed : false, pendingLog: null},\r\n\t\t\tplus            : {pressed : false, pendingLog: null},\r\n\t\t\tminus           : {pressed : false, pendingLog: null},\r\n\t\t\tup              : {pressed : false, pendingLog: null},\r\n\t\t\tright           : {pressed : false, pendingLog: null},\r\n\t\t\tleft            : {pressed : false, pendingLog: null},\r\n\t\t\tdown            : {pressed : false, pendingLog: null},\r\n\t\t\tleft_stick      : {pressed : false, pendingLog: null},\r\n\t\t\tright_stick     : {pressed : false, pendingLog: null},\r\n\t\t\tleft_stick_dir  : {pressed : false, pendingLog: null},\r\n\t\t\tright_stick_dir : {pressed : false, pendingLog: null},\r\n\t\t\thome            : {pressed : false, pendingLog: null}\r\n\t\t};\r\n\r\n\t\tthis.log = [];\r\n\t\tthis.log_count = 0;\r\n\t}\r\n\r\n\tclear() {\r\n\t\tthis.keys = {\r\n\t\t\ta               : {pressed : false, pendingLog: null},\r\n\t\t\tb               : {pressed : false, pendingLog: null},\r\n\t\t\tx               : {pressed : false, pendingLog: null},\r\n\t\t\ty               : {pressed : false, pendingLog: null},\r\n\t\t\tlsl             : {pressed : false, pendingLog: null},\r\n\t\t\tlsr             : {pressed : false, pendingLog: null},\r\n\t\t\trsl             : {pressed : false, pendingLog: null},\r\n\t\t\trsr             : {pressed : false, pendingLog: null},\r\n\t\t\tplus            : {pressed : false, pendingLog: null},\r\n\t\t\tminus           : {pressed : false, pendingLog: null},\r\n\t\t\tup              : {pressed : false, pendingLog: null},\r\n\t\t\tright           : {pressed : false, pendingLog: null},\r\n\t\t\tleft            : {pressed : false, pendingLog: null},\r\n\t\t\tdown            : {pressed : false, pendingLog: null},\r\n\t\t\tleft_stick      : {pressed : false, pendingLog: null},\r\n\t\t\tright_stick     : {pressed : false, pendingLog: null},\r\n\t\t\tleft_stick_dir  : {pressed : false, pendingLog: null},\r\n\t\t\tright_stick_dir : {pressed : false, pendingLog: null},\r\n\t\t\thome            : {pressed : false, pendingLog: null}\r\n\t\t};\r\n\r\n\t\tthis.log = [];\r\n\t\tthis.log_count = 0;\r\n\t}\r\n\r\n\tpressKey(key, time) {\r\n\t\tif(key !== \"buffer\") {\r\n\t\t\tlet info = this.keys[key];\r\n\r\n\t\t\t// If key is not pressed\r\n\t\t\tif(info.pressed === false) {\r\n\t\t\t\tinfo.pressed = true;\r\n\r\n\t\t\t\tinfo.pendingLog = this.addLogEntry(key, time);\r\n\t\t\t}\r\n\r\n\t\t\tthis.keys[key] = info;\r\n\t\t}\r\n\t}\r\n\r\n\taddLogEntry(key, time) {\r\n\t\tlet entry = {index: this.log_count, key: key, onTime: time, offTime: ''}\r\n\r\n\t\tthis.log[this.log_count] = entry;\r\n\r\n\t\tthis.log_count++;\r\n\r\n\t\treturn entry;\r\n\t}\r\n\r\n\treleaseKey(key, time) {\r\n\t\tif(key !== \"buffer\") {\r\n\t\t\tlet info = this.keys[key];\r\n\r\n\t\t\tif(info.pressed === true) {\r\n\t\t\t\tinfo.pressed = false;\r\n\r\n\t\t\t\tlet entry = info.pendingLog;\r\n\t\t\t\tinfo.pendingLog = null;\r\n\r\n\t\t\t\tentry.offTime = time;\r\n\r\n\t\t\t\tthis.log[entry.index] = entry;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tgetPressed() {\r\n\t\tlet pressedKeys = [];\r\n\r\n\t\tfor(let entry in this.keys) {\r\n\t\t\tlet info = this.keys[entry];\r\n\r\n\t\t\tif(info.pressed === true) {\r\n\t\t\t\tpressedKeys.push(entry);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn pressedKeys;\r\n\t}\r\n\r\n\tupdate(key, pressed, time) {\r\n\t\t// If key is being pressed\r\n\t\tif(pressed) {\r\n\t\t\tthis.pressKey(key, time);\r\n\t\t}\r\n\t\t// If key is being released\r\n\t\telse {\r\n\t\t\tthis.releaseKey(key, time);\r\n\t\t}\r\n\t}\r\n\r\n\trenderPressed() {\r\n\t\tlet info = Object.entries(this.keys);\r\n\r\n\t\tlet render = [];\r\n\t\tlet count  =  0;\r\n\r\n\t\tlet i = 0;\r\n\t\tfor(; i < info.length; i++) {\r\n\t\t\tlet keyData = info[i];\r\n\r\n\t\t\tif(keyData[1].pressed === true) {\r\n\t\t\t\trender[count] = (\r\n\t\t\t\t\t<div className = \"pressedKey\" key = {keyData[0]}>\r\n\t\t\t\t\t\t{keyData[0]}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t);\r\n\r\n\t\t\t\tcount++;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<div id = \"PressedKeys\">\r\n\t\t\t\t<b> Pressed </b>\r\n\t\t\t\t{render}\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n\trenderLogged() {\r\n\t\tvar keyLogs = [];\r\n\r\n\t\tif(this.log_count > 0) {\r\n\t\t\tvar i = 0;\r\n\t\t\tfor(; i < Math.min(3, this.log_count); i++) {\r\n\t\t\t\tvar l = this.log[this.log_count - (i + 1)];\r\n\t\t\t\tkeyLogs.push(\r\n\t\t\t\t\t<KeyLog key = {\"keylog_\" + i} index = {l.index.toString()}\r\n\t\t\t\t\t\tpressedKey = {l.key} onTime = {l.onTime} offTime = {l.offTime}/>\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<div id = \"KeyLogs\">\r\n\t\t\t\t{keyLogs}\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\n//\r\n// - APP\r\n//\r\n\r\nclass App extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {};\r\n\r\n\t\tthis.onButtonEvent   = this.onButtonEvent.bind(this);\r\n\t\tthis.selectMacro     = this.selectMacro.bind(this);\r\n\t\tthis.parameterChange = this.parameterChange.bind(this);\r\n\r\n\t\tthis.macroPlayer = new MacroPlayer();\r\n\r\n\t\tthis.keyLogger = new KeyLogger();\r\n\t\tthis.currentTime = 0;\r\n\r\n\t\tthis.state = {selectedMacro :  0,\r\n\t\t\t\t\t  macroState    : -1,\r\n\t\t\t\t\t  macroProgress :  0,\r\n\t\t\t\t\t\tdisplayInfo   : false\r\n\t\t};\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.UpdateTimerId = setInterval(\r\n\t\t\t() => this.update(),\r\n\t\t\t20\r\n\t\t);\r\n\t}\r\n\r\n\tcomponentWillUnmount() {\r\n\t\tclearInterval(this.UpdateTimerId);\r\n\t}\r\n\r\n\tupdate() {\r\n\t\tthis.currentTime += 20;\r\n\r\n\t\tvar res = this.macroPlayer.update(this.currentTime);\r\n\r\n\t\tthis.setState(this.macroPlayer.getMacroState());\r\n\r\n\t\tif(res !== undefined) {\r\n\t\t\tthis.handleSwitchKeys(res.button, res.pressed);\r\n\t\t\tthis.keyLogger.update(res.button, res.pressed, res.time);\r\n\t\t}\r\n\t}\r\n\r\n\tonButtonEvent(name) {\r\n\t\tvar audio = new Audio(\"/click.mp3\");\r\n    audio.play();\r\n\r\n\t\tswitch (name) {\r\n\t\t\tdefault:\r\n\t\t\treturn;\r\n\r\n\t\t\tcase \"play\":\r\n\t\t\t\tthis.macroPlayer.play();\r\n\t\t\tbreak;\r\n\r\n\t\t\tcase \"pause\":\r\n\t\t\t\tthis.macroPlayer.pause();\r\n\t\t\tbreak;\r\n\r\n\t\t\tcase \"reset\":\r\n\t\t\t\tif(this.macroPlayer.reset()) {\r\n\t\t\t\t\tvar pressedKeys = this.keyLogger.getPressed();\r\n\r\n\t\t\t\t\tfor(let key in pressedKeys) {\r\n\t\t\t\t\t\tthis.handleSwitchKeys(key, false);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tthis.keyLogger.clear();\r\n\t\t\t\t}\r\n\t\t\tbreak;\r\n\r\n\t\t\tcase \"info\":\r\n\t\t\t\tlet pressed = !this.state.displayInfo;\r\n\t\t\t\tthis.setState({displayInfo: pressed});\r\n\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\tthis.setState(this.macroPlayer.getMacroState());\r\n\t}\r\n\r\n\tselectMacro(index) {\r\n\t\tif(this.macroPlayer.selectMacro(index)) {\r\n\t\t\tthis.keyLogger.clear();\r\n\t\t}\r\n\t}\r\n\r\n\tparameterChange(key, value) {\r\n\t\tthis.macroPlayer.changeParameter(key, value);\r\n\t}\r\n\r\n\thandleSwitchKeys(name, pressed) {\r\n\t\tif(window.joyconJS === undefined) return;\r\n\r\n\t\tif(name === \"minus\") {\r\n\t\t\twindow.joyconJS.onMinus(pressed);\r\n\t\t}\r\n\r\n\t\tif(name === \"left-stick\") {\r\n\t\t\twindow.joyconJS.onLeftJoystickPressed(pressed);\r\n\t\t}\r\n\r\n\t\tif(name === \"up\") {\r\n\t\t\twindow.joyconJS.onUp(pressed);\r\n\t\t}\r\n\r\n\t\tif(name === \"right\") {\r\n\t\t\twindow.joyconJS.onRight(pressed);\r\n\t\t}\r\n\r\n\t\tif(name === \"down\") {\r\n\t\t\twindow.joyconJS.onDown(pressed);\r\n\t\t}\r\n\r\n\t\tif(name === \"left\") {\r\n\t\t\twindow.joyconJS.onLeft(pressed);\r\n\t\t}\r\n\r\n\t\tif(name === \"lsl\") {\r\n\t\t\twindow.joyconJS.onLeftSL(pressed);\r\n\t\t}\r\n\r\n\t\tif(name === \"lsr\") {\r\n\t\t\twindow.joyconJS.onLeftSR(pressed);\r\n\t\t}\r\n\r\n\t\tif(name === \"plus\") {\r\n\t\t\twindow.joyconJS.onPlus(pressed);\r\n\t\t}\r\n\r\n\t\tif(name === \"a\") {\r\n\t\t\twindow.joyconJS.onA(pressed);\r\n\t\t}\r\n\r\n\t\tif(name === \"b\") {\r\n\t\t\twindow.joyconJS.onB(pressed);\r\n\t\t}\r\n\r\n\t\tif(name === \"x\") {\r\n\t\t\twindow.joyconJS.onX(pressed);\r\n\t\t}\r\n\r\n\t\tif(name === \"y\") {\r\n\t\t\twindow.joyconJS.onY(pressed);\r\n\t\t}\r\n\r\n\t\tif(name === \"rsl\") {\r\n\t\t\twindow.joyconJS.onRightSL(pressed);\r\n\t\t}\r\n\r\n\t\tif(name === \"rsr\") {\r\n\t\t\twindow.joyconJS.onRightSR(pressed);\r\n\t\t}\r\n\r\n\t\tif(name === \"right-stick\") {\r\n\t\t\twindow.joyconJS.onRightJoystickPressed(pressed);\r\n\t\t}\r\n\r\n\t\tif(name === \"home\") {\r\n\t\t\twindow.joyconJS.onHome(pressed);\r\n\t\t}\r\n\t}\r\n\r\n\trenderMacros() {\r\n\t\tif(!this.macroPlayer.state.loadConcluded) return (<b> Loading </b>);\r\n\r\n\t\tlet selected = this.macroPlayer.state.selectedMacro;\r\n\r\n\t\tlet data = this.macroPlayer.getAllMacroData();\r\n\r\n\t\tlet index = -1;\r\n\r\n\t\treturn data.map((entry) => {\r\n\t\t\t\tindex++;\r\n\r\n\t\t\t\tvar isSelected = selected === index;\r\n\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<MacroButton key = {\"macro_\" + index.toString()} index = {index}\r\n\t\t\t\t\t\tselected = {isSelected} name = {entry.name} src = {entry.icon}\r\n\t\t\t\t\t\tclickHandler = {this.selectMacro}/>\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t);\r\n\t}\r\n\r\n\trenderParameters() {\r\n\t\tif(!this.macroPlayer.state.loadConcluded) return (<b> Loading </b>);\r\n\r\n\t\tlet data = this.macroPlayer.getCurrentMacroData();\r\n\r\n\t\treturn (\r\n\t\t\t<ParameterInput key = {\"macroParams\"}\r\n\t\t\t\tmacro = {data.name} parameters = {data.parameters}\r\n\t\t\t\teventHandler = {this.parameterChange}/>\r\n\t\t);\r\n\t}\r\n\r\n\trenderInfo() {\r\n\t\tlet data = this.macroPlayer.getCurrentMacroData();\r\n\t\tlet name = data.name;\r\n\t\tlet info = data.info;\r\n\r\n\t\treturn (\r\n\t\t\t<div id = \"Info\">\r\n\t\t\t\t<button className = \"info-button\" id = \"InfoButton\"\r\n\t\t\t\t\tonMouseDown  = {e => this.onButtonEvent(\"info\", true)}\r\n\t\t\t\t\tonTouchStart = {e => this.onButtonEvent(\"info\", true)}>\r\n\t\t\t\t\tInfo\r\n\t\t\t\t</button>\r\n\t\t\t\t<InfoOverlay show = {this.state.displayInfo}\r\n\t\t\t\t\ttitle = {name} sections = {info}\r\n\t\t\t\t\tonMouseDown  = {e => this.onButtonEvent(\"info\", false)}\r\n\t\t\t\t\tonTouchStart = {e => this.onButtonEvent(\"info\", false)}/>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst pressed = this.keyLogger.renderPressed();\r\n\t\tconst logging = this.keyLogger.renderLogged();\r\n\r\n\t\tconst macros = this.renderMacros();\r\n\t\tconst parameters = this.renderParameters();\r\n\t\tconst info = this.renderInfo();\r\n\r\n\t\tconst current = this.macroPlayer.state.playState;\r\n\r\n\t\treturn (\r\n\t\t\t<div className = \"App\" style = {{backgroundImage: \"url(./images/background.png)\"}}>\r\n\t\t\t\t<div className = \"App-header\">\r\n\t\t\t\t\t<img className = \"icon\" src = \"./images/macro_app_icon.png\" alt = \"AppIcon\"/>\r\n\t\t\t\t\t<b className = \"App-title\"\r\n\t\t\t\t\t\tstyle = {{color: \"black\"}}> POKÉMACROS </b>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div id = \"body\">\r\n\t\t\t\t\t<div id = \"Macros\">\r\n\t\t\t\t\t\t{macros}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div id = \"Parameters\">\r\n\t\t\t\t\t\t{parameters}\r\n\t\t\t\t\t\t{info}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div id = \"Tracker\">\r\n\t\t\t\t\t\t<ProgressBar key = \"progressbar\" percentage = {this.state.macroProgress} />\r\n\t\t\t\t\t\t<div id = \"KeyLogging\">\r\n\t\t\t\t\t\t\t{pressed}\r\n\t\t\t\t\t\t\t{logging}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div id = \"PlayerButtons\">\r\n\t\t\t\t\t\t<PlayerButton id = \"ResetButton\" selected = {current === MacroStates.INACTIVE} name = \"Reset\"\r\n\t\t\t\t\t\t\tsrc = \"./images/reset_icon.png\" clickHandler = {e => this.onButtonEvent(\"reset\")}/>\r\n\t\t\t\t\t\t<PlayerButton id = \"PlayButton\" selected = {current === MacroStates.PLAYING} name = \"Play\"\r\n\t\t\t\t\t\t\tsrc = \"./images/play_icon.png\" clickHandler = {e => this.onButtonEvent(\"play\")}/>\r\n\t\t\t\t\t\t<PlayerButton id = \"PauseButton\" selected = {current === MacroStates.PAUSED} name = \"Pause\"\r\n\t\t\t\t\t\t\tsrc = \"./images/pause_icon.png\" clickHandler = {e => this.onButtonEvent(\"pause\")}/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport './index.css';\r\n\r\nReactDOM.render(\r\n  <App />,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}