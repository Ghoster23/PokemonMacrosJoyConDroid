{"version":3,"sources":["App.js","index.js"],"names":["MacroStates","LoadJson","path","a","async","res","fetch","then","response","json","generateButtonPress","button","onTime","offTime","count","name","macro","PlayerButton","props","divStyle","background","iconStyle","selected","filter","className","id","style","onClick","e","clickHandler","src","alt","MacroButton","index","ProgressBar","width","percentage","KeyLog","key","ind","pressedKey","CheckBox","state","handleChange","bind","event","this","onChange","paramKey","target","checked","type","React","Component","IntegerInput","value","Math","min","currentTarget","max","parseInt","readOnly","readonly","DropDownList","options","map","string","toString","renderOptions","ParameterInput","active","params","parameters","daysToAdvance","eventHandler","dateFormat","getFirst","attempts","waitTime","eggCycles","ability","eggCharm","eggsInBox","InfoOverlay","display_style","display","show","sections","i","length","section","title","text","onMouseDown","onTouchStart","JSONManeger","segments","FstSkip","filename","object","FstSkipUS","FstSkipCHN","AdvDay","AdvDayUS","AdvDayCHN","LotoID","Universal","UniversalUS","UniversalCHN","OpenBox","SelectInBox","PlaceInBox","StartWonder","EndWonder","entries","Object","loadedCount","segmentCount","loadConcluded","loadMacro","segment","console","log","JSON","parse","stringify","MacroBuilder","jsonM","icon","jsonManager","macroJSON","paramHandlers","info","handler","getMacro","concat","TimeSkipMacroBuilder","currentFormat","onDaysToAdvanceChange","onDateFormatChange","text1","days","format","concatToMacro","InitMacro","months","floor","total","AdvanceDay","Macro","LotoIDMacroBuilder","onAttemptsChange","onGetFirstChange","bool","counter","WonderBoxMacroBuilder","onCountChange","onWaitTimeChange","text2","time","column","row","dx","dy","ConcludeTrade","EggHatcherMacroBuilder","onEggCyclesChange","onEggsInBoxChange","onHasAbilityChange","onHasEggCharmChange","cycles","hatchCycles","cColumn","cRow","tColumn","tRow","sX","sY","cX","cY","InBoxSegment","onWait","waitTimeout","runner","totalSteps","currentOverallStep","totalTime","j","subTotal","f","abort","steps","reps","k","step","pressed","l","wait","args","o","apply","next","x","coroutine","duration","setTimeout","resume","obj","clearTimeout","seg","MacroPlayer","selectedMacro","playState","macroProgress","builders","macroCount","dirtyMacro","Array","fill","macros","selectMacro","changeParameter","concluded","buildMacro","undefined","Audio","play","currentMacro","reset","isDirty","startRunner","macroState","dataArray","builder","getRenderData","build","macroBuilders","macroParamsDirty","checkLoadConcluded","runResult","done","progress","KeyLogger","keys","pendingLog","b","y","lsl","lsr","r","rsl","rsr","plus","minus","up","right","left","down","left_stick","right_stick","left_stick_dir","right_stick_dir","home","log_count","addLogEntry","entry","pressedKeys","push","pressKey","releaseKey","render","keyData","keyLogs","App","onButtonEvent","parameterChange","macroPlayer","keyLogger","currentTime","displayInfo","UpdateTimerId","setInterval","update","clearInterval","setState","getMacroState","handleSwitchKeys","pause","getPressed","clear","window","joyconJS","onMinus","onLeftJoystickPressed","onUp","onRight","onDown","onLeft","onL","onLeftSL","onLeftSR","onPlus","onA","onB","onX","onY","onR","onRightSL","onRightSR","onRightJoystickPressed","onHome","data","getAllMacroData","isSelected","getCurrentMacroData","renderPressed","logging","renderLogged","renderMacros","renderParameters","renderInfo","current","backgroundImage","color","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.75d61473.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\nimport './App.css';\r\n\r\n//\r\n// - Constants and Globals\r\n//\r\n\r\nconst MacroStates = {\r\n\tINACTIVE: 0,\r\n\tPLAYING:  1,\r\n\tPAUSED:   2,\r\n\tFINISHED: 3\r\n}\r\n\r\n//\r\n// - AUX Functions\r\n//\r\n\r\n/*\r\nfunction ConvertDate(date) {\r\n\tlet day   = date.getDate().toString();\r\n\tif(day <= 9) day = \"0\" + day;\r\n\r\n\tlet month = (date.getMonth() + 1).toString();\r\n\tif(date.getMonth() < 9) month = \"0\" + month;\r\n\r\n\tlet year  = date.getFullYear().toString();\r\n\r\n\treturn year + \"-\" + month + \"-\" + day;\r\n}\r\n*/\r\n\r\nasync function LoadJson(path) {\r\n\tvar res = null;\r\n\r\n\tres = await fetch(path).then(response => { return response.json(); } );\r\n\r\n\treturn res;\r\n}\r\n\r\nfunction generateButtonPress(button, onTime, offTime, count) {\r\n\treturn [\r\n\t\t{\r\n\t\t\tname: \"Press \" + button,\r\n\t\t\tmacro: [\r\n\t\t\t\t{\r\n\t\t\t\t\tbutton  : button,\r\n\t\t\t\t\tonTime  : onTime,\r\n\t\t\t\t\toffTime : offTime,\r\n\t\t\t\t\tcount   : 1\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\tcount: count\r\n\t\t}\r\n\t];\r\n}\r\n\r\n//\r\n// - React Components\r\n//\r\n\r\nfunction PlayerButton(props) {\r\n\tvar divStyle = { background : \"#FFF\" };\r\n\tvar iconStyle = {};\r\n\r\n\tif(props.selected) {\r\n\t\tdivStyle  = { background : \"#000\" };\r\n\t\ticonStyle = { filter : \"invert(1)\" };\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className = \"player-button\" id = {props.name} style = {divStyle}\r\n\t\t\tonClick = {e => props.clickHandler()} >\r\n\t\t\t<img className = \"icon\" src = {props.src} alt = {props.name + \" Button Icon\"}\r\n\t\t\t\tstyle = {iconStyle} />\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nfunction MacroButton(props) {\r\n\tvar style = { background : \"white\" };\r\n\tif(props.selected) style = {background : \"black\"};\r\n\r\n\treturn (\r\n\t\t<div className = \"macro\">\r\n\t\t\t<div className = \"macro-button\" id = {props.name} style = {style}\r\n\t\t\t\tonClick = {e => props.clickHandler(props.index)}>\r\n\t\t\t\t<img className = \"icon\" src = {props.src} alt = {\"Icon \" + props.name}/>\r\n\t\t\t</div>\r\n\t\t\t<label className = \"macro-button-label\">\r\n\t\t\t\t{props.name}\r\n\t\t\t</label>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nfunction ProgressBar(props) {\r\n\tconst width = { width : `${props.percentage}%` };\r\n\r\n\treturn (\r\n\t\t<div className = \"progress-bar\">\r\n\t\t\t<div className = \"filler\" style = {width} />\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nfunction KeyLog(props) {\r\n\treturn (\r\n\t\t<div key = {props.ind} className = \"key-log\">\r\n\t\t\t<b className = \"key-log-cell\"> {props.index} </b>\r\n\t\t\t<b className = \"key-log-cell\"> {props.pressedKey} </b>\r\n\t\t\t<b className = \"key-log-cell\"> {props.onTime} </b>\r\n\t\t\t<b className = \"key-log-cell\"> {props.offTime} </b>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nclass CheckBox extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {};\r\n\r\n\t\tthis.handleChange = this.handleChange.bind(this);\r\n\t}\r\n\r\n\thandleChange(event) {\r\n\t\treturn this.props.onChange(this.props.paramKey, event.target.checked);\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<input type = \"checkbox\" checked = {this.props.checked} onChange = {this.handleChange} />\r\n\t\t);\r\n\t}\r\n}\r\n\r\nclass IntegerInput extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {};\r\n\r\n\t\tthis.handleChange = this.handleChange.bind(this);\r\n\t}\r\n\r\n\thandleChange(event) {\r\n\t\tif(event.target.value === \"\") {\r\n\t\t\tthis.props.onChange(1);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tlet value = Math.min(event.currentTarget.value, this.props.max);\r\n\r\n\t\tthis.props.onChange(parseInt(value));\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<input type = \"number\" className = \"integer-input\"\r\n\t\t\treadOnly = {this.props.readonly}\r\n\t\t\tvalue = {this.props.value} onChange = {this.handleChange}\r\n\t\t\tmax = {this.props.max} min = {this.props.min}/>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nclass DropDownList extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {};\r\n\r\n\t\tthis.handleChange = this.handleChange.bind(this);\r\n\t}\r\n\r\n\thandleChange(event) {\r\n\t\tif(event.target.value === \"\") {\r\n\t\t\tthis.props.onChange(0);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis.props.onChange(parseInt(event.currentTarget.value));\r\n\t}\r\n\r\n\trenderOptions() {\r\n\t\treturn this.props.options.map((string, index) => {\r\n\t\t\treturn (\r\n\t\t\t\t<option key = {\"option\" + index.toString()} value={index}>{string}</option>\r\n\t\t\t);\r\n\t\t});\r\n\t}\r\n\r\n\trender() {\r\n\t\tlet options = this.renderOptions();\r\n\r\n\t\treturn (\r\n\t\t\t<select className = \"drop-down-list\" onChange = {this.handleChange}>\r\n\t\t\t  {options}\r\n\t\t\t</select>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nclass ParameterInput extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {active : false};\r\n\t}\r\n\r\n\trender() {\r\n\t\tvar params = this.props.parameters;\r\n\r\n\t\tswitch(this.props.macro) {\r\n\t\t\tdefault:\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<div className = \"macro-parameters\" id = \"DefaultParams\">\r\n\t\t\t\t\t</div>\r\n\t\t\t\t);\r\n\r\n\t\t\tcase \"Time Skip\":\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<div className = \"macro-parameters\" id = \"TimeSkipParams\">\r\n\t\t\t\t\t\t<div className = \"parameters-entry\">\r\n\t\t\t\t\t\t\t<label className = \"parameter-label\">\r\n\t\t\t\t\t\t\t\tSkip Count\r\n\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t<div className = \"parameter\">\r\n\t\t\t\t\t\t\t\t<IntegerInput id = \"daysToAdvance\" name = \"days-to-advance\"\r\n\t\t\t\t\t\t\t\t\tvalue = {params.daysToAdvance}\r\n\t\t\t\t\t\t\t\t\tonChange = {value => this.props.eventHandler(\"daysToAdvance\", value)}\r\n\t\t\t\t\t\t\t\t\tmin = \"1\" max = \"10000\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className = \"parameters-entry\">\r\n\t\t\t\t\t\t\t<label className = \"parameter-label\">\r\n\t\t\t\t\t\t\t\tDate Format\r\n\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t<div className = \"parameter\">\r\n\t\t\t\t\t\t\t\t<DropDownList id = \"dateFormat\" name = \"date-format\"\r\n\t\t\t\t\t\t\t\t\tvalue = {params.dateFormat}\r\n\t\t\t\t\t\t\t\t\toptions = {[\"World\", \"US\", \"Chinese\"]}\r\n\t\t\t\t\t\t\t\t\tonChange = {value => this.props.eventHandler(\"dateFormat\", value)}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t);\r\n\r\n\t\t\tcase \"Loto ID\":\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<div className = \"macro-parameters\" id = \"LottoIDParams\">\r\n\t\t\t\t\t\t<div className = \"parameters-entry\">\r\n\t\t\t\t\t\t\t<label className = \"parameter-label\">\r\n\t\t\t\t\t\t\t\tFirst Day Loto\r\n\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t<div className = \"parameter\">\r\n\t\t\t\t\t\t\t\t<CheckBox id = \"firstDayLoto\" name = \"first-day-loto\"\r\n\t\t\t\t\t\t\t\t\tchecked = {params.getFirst}\r\n\t\t\t\t\t\t\t\t\tparamKey = \"getFirst\"\r\n\t\t\t\t\t\t\t\t\tonChange = {this.props.eventHandler}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className = \"parameters-entry\">\r\n\t\t\t\t\t\t\t<label className = \"parameter-label\">\r\n\t\t\t\t\t\t\t\tAttempts\r\n\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t<div className = \"parameter\">\r\n\t\t\t\t\t\t\t\t<IntegerInput id = \"Attempts\" name = \"lotto-id-attempts\"\r\n\t\t\t\t\t\t\t\t\tvalue = {params.attempts}\r\n\t\t\t\t\t\t\t\t\tonChange = {value => this.props.eventHandler(\"attempts\", value)}\r\n\t\t\t\t\t\t\t\t\tmin = \"0\" max = \"10000\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className = \"parameters-entry\">\r\n\t\t\t\t\t\t\t<label className = \"parameter-label\">\r\n\t\t\t\t\t\t\t\tDate Format\r\n\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t<div className = \"parameter\">\r\n\t\t\t\t\t\t\t\t<DropDownList id = \"dateFormat\" name = \"date-format\"\r\n\t\t\t\t\t\t\t\t\tvalue = {params.dateFormat}\r\n\t\t\t\t\t\t\t\t\toptions = {[\"World\", \"US\", \"Chinese\"]}\r\n\t\t\t\t\t\t\t\t\tonChange = {value => this.props.eventHandler(\"dateFormat\", value)}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t);\r\n\r\n\t\t\tcase \"Wonder Box\":\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<div className = \"macro-parameters\" id = \"WonderBoxParams\">\r\n\t\t\t\t\t\t<div className = \"parameters-entry\">\r\n\t\t\t\t\t\t\t<label className = \"parameter-label\">\r\n\t\t\t\t\t\t\t\tCount\r\n\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t<div className = \"parameter\">\r\n\t\t\t\t\t\t\t\t<IntegerInput id = \"WTradeCount\" name = \"wonder-trade-count\"\r\n\t\t\t\t\t\t\t\t\tvalue = {params.count}\r\n\t\t\t\t\t\t\t\t\tonChange = {value => this.props.eventHandler(\"count\", value)}\r\n\t\t\t\t\t\t\t\t\tmin = \"1\" max = \"30\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className = \"parameters-entry\">\r\n\t\t\t\t\t\t\t<label className = \"parameter-label\">\r\n\t\t\t\t\t\t\t\tWait Time\r\n\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t<div className = \"parameter\">\r\n\t\t\t\t\t\t\t\t<IntegerInput id = \"WTradeWaitTime\" name = \"wonder-trade-wait-time\"\r\n\t\t\t\t\t\t\t\t\tvalue = {params.waitTime}\r\n\t\t\t\t\t\t\t\t\tonChange = {value => this.props.eventHandler(\"waitTime\", value)}\r\n\t\t\t\t\t\t\t\t\tmin = \"2\" max = \"600\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t);\r\n\r\n\t\t\tcase \"Egg Hatcher\":\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<div className = \"macro-parameters\" id = \"EggHatcherParams\">\r\n\t\t\t\t\t\t<div className = \"parameters-entry\">\r\n\t\t\t\t\t\t\t<label className = \"parameter-label\">\r\n\t\t\t\t\t\t\t\tEgg Cycles\r\n\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t<div className = \"parameter\">\r\n\t\t\t\t\t\t\t\t<DropDownList id = \"eggCycles\" name = \"egg-cycles\"\r\n\t\t\t\t\t\t\t\t\tvalue    = {params.eggCycles.toString()}\r\n\t\t\t\t\t\t\t\t\toptions  = {[\"5\", \"10\", \"15\", \"20\", \"25\", \"30\", \"35\", \"40\"]}\r\n\t\t\t\t\t\t\t\t\tonChange = {value => this.props.eventHandler(\"eggCycles\", value)}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className = \"parameters-entry\">\r\n\t\t\t\t\t\t\t<label className = \"parameter-label\">\r\n\t\t\t\t\t\t\t\tHatching Ability\r\n\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t<div className = \"parameter\">\r\n\t\t\t\t\t\t\t\t<CheckBox id = \"hasHatchAbility\" name = \"hatch-ability\"\r\n\t\t\t\t\t\t\t\t\tchecked  = {params.ability}\r\n\t\t\t\t\t\t\t\t\tparamKey = \"ability\"\r\n\t\t\t\t\t\t\t\t\tonChange = {this.props.eventHandler}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className = \"parameters-entry\">\r\n\t\t\t\t\t\t\t<label className = \"parameter-label\">\r\n\t\t\t\t\t\t\t\tEgg Charm\r\n\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t<div className = \"parameter\">\r\n\t\t\t\t\t\t\t\t<CheckBox id = \"hasEggCharm\" name = \"egg-charm\"\r\n\t\t\t\t\t\t\t\t\tchecked = {params.eggCharm}\r\n\t\t\t\t\t\t\t\t\tparamKey = \"eggCharm\"\r\n\t\t\t\t\t\t\t\t\tonChange = {this.props.eventHandler}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className = \"parameters-entry\">\r\n\t\t\t\t\t\t\t<label className = \"parameter-label\">\r\n\t\t\t\t\t\t\t\tEggs in Box\r\n\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t<div className = \"parameter\">\r\n\t\t\t\t\t\t\t\t<IntegerInput id = \"eggsInBox\" name = \"eggs-in-box\"\r\n\t\t\t\t\t\t\t\t\tvalue = {params.eggsInBox}\r\n\t\t\t\t\t\t\t\t\tonChange = {value => this.props.eventHandler(\"eggsInBox\", value)}\r\n\t\t\t\t\t\t\t\t\tmin = \"1\" max = \"30\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t);\r\n\t\t}\r\n\t}\r\n}\r\n\r\nclass InfoOverlay extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {};\r\n\t}\r\n\r\n\trender() {\r\n\t\tvar display_style = {display : \"none\"};\r\n\t\tif(this.props.show) display_style.display = \"flex\";\r\n\r\n\t\tvar sections = [];\r\n\r\n\t\tvar i = 0;\r\n\t\tfor(; i < this.props.sections.length; i++) {\r\n\t\t\tvar section = this.props.sections[i];\r\n\r\n\t\t\tsections[i] = (\r\n\t\t\t\t<div className = \"infoSection\" key = {\"infoSect_\" + i.toString()}>\r\n\t\t\t\t\t<h2 className = \"infoSectionTitle\"> {section.title} </h2>\r\n\t\t\t\t\t{section.text}\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<div id = \"infoOverlay\" className = \"info-overlay\" style = {display_style}>\r\n\t\t\t\t<div id = \"infoOverlayOut\" onMouseDown  = {this.props.onMouseDown} onTouchStart = {this.props.onTouchStart}>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div id = \"infoTextBox\" className = \"text-box\">\r\n\t\t\t\t\t<h1 className = \"infoTextTitle\"> {this.props.title} </h1>\r\n\t\t\t\t\t\t{sections}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\n//\r\n// - Back End Elements\r\n//\r\n\r\nfunction coroutine(f, args) {\r\n\tvar o = f.apply(args);\r\n\r\n\to.next();\r\n\r\n\treturn function(x) {\r\n\t\treturn o.next(x);\r\n\t}\r\n}\r\n\r\nclass JSONManeger {\r\n\tconstructor() {\r\n\t\tthis.segments = {\r\n\t\t\tFstSkip      : {filename: \"FirstSkip.json\",           object: \"\"},\r\n\t\t\tFstSkipUS    : {filename: \"FirstSkipUS.json\",         object: \"\"},\r\n\t\t\tFstSkipCHN   : {filename: \"FirstSkipCHN.json\",        object: \"\"},\r\n\t\t\tAdvDay       : {filename: \"AdvanceDay.json\",          object: \"\"},\r\n\t\t\tAdvDayUS     : {filename: \"AdvanceDayUS.json\",        object: \"\"},\r\n\t\t\tAdvDayCHN    : {filename: \"AdvanceDayCHN.json\",       object: \"\"},\r\n\t\t\tLotoID       : {filename: \"LotoID.json\",              object: \"\"},\r\n\t\t\tUniversal    : {filename: \"UniversalSkip.json\",       object: \"\"},\r\n\t\t\tUniversalUS  : {filename: \"UniversalSkipUS.json\",     object: \"\"},\r\n\t\t\tUniversalCHN : {filename: \"UniversalSkipCHN.json\",    object: \"\"},\r\n\t\t\tOpenBox      : {filename: \"OpenBox.json\",             object: \"\"},\r\n\t\t\tSelectInBox  : {filename: \"SelectInBox.json\",         object: \"\"},\r\n\t\t\tPlaceInBox   : {filename: \"PlaceInBox.json\",          object: \"\"},\r\n\t\t\tStartWonder  : {filename: \"StartWonderTrade.json\",    object: \"\"},\r\n\t\t\tEndWonder    : {filename: \"ConcludeWonderTrade.json\", object: \"\"}\r\n\t\t};\r\n\r\n\t\tvar entries = Object.entries(this.segments);\r\n\r\n\t\tthis.loadedCount = 0;\r\n\t\tthis.segmentCount = entries.length;\r\n\t\tthis.loadConcluded = false;\r\n\r\n\t\tlet i = 0;\r\n\t\tfor(; i < this.segmentCount; i++) {\r\n\t\t\tthis.loadMacro(entries[i][0]);\r\n\t\t}\r\n\t}\r\n\r\n\tasync loadMacro(key) {\r\n\t\tvar segment = this.segments[key];\r\n\r\n\t\tsegment.object = await LoadJson(\"./macros/\" + segment.filename);\r\n\r\n\t\tthis.loadedCount += 1;\r\n\r\n\t\tif(this.loadedCount === this.segmentCount) {\r\n\t\t\tthis.loadConcluded = true;\r\n\t\t\tconsole.log(\"JSON Load Concluded\");\r\n\t\t}\r\n\t}\r\n\r\n\tgetMacro(key) {\r\n\t\tvar segment = this.segments[key];\r\n\t\tvar copy = JSON.parse(JSON.stringify(segment.object));\r\n\t\treturn copy;\r\n\t}\r\n}\r\n\r\n//\r\n// - Macro Builders\r\n//\r\n\r\nclass MacroBuilder {\r\n\tconstructor(jsonM, name, icon) {\r\n\t\tthis.jsonManager = jsonM;\r\n\r\n\t\tthis.name = name;\r\n\t\tthis.icon = icon;\r\n\r\n\t\tthis.macro = 0;\r\n\t\tthis.macroJSON = [];\r\n\r\n\t\tthis.parameters = {};\r\n\t\tthis.paramHandlers = {};\r\n\r\n\t\tthis.info = [];\r\n\t}\r\n\r\n\tchangeParameter(key, value) {\r\n\t\tlet handler = this.paramHandlers[key];\r\n\r\n\t\treturn handler(value);\r\n\t}\r\n\r\n\tgetMacro(key) {\r\n\t\tif(!this.jsonManager.loadConcluded) return null;\r\n\r\n\t\treturn this.jsonManager.getMacro(key);\r\n\t}\r\n\r\n\tconcatToMacro(segment) {\r\n\t\tthis.macroJSON = this.macroJSON.concat(segment);\r\n\t}\r\n\r\n\t// Render\r\n\tgetRenderData() {\r\n\t\treturn {\r\n\t\t\tname : this.name,\r\n\t\t\ticon : this.icon,\r\n\t\t\tparameters : this.parameters,\r\n\t\t\tinfo : this.info\r\n\t\t};\r\n\t}\r\n}\r\n\r\nclass TimeSkipMacroBuilder extends MacroBuilder {\r\n\tconstructor(jsonM) {\r\n\t\tsuper(jsonM, \"Time Skip\", \"./images/timeskip_icon.png\");\r\n\r\n\t\t// Init Parameters\r\n\t\tthis.parameters.daysToAdvance = 1;\r\n\t\tthis.parameters.dateFormat    = 0;\r\n\r\n\t\tthis.currentFormat = \"\";\r\n\r\n\t\tthis.onDaysToAdvanceChange = this.onDaysToAdvanceChange.bind(this);\r\n\t\tthis.onDateFormatChange    = this.onDateFormatChange.bind(this);\r\n\r\n\t\tthis.paramHandlers = {\r\n\t\t\tdaysToAdvance : this.onDaysToAdvanceChange,\r\n\t\t\tdateFormat    : this.onDateFormatChange\r\n\t\t};\r\n\r\n\t\tvar text1 = (\r\n\t\t\t<p>\r\n\t\t\t\t<b>1-</b> In the <b>Console Settings</b>, turn <b>Synchronize Time</b> off.\r\n\t\t\t\t<br/>\r\n\t\t\t\t<br/>\r\n\t\t\t\t<b>2-</b> The <b>Date</b> in <b>Console Settings</b> must be the first of any 31 day month.\r\n\t\t\t\t<br/>\r\n\t\t\t\t<br/>\r\n\t\t\t\t<b>3-</b> Set <b>Skip Count</b> to the number of days to advance.\r\n\t\t\t\t<br/>\r\n\t\t\t\t<br/>\r\n\t\t\t\t<b>4-</b> Set <b>Date Format</b> to match your console's format.\r\n\t\t\t</p>\r\n\t\t);\r\n\r\n\t\tthis.info = [\r\n\t\t\t{\r\n\t\t\t\ttitle: \"SetUp\",\r\n\t\t\t\ttext: text1\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: \"How it works\",\r\n\t\t\t\ttext: \"The frame of the seed will advance with each time the date is advanced. This means that we can just change the day, with the only downside being that when returning to the first of the month no advancement will happen. The macro takes this into account and adds repetitions so that in the end the correct number of skips is achieved.\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: \"Recommendations\",\r\n\t\t\t\ttext: \"Avoid doing many skips in the Wild Area as this is known to sometimes result in game crashes. Use this macro indoors.\"\r\n\t\t\t}\r\n\t\t];\r\n\t}\r\n\r\n\t// Parameter Handlers\r\n\tonDaysToAdvanceChange(days) {\r\n\t\tif(this.parameters.daysToAdvance !== days) {\r\n\t\t\tthis.parameters.daysToAdvance = days;\r\n\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\treturn false;\r\n\t}\r\n\r\n\tonDateFormatChange(format) {\r\n\t\tif(this.parameters.dateFormat !== format) {\r\n\t\t\tthis.parameters.dateFormat = format;\r\n\r\n\t\t\tswitch(format) {\r\n\t\t\t\tdefault:\r\n\t\t\t\tcase 0: // WORLD\r\n\t\t\t\t\tthis.currentFormat = \"\";\r\n\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 1: // US\r\n\t\t\t\t\tthis.currentFormat = \"US\";\r\n\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 2: // Chinese\r\n\t\t\t\t\tthis.currentFormat = \"CHN\";\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\treturn false;\r\n\t}\r\n\r\n\t// Build Macro\r\n\tAdvanceDay(days) {\r\n\t\tvar macro = this.getMacro(\"AdvDay\" + this.currentFormat);\r\n\r\n\t\tmacro[0].count = days;\r\n\r\n\t\tthis.concatToMacro(macro);\r\n\t}\r\n\r\n\tInitMacro() {\r\n\t\tthis.concatToMacro(this.getMacro(\"FstSkip\" + this.currentFormat));\r\n\t}\r\n\r\n\tbuild() {\r\n\t\tif(!this.jsonManager.loadConcluded) return null;\r\n\r\n\t\tthis.macroJSON = []; // Clear Macro JSON\r\n\r\n\t\tthis.InitMacro();\r\n\r\n\t\tvar count = this.parameters.daysToAdvance;\r\n\r\n\t\t// If more than 1 skip\r\n\t\tif(count > 1) {\r\n\t\t\t// Calculate the number of macro repetitions\r\n\t\t\tlet months = Math.floor(count / 31);\r\n\t\t\tlet total  = count + months + Math.floor(months / 31);\r\n\r\n\t\t\t// Advance the adjustment\r\n\t\t\twhile(total > 0) {\r\n\t\t\t\tthis.AdvanceDay(Math.min(31, total));\r\n\r\n\t\t\t\ttotal -= 31;\r\n\r\n\t\t\t\tif(total > 0) {\r\n\t\t\t\t\tthis.concatToMacro(generateButtonPress(\"down\", 120, 240, 2));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis.concatToMacro(generateButtonPress(\"home\", 100, 1000, 2));\r\n\r\n\t\tthis.macro = new Macro(this.name, this.icon, this.macroJSON);\r\n\r\n\t\treturn this.macro;\r\n\t}\r\n}\r\n\r\nclass LotoIDMacroBuilder extends MacroBuilder {\r\n\tconstructor(jsonM) {\r\n\t\tsuper(jsonM, \"Loto ID\", \"./images/lotoid_icon.png\");\r\n\r\n\t\tthis.parameters.attempts  = 1;\r\n\t\tthis.parameters.getFirst  = true;\r\n\t\tthis.parameters.dateFormat = 0;\r\n\r\n\t\tthis.currentFormat = \"\";\r\n\r\n\t\tthis.onAttemptsChange = this.onAttemptsChange.bind(this);\r\n\t\tthis.onGetFirstChange = this.onGetFirstChange.bind(this);\r\n\t\tthis.onDateFormatChange = this.onDateFormatChange.bind(this);\r\n\r\n\t\tthis.paramHandlers = {\r\n\t\t\tattempts   : this.onAttemptsChange,\r\n\t\t\tgetFirst   : this.onGetFirstChange,\r\n\t\t\tdateFormat : this.onDateFormatChange\r\n\t\t};\r\n\r\n\t\tvar text1 = (\r\n\t\t\t<p>\r\n\t\t\t\t<b>1-</b> In the <b>Console Settings</b>, turn <b>Synchronize Time</b> off.\r\n\t\t\t\t<br/>\r\n\t\t\t\t<br/>\r\n\t\t\t\t<b>2-</b> Position the character in front of the PC, facing it.\r\n\t\t\t\t<br/>\r\n\t\t\t\t<br/>\r\n\t\t\t\t<b>3-</b> Check the <b>First Day Loto</b> box only if you have the Loto still available.\r\n\t\t\t\t<br/>\r\n\t\t\t\t<br/>\r\n\t\t\t\t<b>4-</b> Set <b>Attempts</b> to how many times you want to try the Loto.\r\n\t\t\t\t<br/>\r\n\t\t\t\t<br/>\r\n\t\t\t\t<b>5-</b> Set <b>Date Format</b> to the your Switch's region date format.\r\n\t\t\t</p>\r\n\t\t);\r\n\r\n\t\tthis.info = [\r\n\t\t\t{\r\n\t\t\t\ttitle: \"SetUp\",\r\n\t\t\t\ttext: text1\r\n\t\t\t}\r\n\t\t];\r\n\t}\r\n\r\n\t// Parameter Handlers\r\n\tonAttemptsChange(count) {\r\n\t\tif(this.parameters.attempts !== count) {\r\n\t\t\tthis.parameters.attempts = count;\r\n\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\treturn false;\r\n\t}\r\n\r\n\tonGetFirstChange(bool) {\r\n\t\tif(this.parameters.getFirst !== bool) {\r\n\t\t\tthis.parameters.getFirst = bool;\r\n\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\treturn false;\r\n\t}\r\n\r\n\tonDateFormatChange(format) {\r\n\t\tif(this.parameters.dateFormat !== format) {\r\n\t\t\tthis.parameters.dateFormat = format;\r\n\r\n\t\t\tswitch(format) {\r\n\t\t\t\tdefault:\r\n\t\t\t\tcase 0: // WORLD\r\n\t\t\t\t\tthis.currentFormat = \"\";\r\n\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 1: // US\r\n\t\t\t\t\tthis.currentFormat = \"US\";\r\n\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 2: // Chinese\r\n\t\t\t\t\tthis.currentFormat = \"CHN\";\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\treturn false;\r\n\t}\r\n\r\n\t// Build Macro\r\n\tbuild() {\r\n\t\tif(!this.jsonManager.loadConcluded) return null;\r\n\r\n\t\tthis.macroJSON = []; // Clear Macro JSON\r\n\r\n\t\tvar counter = 0;\r\n\r\n\t\tif(this.parameters.getFirst) {\r\n\t\t\tthis.concatToMacro(this.getMacro(\"LotoID\"));\r\n\r\n\t\t\tcounter = 1;\r\n\t\t}\r\n\r\n\t\t// While End Date has not been reached\r\n\t\twhile(counter < this.parameters.attempts) {\r\n\t\t\tthis.concatToMacro(this.getMacro(\"Universal\" + this.currentFormat));\r\n\t\t\tcounter++;\r\n\r\n\t\t\tthis.concatToMacro(generateButtonPress(\"home\", 100, 1000, 2));\r\n\r\n\t\t\tthis.concatToMacro(this.getMacro(\"LotoID\"));\r\n\t\t}\r\n\r\n\t\tthis.macro = new Macro(this.name, this.icon, this.macroJSON);\r\n\r\n\t\treturn this.macro;\r\n\t}\r\n}\r\n\r\nclass WonderBoxMacroBuilder extends MacroBuilder {\r\n\tconstructor(jsonM) {\r\n\t\tsuper(jsonM, \"Wonder Box\", \"./images/wonderbox_icon.png\");\r\n\r\n\t\tthis.parameters.count    = 1;\r\n\t\tthis.parameters.waitTime = 25;\r\n\r\n\t\tthis.onCountChange    = this.onCountChange.bind(this);\r\n\t\tthis.onWaitTimeChange = this.onWaitTimeChange.bind(this);\r\n\r\n\t\tthis.paramHandlers = {\r\n\t\t\tcount  : this.onCountChange,\r\n\t\t\twaitTime : this.onWaitTimeChange\r\n\t\t};\r\n\r\n\t\tvar text1 = (\r\n\t\t\t<p>\r\n\t\t\t\t<b>1-</b> In-Game, open your PC and go to the box with the pokemon to be wonder traded.\r\n\t\t\t\t<br/>\r\n\t\t\t\t<br/>\r\n\t\t\t\t<b>2-</b> Make sure there are no empty spots between pokemon.\r\n\t\t\t\tThe macro will start trading from the top left corner and go left to right, top to bottom.\r\n\t\t\t\t<br/>\r\n\t\t\t\t<br/>\r\n\t\t\t\t<b>3-</b> Exit all menus.\r\n\t\t\t\t<br/>\r\n\t\t\t\t<br/>\r\n\t\t\t\t<b>4-</b> Set the <b>Count</b> parameter to how many pokemon you want to trade away from that box.\r\n\t\t\t\t<br/>\r\n\t\t\t\t<br/>\r\n\t\t\t\t<b>4-</b> Set the <b>Wait Time</b> parameter to how many <b>seconds</b> the macro should wait for the Wonder Trade to complete.\r\n\t\t\t</p>\r\n\t\t);\r\n\r\n\t\tvar text2 = (\r\n\t\t\t<p>\r\n\t\t\t\tWhen running this macro, the time for a trade to go through can vary a lot.\r\n\t\t\t\tBecause of this, you may need to adjust the <b>Wait Time</b>. It can go up to 10 minutes (600 s),\r\n\t\t\t\tor as low as 2 seconds.\r\n\t\t\t\t<br/>\r\n\t\t\t\tIf it is too erratic and you want to be more efficient, you can set the value relatively low and\r\n\t\t\t\tpress pause after the search for a trade starts and press play to resume the macro when you see\r\n\t\t\t\tit has finished.\r\n\t\t\t\t<br/>\r\n\t\t\t\t<br/>\r\n\t\t\t\tIt is also very important to make sure you have the correct box selected at the start of the macro.\r\n\t\t\t</p>\r\n\t\t);\r\n\r\n\t\tthis.info = [\r\n\t\t\t{\r\n\t\t\t\ttitle: \"SetUp\",\r\n\t\t\t\ttext: text1\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: \"Recommendations\",\r\n\t\t\t\ttext: text2\r\n\t\t\t}\r\n\t\t];\r\n\t}\r\n\r\n\t// Parameter Handlers\r\n\tonCountChange(count) {\r\n\t\tif(this.parameters.count !== count) {\r\n\t\t\tthis.parameters.count = count;\r\n\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\treturn false;\r\n\t}\r\n\r\n\tonWaitTimeChange(time) {\r\n\t\tif(this.parameters.waitTime !== time) {\r\n\t\t\tthis.parameters.waitTime = time;\r\n\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\treturn false;\r\n\t}\r\n\r\n\t// Build Macro\r\n\tSelectInBox(column, row) {\r\n\t\tvar segments = this.getMacro(\"SelectInBox\");\r\n\r\n\t\tlet dx = column;\r\n\t\tlet dy = row;\r\n\r\n\t\tif(dx > 0) {\r\n\t\t\tsegments[0].macro[0].count = dx;\r\n\t\t}\r\n\t\telse {\r\n\t\t\tsegments[0].macro[1].count = -1 * dx;\r\n\t\t}\r\n\r\n\t\tif(dy > 0) {\r\n\t\t\tsegments[0].macro[2].count = dy;\r\n\t\t}\r\n\t\telse {\r\n\t\t\tsegments[0].macro[3].count = -1 * dy;\r\n\t\t}\r\n\r\n\t\tthis.concatToMacro(segments);\r\n\t}\r\n\r\n\tConcludeTrade() {\r\n\t\tvar segments = this.getMacro(\"EndWonder\");\r\n\r\n\t\tsegments[0].macro[2].offTime = this.parameters.waitTime * 1000;\r\n\r\n\t\tthis.concatToMacro(segments);\r\n\t}\r\n\r\n\tbuild() {\r\n\t\tif(!this.jsonManager.loadConcluded) return null;\r\n\r\n\t\tthis.macroJSON = []; // Clear Macro JSON\r\n\r\n\t\tvar count  = 0;\r\n\t\tvar row    = 0;\r\n\t\tvar column = 0;\r\n\r\n\t\tfor(; row < 5; row++) {\r\n\t\t\tfor(column = 0; column < 6; column++) {\r\n\t\t\t\tthis.concatToMacro(this.getMacro(\"StartWonder\"));\r\n\r\n\t\t\t\tthis.SelectInBox(column, row);\r\n\r\n\t\t\t\tthis.ConcludeTrade();\r\n\r\n\t\t\t\tcount++;\r\n\t\t\t\tif(count >= this.parameters.count) {\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif(count >= this.parameters.count) {\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis.macro = new Macro(this.name, this.icon, this.macroJSON);\r\n\r\n\t\treturn this.macro;\r\n\t}\r\n}\r\n\r\nclass EggHatcherMacroBuilder extends MacroBuilder {\r\n\tconstructor(jsonM) {\r\n\t\tsuper(jsonM, \"Egg Hatcher\", \"./images/egghatcher_icon.png\");\r\n\r\n\t\tthis.parameters.eggCycles = 5;\r\n\t\tthis.parameters.ability   = false;\r\n\t\tthis.parameters.eggCharm  = false;\r\n\t\tthis.parameters.eggsInBox = 1;\r\n\r\n\t\tthis.onEggCyclesChange = this.onEggCyclesChange.bind(this);\r\n\t\tthis.onEggsInBoxChange = this.onEggsInBoxChange.bind(this);\r\n\r\n\t\tthis.paramHandlers = {\r\n\t\t\teggCycles : this.onEggCyclesChange,\r\n\t\t\tability   : this.onHasAbilityChange,\r\n\t\t\teggCharm  : this.onHasEggCharmChange,\r\n\t\t\teggsInBox : this.onEggsInBoxChange\r\n\t\t};\r\n\r\n\t\tvar text1 = (\r\n\t\t\t<p>\r\n\t\t\t\t<b>1-</b> You must have a full Party of pokemon. The macro will replace all pokemon besides the first with eggs from your Box.\r\n\t\t\t\t<br/>\r\n\t\t\t\t<br/>\r\n\t\t\t\t<b>2-</b> Open your PC and navigate to the Box with the eggs. Make sure that the box was filled from up to down, left to right.\r\n\t\t\t\tThis means the eggs should be placed column per column not row per row as is normal, if the box is full this doesn't matter.\r\n\t\t\t\t<br/>\r\n\t\t\t\t<br/>\r\n\t\t\t\t<b>3-</b> You must leave the Pokémon option selected when exiting the game's menu.\r\n\t\t\t\t<br/>\r\n\t\t\t\t<br/>\r\n\t\t\t\t<b>4-</b> When starting the macro, the Player Character must be somewhere the Flying Taxi can be used.\r\n\t\t\t\t<br/>\r\n\t\t\t\t<br/>\r\n\t\t\t\t<b>5-</b> Set the <b>Egg Cycles</b> parameter to how many cycles the egg takes to hatch, this can be checked on sites like Bulbapedia.\r\n\t\t\t\t<br/>\r\n\t\t\t\t<br/>\r\n\t\t\t\t<b>6-</b> Check the <b>Hatch Ability</b> box if the first pokemon in the party has one of the following abilities: Flame Body, Magma Armor or Steam Engine.\r\n\t\t\t\t<br/>\r\n\t\t\t\t<br/>\r\n\t\t\t\t<b>7-</b> Check the <b>Egg Charm</b> box if you have that key item.\r\n\t\t\t\t<br/>\r\n\t\t\t\t<br/>\r\n\t\t\t\t<b>8-</b> Set the <b>Eggs in Box</b> parameter to how many eggs you have in the box to be hatched.\r\n\t\t\t</p>\r\n\t\t);\r\n\r\n\t\tthis.info = [\r\n\t\t\t{\r\n\t\t\t\ttitle: \"WARNING\",\r\n\t\t\t\ttext: \"This macro is not complete and is available for testing by the developer. DO NOT USE\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: \"SetUp\",\r\n\t\t\t\ttext: text1\r\n\t\t\t}\r\n\t\t];\r\n\t}\r\n\r\n\t// Parameter Handlers\r\n\tonEggCyclesChange(cycles) {\r\n\t\tcycles = parseInt(cycles);\r\n\r\n\t\tif(this.parameters.hatchCycles !== cycles) {\r\n\t\t\tthis.parameters.hatchCycles = cycles;\r\n\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\treturn false;\r\n\t}\r\n\r\n\tonHasAbilityChange(bool) {\r\n\t\tif(this.parameters.ability !== bool) {\r\n\t\t\tthis.parameters.ability = bool;\r\n\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\treturn false;\r\n\t}\r\n\r\n\tonHasEggCharmChange(bool) {\r\n\t\tif(this.parameters.eggCharm !== bool) {\r\n\t\t\tthis.parameters.eggCharm = bool;\r\n\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\treturn false;\r\n\t}\r\n\r\n\tonEggsInBoxChange(count) {\r\n\t\tif(this.parameters.eggsInBox !== count) {\r\n\t\t\tthis.parameters.eggsInBox = count;\r\n\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\treturn false;\r\n\t}\r\n\r\n\t// Build Macro\r\n\tInBoxSegment(type, cColumn, cRow, tColumn, tRow) {\r\n\t\tvar segments = this.getMacro(type + \"InBox\");\r\n\r\n\t\tlet dx = tColumn - cColumn;\r\n\t\tlet dy = tRow - cRow;\r\n\r\n\t\tif(dx > 0) {\r\n\t\t\tsegments[0].macro[0].count = dx;\r\n\t\t}\r\n\t\telse {\r\n\t\t\tsegments[0].macro[1].count = -1 * dx;\r\n\t\t}\r\n\r\n\t\tif(dy > 0) {\r\n\t\t\tsegments[0].macro[2].count = dy;\r\n\t\t}\r\n\t\telse {\r\n\t\t\tsegments[0].macro[3].count = -1 * dy;\r\n\t\t}\r\n\r\n\t\tif(type === \"Select\") {\r\n\t\t\tsegments[0].macro[6].offTime = 600;\r\n\t\t}\r\n\r\n\t\tthis.concatToMacro(segments);\r\n\t}\r\n\r\n\tbuild() {\r\n\t\tif(!this.jsonManager.loadConcluded) return null;\r\n\r\n\t\tthis.macroJSON = []; // Clear Macro JSON\r\n\r\n\t\tlet count  = 0;\r\n\r\n\t\tlet sX = 0;\r\n\r\n\t\twhile(count < this.parameters.eggsInBox) {\r\n\t\t\tthis.concatToMacro(this.getMacro(\"OpenBox\"));\r\n\r\n\t\t\t// Get Eggs into the Party\r\n\t\t\tlet sY = 0;\r\n\r\n\t\t\tlet cX = 0;\r\n\t\t\tlet cY = 0;\r\n\r\n\t\t\twhile(sY < 5 && count < this.parameters.eggsInBox) {\r\n\t\t\t\tthis.InBoxSegment(\"Select\", cX, cY, sX, sY);\r\n\r\n\t\t\t\tcX = sX;\r\n\t\t\t\tcY = sY;\r\n\r\n\t\t\t\tthis.InBoxSegment(\"Place\", cX, cY, -1, 1 + sY);\r\n\r\n\t\t\t\tcX = -1;\r\n\t\t\t\tcY = 1 + sY;\r\n\r\n\t\t\t\tsY++;\r\n\r\n\t\t\t\tcount++;\r\n\t\t\t}\r\n\r\n\t\t\tsX++;\r\n\r\n\t\t\tthis.concatToMacro(generateButtonPress(\"b\", 180, 1440, 2));\r\n\t\t\tthis.concatToMacro(generateButtonPress(\"b\", 180, 1600, 1));\r\n\r\n\t\t\t// Hatch Eggs\r\n\t\t}\r\n\r\n\t\tthis.macro = new Macro(this.name, this.icon, this.macroJSON);\r\n\r\n\t\treturn this.macro;\r\n\t}\r\n}\r\n\r\n//\r\n// - APP Components\r\n//\r\n\r\nclass Macro {\r\n\tconstructor(name, icon, segments) {\r\n\t\tthis.name = name;\r\n\t\tthis.icon = icon;\r\n\r\n\t\tthis.state = MacroStates.INACTIVE;\r\n\r\n\t\tthis.onWait = false;\r\n\t\tthis.waitTimeout = null;\r\n\r\n\t\tthis.runner = null;\r\n\r\n\t\tthis.segments = segments;\r\n\r\n\t\tthis.totalSteps = 0;\r\n\t\tthis.currentOverallStep = 0;\r\n\r\n\t\tthis.totalTime = 0;\r\n\r\n\t\tvar i;\r\n\t\tfor(i = 0; i < this.segments.length; i++) {\r\n\t\t\tvar segment = this.segments[i];\r\n\r\n\t\t\tvar subTotal = 0;\r\n\r\n\t\t\tvar j;\r\n\t\t\tfor(j = 0; j < segment.macro.length; j++) {\r\n\t\t\t\tvar step = segment.macro[j];\r\n\r\n\t\t\t\tsubTotal += step.count;\r\n\t\t\t}\r\n\r\n\t\t\tthis.totalSteps += subTotal * segment.count;\r\n\t\t}\r\n\t}\r\n\r\n\tprogress() {\r\n\t\tif(this.totalSteps === 0) return 0;\r\n\r\n\t\treturn this.currentOverallStep / this.totalSteps;\r\n\t}\r\n\r\n\tstartRunner() {\r\n\t\tvar f = function* () {\r\n\t\t\tthis.currentOverallStep = 0;\r\n\r\n\t\t\tvar info = {state : this.state, abort : false};\r\n\r\n\t\t\t// For each Segment of the Macro\r\n\t\t\tvar i = 0;\r\n\t\t\tfor(; i < this.segments.length; i++) {\r\n\t\t\t\tvar segment = this.segments[i];\r\n\r\n\t\t\t\tvar steps = segment.macro;\r\n\t\t\t\tvar reps  = segment.count;\r\n\r\n\t\t\t\t// For each Repetition of the Segment\r\n\t\t\t\tvar j = 0;\r\n\t\t\t\tfor(; j < reps; j++) {\r\n\r\n\t\t\t\t\t// For each Step of the Segment\r\n\t\t\t\t\tvar k = 0;\r\n\t\t\t\t\tfor(; k < steps.length; k++) {\r\n\r\n\t\t\t\t\t\t// If play has not been pressed or has been paused\r\n\t\t\t\t\t\twhile(this.state !== MacroStates.PLAYING) {\r\n\t\t\t\t\t\t\tinfo = yield undefined; // Yield\r\n\r\n\t\t\t\t\t\t\tif(info.abort) return;\r\n\r\n\t\t\t\t\t\t\tthis.state = info.state;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// Get current Step\r\n\t\t\t\t\t\tvar step = steps[k];\r\n\r\n\t\t\t\t\t\t// Make the response to the App\r\n\t\t\t\t\t\tvar res = { button : step.button, pressed : true, time : 0};\r\n\r\n\t\t\t\t\t\t// For each repetition of the Step\r\n\t\t\t\t\t\tvar l = 0;\r\n\t\t\t\t\t\tfor(l = 0; l < step.count; l++) {\r\n\t\t\t\t\t\t\tres.pressed = true; // Signal that the button is pressed\r\n\r\n\t\t\t\t\t\t\t// Set timer for the duration of the button press\r\n\t\t\t\t\t\t\tthis.wait(Math.max(step.onTime, 20));\r\n\r\n\t\t\t\t\t\t\tres.time = step.onTime;\r\n\r\n\t\t\t\t\t\t\tyield res;\r\n\r\n\t\t\t\t\t\t\t// Wait\r\n\t\t\t\t\t\t\twhile(this.onWait) {\r\n\t\t\t\t\t\t\t\tinfo = yield undefined;\r\n\t\t\t\t\t\t\t\tif(info.abort) return;\r\n\t\t\t\t\t\t\t\tthis.state = info.state;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tres.pressed = false; // Signal the the button is not pressed\r\n\r\n\t\t\t\t\t\t\t// Set timer for the wait before pressing the next button\r\n\t\t\t\t\t\t\tthis.wait(Math.max(step.offTime, 20));\r\n\r\n\t\t\t\t\t\t\tres.time = step.offTime;\r\n\r\n\t\t\t\t\t\t\tyield res;\r\n\r\n\t\t\t\t\t\t\t// Wait for timer to elapse and to not be paused\r\n\t\t\t\t\t\t\twhile(this.onWait || this.state === MacroStates.PAUSED) {\r\n\t\t\t\t\t\t\t\tinfo = yield undefined;\r\n\t\t\t\t\t\t\t\tif(info.abort) return;\r\n\t\t\t\t\t\t\t\tthis.state = info.state;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tthis.currentOverallStep++;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn;\r\n\t\t};\r\n\r\n\t\t// Create the Coroutine\r\n\t\tthis.runner = coroutine(f, this);\r\n\t}\r\n\r\n\twait(duration) {\r\n\t\tthis.waitTimeout = setTimeout(this.resume, duration, this);\r\n\t\tthis.onWait = true;\r\n\t}\r\n\r\n\tresume(obj) {\r\n\t\tobj.onWait = false;\r\n\t}\r\n\r\n\treset() {\r\n\t\tthis.state = MacroStates.INACTIVE;\r\n\r\n\t\tif(this.onWait) {\r\n\t\t\tthis.onWait = false;\r\n\r\n\t\t\tclearTimeout(this.waitTimeout);\r\n\r\n\t\t\tthis.waitTimeout = null;\r\n\t\t}\r\n\r\n\t\tthis.currentOverallStep = 0;\r\n\r\n\t\tif(this.runner !== null) {\r\n\t\t\tthis.runner({state : this.state, abort : true});\r\n\r\n\t\t\tthis.runner = null;\r\n\t\t}\r\n\t}\r\n\r\n\ttoString() {\r\n\t\tlet text = \"Macro - \\n\";\r\n\r\n\t\tlet i = 0;\r\n\t\tfor(; i < this.segments.length; i++) {\r\n\t\t\tlet seg = this.segments[i];\r\n\r\n\t\t\ttext += \"\\t\" + seg.name + \" x\" + seg.count.toString() + \"\\n\";\r\n\t\t}\r\n\r\n\t\treturn text;\r\n\t}\r\n}\r\n\r\nclass MacroPlayer {\r\n\tconstructor() {\r\n\t\tthis.state = { selectedMacro : 0,\r\n\t\t\tplayState     : 0,\r\n\t\t\tmacroProgress : 0,\r\n\t\t\tloadConcluded : false\r\n\t\t};\r\n\r\n\t\t// Create JSON Manager\r\n\t\tthis.jsonManager = new JSONManeger();\r\n\r\n\t\t// Create Macro Builders\r\n\t\tthis.builders = [];\r\n\t\tthis.builders[0] = new TimeSkipMacroBuilder(this.jsonManager);\r\n\t\tthis.builders[1] = new LotoIDMacroBuilder(this.jsonManager);\r\n\t\tthis.builders[2] = new WonderBoxMacroBuilder(this.jsonManager);\r\n\t\tthis.builders[3] = new EggHatcherMacroBuilder(this.jsonManager);\r\n\r\n\t\tlet macroCount = this.builders.length;\r\n\r\n\t\t// Init Dirty Bit Array\r\n\t\tthis.dirtyMacro = Array(macroCount).fill(false);\r\n\r\n\t\t// Init Macro Array\r\n\t\tthis.macros = Array(macroCount).fill(null);\r\n\r\n\t\tthis.selectMacro = this.selectMacro.bind(this);\r\n\t\tthis.changeParameter = this.changeParameter.bind(this);\r\n\t}\r\n\r\n\tcheckLoadConcluded() {\r\n\t\tvar concluded = this.jsonManager.loadConcluded;\r\n\r\n\t\tif(!concluded) return;\r\n\r\n\t\tvar i = 0;\r\n\t\tfor(; i < this.builders.length; i++) {\r\n\t\t\tthis.buildMacro(i); // Build macro\r\n\r\n\t\t\tif(this.macros[i] === null || this.macros[i] === undefined) {\r\n\t\t\t\tconcluded = false;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis.state.loadConcluded = concluded;\r\n\t}\r\n\r\n\tselectMacro(index) {\r\n\t\tif(this.state.selectedMacro === index) return false;\r\n\r\n\t\tvar audio = new Audio(\"/click.mp3\");\r\n\t\taudio.play();\r\n\r\n\t\tvar currentMacro = this.macros[this.state.selectedMacro];\r\n\r\n\t\tif(currentMacro.state !== MacroStates.INACTIVE) {\r\n\t\t\tcurrentMacro.reset();\r\n\r\n\t\t\tthis.state.playState = MacroStates.INACTIVE;\r\n\t\t\tthis.state.macroProgress = 0;\r\n\t\t}\r\n\r\n\t\tthis.state.selectedMacro = index;\r\n\r\n\t\treturn true;\r\n\t}\r\n\r\n\tchangeParameter(key, value) {\r\n\t\tlet builder = this.builders[this.state.selectedMacro];\r\n\r\n\t\tif(builder.changeParameter(key, value)) {\r\n\t\t\tthis.dirtyMacro[this.state.selectedMacro] = true;\r\n\t\t}\r\n\t}\r\n\r\n\tplay() {\r\n\t\tvar index = this.state.selectedMacro;\r\n\r\n\t\tvar currentMacro = this.macros[index];\r\n\t\tvar isDirty      = this.dirtyMacro[index];\r\n\r\n\t\tswitch(currentMacro.state) {\r\n\t\t\tdefault:\r\n\t\t\tcase MacroStates.PLAYING:\r\n\t\t\tcase MacroStates.PAUSED:\r\n\t\t\tbreak;\r\n\r\n\t\t\tcase MacroStates.INACTIVE:\r\n\t\t\tcase MacroStates.FINISHED:\r\n\t\t\t\tif(currentMacro.state === MacroStates.FINISHED) {\r\n\t\t\t\t\tcurrentMacro.reset();\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif(isDirty) {\r\n\t\t\t\t\tthis.dirtyMacro[index] = false;\r\n\r\n\t\t\t\t\tthis.buildMacro(index);\r\n\r\n\t\t\t\t\tcurrentMacro = this.macros[index];\r\n\t\t\t\t}\r\n\r\n\t\t\t\tcurrentMacro.startRunner();\r\n\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\tcurrentMacro.state = MacroStates.PLAYING;\r\n\r\n\t\tthis.state.playState = MacroStates.PLAYING;\r\n\r\n\t\treturn true;\r\n\t}\r\n\r\n\tpause() {\r\n\t\tvar currentMacro = this.macros[this.state.selectedMacro];\r\n\r\n\t\tif(currentMacro.state === MacroStates.PLAYING) {\r\n\t\t\tcurrentMacro.state = MacroStates.PAUSED;\r\n\r\n\t\t\tthis.state.playState = MacroStates.PAUSED;\r\n\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\treturn false;\r\n\t}\r\n\r\n\treset() {\r\n\t\tvar currentMacro = this.macros[this.state.selectedMacro];\r\n\r\n\t\tif(currentMacro.state !== MacroStates.INACTIVE) {\r\n\t\t\tcurrentMacro.reset();\r\n\r\n\t\t\tthis.state.playState = MacroStates.INACTIVE\r\n\t\t\tthis.state.macroProgress = 0;\r\n\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\treturn false;\r\n\t}\r\n\r\n\tgetMacroState() {\r\n\t\treturn { macroState : this.state.playState,\r\n\t\t\t\tmacroProgress : this.state.macroProgress };\r\n\t}\r\n\r\n\tgetAllMacroData() {\r\n\t\tlet dataArray = [];\r\n\r\n\t\tlet i = 0;\r\n\t\tfor(; i < this.builders.length; i++) {\r\n\t\t\tlet builder = this.builders[i];\r\n\r\n\t\t\tdataArray[i] = builder.getRenderData();\r\n\t\t}\r\n\r\n\t\treturn dataArray;\r\n\t}\r\n\r\n\tgetCurrentMacroData() {\r\n\t\tvar builder = this.builders[this.state.selectedMacro];\r\n\r\n\t\treturn builder.getRenderData();\r\n\t}\r\n\r\n\tbuildMacro(index) {\r\n\t\tvar builder = this.builders[index];\r\n\r\n\t\tvar macro = builder.build(this.parameters);\r\n\r\n\t\tthis.macros[index] = macro;\r\n\r\n\t\tconsole.log(macro.toString());\r\n\t}\r\n\r\n\tupdateMacros() {\r\n\t\tvar i = 0;\r\n\t\tfor(; i < this.macroBuilders.length; i++) {\r\n\t\t\tvar dirty   = this.macroParamsDirty[i];\r\n\r\n\t\t\tif(dirty) {\r\n\t\t\t\tthis.buildMacro(i);\r\n\r\n\t\t\t\tthis.macroParamsDirty[i] = false;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tupdate() {\r\n\t\tvar response = undefined;\r\n\r\n\t\tif(!this.state.loadConcluded) {\r\n\t\t\tthis.checkLoadConcluded();\r\n\t\t}\r\n\r\n\t\t// If Load has been completed\r\n\t\tif(this.state.loadConcluded) {\r\n\t\t\tvar runResult = undefined;\r\n\r\n\t\t\t// Get current Macro\r\n\t\t\tvar currentMacro = this.macros[this.state.selectedMacro];\r\n\r\n\t\t\tif(currentMacro === undefined || currentMacro === null) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t//console.log(currentMacro.state);\r\n\t\t\tswitch(currentMacro.state) {\r\n\t\t\t\tdefault:\r\n\t\t\t\tcase MacroStates.INACTIVE:\r\n\t\t\t\tcase MacroStates.FINISHED:\r\n\t\t\t\treturn;\r\n\r\n\t\t\t\tcase MacroStates.PLAYING:\r\n\t\t\t\t\trunResult = currentMacro\r\n\t\t\t\t\t\t.runner({state : currentMacro.state, abort : false});\r\n\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase MacroStates.PAUSED:\r\n\t\t\t\t\trunResult = currentMacro\r\n\t\t\t\t\t\t.runner({state : currentMacro.state, abort : false});\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\r\n\t\t\t// If a result was obtained\r\n\t\t\tif(runResult !== undefined) {\r\n\t\t\t\t// If the result includes a value\r\n\t\t\t\tif(runResult.value !== undefined) {\r\n\t\t\t\t\tresponse = runResult.value;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif(runResult.done) currentMacro.state = MacroStates.FINISHED;\r\n\t\t\t}\r\n\r\n\t\t\tthis.state.playState = currentMacro.state;\r\n\t\t\tthis.state.macroProgress = currentMacro.progress() * 100;\r\n\t\t}\r\n\r\n\t\treturn response;\r\n\t}\r\n}\r\n\r\nclass KeyLogger {\r\n\tconstructor() {\r\n\t\tthis.keys = {\r\n\t\t\ta               : {pressed : false, pendingLog: null},\r\n\t\t\tb               : {pressed : false, pendingLog: null},\r\n\t\t\tx               : {pressed : false, pendingLog: null},\r\n\t\t\ty               : {pressed : false, pendingLog: null},\r\n\t\t\tl               : {pressed : false, pendingLog: null},\r\n\t\t\tlsl             : {pressed : false, pendingLog: null},\r\n\t\t\tlsr             : {pressed : false, pendingLog: null},\r\n\t\t\tr               : {pressed : false, pendingLog: null},\r\n\t\t\trsl             : {pressed : false, pendingLog: null},\r\n\t\t\trsr             : {pressed : false, pendingLog: null},\r\n\t\t\tplus            : {pressed : false, pendingLog: null},\r\n\t\t\tminus           : {pressed : false, pendingLog: null},\r\n\t\t\tup              : {pressed : false, pendingLog: null},\r\n\t\t\tright           : {pressed : false, pendingLog: null},\r\n\t\t\tleft            : {pressed : false, pendingLog: null},\r\n\t\t\tdown            : {pressed : false, pendingLog: null},\r\n\t\t\tleft_stick      : {pressed : false, pendingLog: null},\r\n\t\t\tright_stick     : {pressed : false, pendingLog: null},\r\n\t\t\tleft_stick_dir  : {pressed : false, pendingLog: null},\r\n\t\t\tright_stick_dir : {pressed : false, pendingLog: null},\r\n\t\t\thome            : {pressed : false, pendingLog: null}\r\n\t\t};\r\n\r\n\t\tthis.log = [];\r\n\t\tthis.log_count = 0;\r\n\t}\r\n\r\n\tclear() {\r\n\t\tthis.keys = {\r\n\t\t\ta               : {pressed : false, pendingLog: null},\r\n\t\t\tb               : {pressed : false, pendingLog: null},\r\n\t\t\tx               : {pressed : false, pendingLog: null},\r\n\t\t\ty               : {pressed : false, pendingLog: null},\r\n\t\t\tl               : {pressed : false, pendingLog: null},\r\n\t\t\tlsl             : {pressed : false, pendingLog: null},\r\n\t\t\tlsr             : {pressed : false, pendingLog: null},\r\n\t\t\tr               : {pressed : false, pendingLog: null},\r\n\t\t\trsl             : {pressed : false, pendingLog: null},\r\n\t\t\trsr             : {pressed : false, pendingLog: null},\r\n\t\t\tplus            : {pressed : false, pendingLog: null},\r\n\t\t\tminus           : {pressed : false, pendingLog: null},\r\n\t\t\tup              : {pressed : false, pendingLog: null},\r\n\t\t\tright           : {pressed : false, pendingLog: null},\r\n\t\t\tleft            : {pressed : false, pendingLog: null},\r\n\t\t\tdown            : {pressed : false, pendingLog: null},\r\n\t\t\tleft_stick      : {pressed : false, pendingLog: null},\r\n\t\t\tright_stick     : {pressed : false, pendingLog: null},\r\n\t\t\tleft_stick_dir  : {pressed : false, pendingLog: null},\r\n\t\t\tright_stick_dir : {pressed : false, pendingLog: null},\r\n\t\t\thome            : {pressed : false, pendingLog: null}\r\n\t\t};\r\n\r\n\t\tthis.log = [];\r\n\t\tthis.log_count = 0;\r\n\t}\r\n\r\n\tpressKey(key, time) {\r\n\t\tif(key !== \"buffer\") {\r\n\t\t\tlet info = this.keys[key];\r\n\r\n\t\t\t// If key is not pressed\r\n\t\t\tif(info.pressed === false) {\r\n\t\t\t\tinfo.pressed = true;\r\n\r\n\t\t\t\tinfo.pendingLog = this.addLogEntry(key, time);\r\n\t\t\t}\r\n\r\n\t\t\tthis.keys[key] = info;\r\n\t\t}\r\n\t}\r\n\r\n\taddLogEntry(key, time) {\r\n\t\tlet entry = {index: this.log_count, key: key, onTime: time, offTime: ''}\r\n\r\n\t\tthis.log[this.log_count] = entry;\r\n\r\n\t\tthis.log_count++;\r\n\r\n\t\treturn entry;\r\n\t}\r\n\r\n\treleaseKey(key, time) {\r\n\t\tif(key !== \"buffer\") {\r\n\t\t\tlet info = this.keys[key];\r\n\r\n\t\t\tif(info.pressed === true) {\r\n\t\t\t\tinfo.pressed = false;\r\n\r\n\t\t\t\tlet entry = info.pendingLog;\r\n\t\t\t\tinfo.pendingLog = null;\r\n\r\n\t\t\t\tentry.offTime = time;\r\n\r\n\t\t\t\tthis.log[entry.index] = entry;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tgetPressed() {\r\n\t\tlet pressedKeys = [];\r\n\r\n\t\tfor(let entry in this.keys) {\r\n\t\t\tlet info = this.keys[entry];\r\n\r\n\t\t\tif(info.pressed === true) {\r\n\t\t\t\tpressedKeys.push(entry);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn pressedKeys;\r\n\t}\r\n\r\n\tupdate(key, pressed, time) {\r\n\t\t// If key is being pressed\r\n\t\tif(pressed) {\r\n\t\t\tthis.pressKey(key, time);\r\n\t\t}\r\n\t\t// If key is being released\r\n\t\telse {\r\n\t\t\tthis.releaseKey(key, time);\r\n\t\t}\r\n\t}\r\n\r\n\trenderPressed() {\r\n\t\tlet info = Object.entries(this.keys);\r\n\r\n\t\tlet render = [];\r\n\t\tlet count  =  0;\r\n\r\n\t\tlet i = 0;\r\n\t\tfor(; i < info.length; i++) {\r\n\t\t\tlet keyData = info[i];\r\n\r\n\t\t\tif(keyData[1].pressed === true) {\r\n\t\t\t\trender[count] = (\r\n\t\t\t\t\t<div className = \"pressedKey\" key = {keyData[0]}>\r\n\t\t\t\t\t\t{keyData[0]}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t);\r\n\r\n\t\t\t\tcount++;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<div id = \"PressedKeys\">\r\n\t\t\t\t<b> Pressed </b>\r\n\t\t\t\t{render}\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n\trenderLogged() {\r\n\t\tvar keyLogs = [];\r\n\r\n\t\tif(this.log_count > 0) {\r\n\t\t\tvar i = 0;\r\n\t\t\tfor(; i < Math.min(3, this.log_count); i++) {\r\n\t\t\t\tvar l = this.log[this.log_count - (i + 1)];\r\n\t\t\t\tkeyLogs.push(\r\n\t\t\t\t\t<KeyLog key = {\"keylog_\" + i} index = {l.index.toString()}\r\n\t\t\t\t\t\tpressedKey = {l.key} onTime = {l.onTime} offTime = {l.offTime}/>\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<div id = \"KeyLogs\">\r\n\t\t\t\t{keyLogs}\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\n//\r\n// - APP\r\n//\r\n\r\nclass App extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {};\r\n\r\n\t\tthis.onButtonEvent   = this.onButtonEvent.bind(this);\r\n\t\tthis.selectMacro     = this.selectMacro.bind(this);\r\n\t\tthis.parameterChange = this.parameterChange.bind(this);\r\n\r\n\t\tthis.macroPlayer = new MacroPlayer();\r\n\r\n\t\tthis.keyLogger = new KeyLogger();\r\n\t\tthis.currentTime = 0;\r\n\r\n\t\tthis.state = {selectedMacro :  0,\r\n\t\t\t\t\t  macroState    : -1,\r\n\t\t\t\t\t  macroProgress :  0,\r\n\t\t\t\t\t\tdisplayInfo   : false\r\n\t\t};\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.UpdateTimerId = setInterval(\r\n\t\t\t() => this.update(),\r\n\t\t\t20\r\n\t\t);\r\n\t}\r\n\r\n\tcomponentWillUnmount() {\r\n\t\tclearInterval(this.UpdateTimerId);\r\n\t}\r\n\r\n\tupdate() {\r\n\t\tthis.currentTime += 20;\r\n\r\n\t\tvar res = this.macroPlayer.update(this.currentTime);\r\n\r\n\t\tthis.setState(this.macroPlayer.getMacroState());\r\n\r\n\t\tif(res !== undefined) {\r\n\t\t\tthis.handleSwitchKeys(res.button, res.pressed);\r\n\t\t\tthis.keyLogger.update(res.button, res.pressed, res.time);\r\n\t\t}\r\n\t}\r\n\r\n\tonButtonEvent(name) {\r\n\t\tvar audio = new Audio(\"/click.mp3\");\r\n    audio.play();\r\n\r\n\t\tswitch (name) {\r\n\t\t\tdefault:\r\n\t\t\treturn;\r\n\r\n\t\t\tcase \"play\":\r\n\t\t\t\tthis.macroPlayer.play();\r\n\t\t\tbreak;\r\n\r\n\t\t\tcase \"pause\":\r\n\t\t\t\tthis.macroPlayer.pause();\r\n\t\t\tbreak;\r\n\r\n\t\t\tcase \"reset\":\r\n\t\t\t\tif(this.macroPlayer.reset()) {\r\n\t\t\t\t\tvar pressedKeys = this.keyLogger.getPressed();\r\n\r\n\t\t\t\t\tfor(let key in pressedKeys) {\r\n\t\t\t\t\t\tthis.handleSwitchKeys(key, false);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tthis.keyLogger.clear();\r\n\t\t\t\t}\r\n\t\t\tbreak;\r\n\r\n\t\t\tcase \"info\":\r\n\t\t\t\tlet pressed = !this.state.displayInfo;\r\n\t\t\t\tthis.setState({displayInfo: pressed});\r\n\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\tthis.setState(this.macroPlayer.getMacroState());\r\n\t}\r\n\r\n\tselectMacro(index) {\r\n\t\tif(this.macroPlayer.selectMacro(index)) {\r\n\t\t\tthis.keyLogger.clear();\r\n\t\t}\r\n\t}\r\n\r\n\tparameterChange(key, value) {\r\n\t\tthis.macroPlayer.changeParameter(key, value);\r\n\t}\r\n\r\n\thandleSwitchKeys(name, pressed) {\r\n\t\tif(window.joyconJS === undefined) return;\r\n\r\n\t\tif(name === \"minus\") {\r\n\t\t\twindow.joyconJS.onMinus(pressed);\r\n\t\t}\r\n\r\n\t\tif(name === \"left-stick\") {\r\n\t\t\twindow.joyconJS.onLeftJoystickPressed(pressed);\r\n\t\t}\r\n\r\n\t\tif(name === \"up\") {\r\n\t\t\twindow.joyconJS.onUp(pressed);\r\n\t\t}\r\n\r\n\t\tif(name === \"right\") {\r\n\t\t\twindow.joyconJS.onRight(pressed);\r\n\t\t}\r\n\r\n\t\tif(name === \"down\") {\r\n\t\t\twindow.joyconJS.onDown(pressed);\r\n\t\t}\r\n\r\n\t\tif(name === \"left\") {\r\n\t\t\twindow.joyconJS.onLeft(pressed);\r\n\t\t}\r\n\r\n\t\tif(name === \"l\") {\r\n\t\t\twindow.joyconJS.onL(pressed);\r\n\t\t}\r\n\r\n\t\tif(name === \"lsl\") {\r\n\t\t\twindow.joyconJS.onLeftSL(pressed);\r\n\t\t}\r\n\r\n\t\tif(name === \"lsr\") {\r\n\t\t\twindow.joyconJS.onLeftSR(pressed);\r\n\t\t}\r\n\r\n\t\tif(name === \"plus\") {\r\n\t\t\twindow.joyconJS.onPlus(pressed);\r\n\t\t}\r\n\r\n\t\tif(name === \"a\") {\r\n\t\t\twindow.joyconJS.onA(pressed);\r\n\t\t}\r\n\r\n\t\tif(name === \"b\") {\r\n\t\t\twindow.joyconJS.onB(pressed);\r\n\t\t}\r\n\r\n\t\tif(name === \"x\") {\r\n\t\t\twindow.joyconJS.onX(pressed);\r\n\t\t}\r\n\r\n\t\tif(name === \"y\") {\r\n\t\t\twindow.joyconJS.onY(pressed);\r\n\t\t}\r\n\r\n\t\tif(name === \"r\") {\r\n\t\t\twindow.joyconJS.onR(pressed);\r\n\t\t}\r\n\r\n\t\tif(name === \"rsl\") {\r\n\t\t\twindow.joyconJS.onRightSL(pressed);\r\n\t\t}\r\n\r\n\t\tif(name === \"rsr\") {\r\n\t\t\twindow.joyconJS.onRightSR(pressed);\r\n\t\t}\r\n\r\n\t\tif(name === \"right-stick\") {\r\n\t\t\twindow.joyconJS.onRightJoystickPressed(pressed);\r\n\t\t}\r\n\r\n\t\tif(name === \"home\") {\r\n\t\t\twindow.joyconJS.onHome(pressed);\r\n\t\t}\r\n\t}\r\n\r\n\trenderMacros() {\r\n\t\tif(!this.macroPlayer.state.loadConcluded) return (<b> Loading </b>);\r\n\r\n\t\tlet selected = this.macroPlayer.state.selectedMacro;\r\n\r\n\t\tlet data = this.macroPlayer.getAllMacroData();\r\n\r\n\t\tlet index = -1;\r\n\r\n\t\treturn data.map((entry) => {\r\n\t\t\t\tindex++;\r\n\r\n\t\t\t\tvar isSelected = selected === index;\r\n\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<MacroButton key = {\"macro_\" + index.toString()} index = {index}\r\n\t\t\t\t\t\tselected = {isSelected} name = {entry.name} src = {entry.icon}\r\n\t\t\t\t\t\tclickHandler = {this.selectMacro}/>\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t);\r\n\t}\r\n\r\n\trenderParameters() {\r\n\t\tif(!this.macroPlayer.state.loadConcluded) return (<b> Loading </b>);\r\n\r\n\t\tlet data = this.macroPlayer.getCurrentMacroData();\r\n\r\n\t\treturn (\r\n\t\t\t<ParameterInput key = {\"macroParams\"}\r\n\t\t\t\tmacro = {data.name} parameters = {data.parameters}\r\n\t\t\t\teventHandler = {this.parameterChange}/>\r\n\t\t);\r\n\t}\r\n\r\n\trenderInfo() {\r\n\t\tlet data = this.macroPlayer.getCurrentMacroData();\r\n\t\tlet name = data.name;\r\n\t\tlet info = data.info;\r\n\r\n\t\treturn (\r\n\t\t\t<div id = \"Info\">\r\n\t\t\t\t<button className = \"info-button\" id = \"InfoButton\"\r\n\t\t\t\t\tonMouseDown  = {e => this.onButtonEvent(\"info\", true)}\r\n\t\t\t\t\tonTouchStart = {e => this.onButtonEvent(\"info\", true)}>\r\n\t\t\t\t\tInfo\r\n\t\t\t\t</button>\r\n\t\t\t\t<InfoOverlay show = {this.state.displayInfo}\r\n\t\t\t\t\ttitle = {name} sections = {info}\r\n\t\t\t\t\tonMouseDown  = {e => this.onButtonEvent(\"info\", false)}\r\n\t\t\t\t\tonTouchStart = {e => this.onButtonEvent(\"info\", false)}/>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst pressed = this.keyLogger.renderPressed();\r\n\t\tconst logging = this.keyLogger.renderLogged();\r\n\r\n\t\tconst macros = this.renderMacros();\r\n\t\tconst parameters = this.renderParameters();\r\n\t\tconst info = this.renderInfo();\r\n\r\n\t\tconst current = this.macroPlayer.state.playState;\r\n\r\n\t\treturn (\r\n\t\t\t<div className = \"App\" style = {{backgroundImage: \"url(./images/background.png)\"}}>\r\n\t\t\t\t<div className = \"App-header\">\r\n\t\t\t\t\t<img className = \"icon\" src = \"./images/macro_app_icon.png\" alt = \"AppIcon\"/>\r\n\t\t\t\t\t<b className = \"App-title\"\r\n\t\t\t\t\t\tstyle = {{color: \"black\"}}> POKÉMACROS </b>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div id = \"body\">\r\n\t\t\t\t\t<div id = \"Macros\">\r\n\t\t\t\t\t\t{macros}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div id = \"Parameters\">\r\n\t\t\t\t\t\t{parameters}\r\n\t\t\t\t\t\t{info}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div id = \"Tracker\">\r\n\t\t\t\t\t\t<ProgressBar key = \"progressbar\" percentage = {this.state.macroProgress} />\r\n\t\t\t\t\t\t<div id = \"KeyLogging\">\r\n\t\t\t\t\t\t\t{pressed}\r\n\t\t\t\t\t\t\t{logging}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div id = \"PlayerButtons\">\r\n\t\t\t\t\t\t<PlayerButton id = \"ResetButton\" selected = {current === MacroStates.INACTIVE} name = \"Reset\"\r\n\t\t\t\t\t\t\tsrc = \"./images/reset_icon.png\" clickHandler = {e => this.onButtonEvent(\"reset\")}/>\r\n\t\t\t\t\t\t<PlayerButton id = \"PlayButton\" selected = {current === MacroStates.PLAYING} name = \"Play\"\r\n\t\t\t\t\t\t\tsrc = \"./images/play_icon.png\" clickHandler = {e => this.onButtonEvent(\"play\")}/>\r\n\t\t\t\t\t\t<PlayerButton id = \"PauseButton\" selected = {current === MacroStates.PAUSED} name = \"Pause\"\r\n\t\t\t\t\t\t\tsrc = \"./images/pause_icon.png\" clickHandler = {e => this.onButtonEvent(\"pause\")}/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport './index.css';\r\n\r\nReactDOM.render(\r\n  <App />,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}